(this.webpackJsonpmy_page_frontend=this.webpackJsonpmy_page_frontend||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),i=a(33),n=a.n(i),l=(a(44),a(45),a(46),a(19)),r=a(39),o=a(0),d=s.a.createContext(),u=Object(r.a)(),j=function(e){var t=e.children,a=s.a.useState(!0),c=Object(l.a)(a,2),i=c[0],n=c[1],r=s.a.useState(!1),j=Object(l.a)(r,2),h=j[0],m=j[1];return u.on("connect",(function(){m(!0)})),u.on("disconnect",(function(){m(!1)})),Object(o.jsx)(d.Provider,{value:{getDarkMode:i,setDarkMode:n,isSocketConnected:h},children:t})};function h(e){var t=e.props,a=s.a.useContext(d).getDarkMode,c=t.switchPosition,i=t.switchCallback,n=a?"dark":"light",l=c?"50%":"0%";return Object(o.jsx)("div",{className:"Switch ".concat(n),onClick:i,children:Object(o.jsx)("div",{className:"Switch-thumb",style:{left:l}})})}a(52);function m(){var e=s.a.useContext(d),t=e.getDarkMode,a=e.setDarkMode,c=t?"dark":"light",i={switchPosition:t,switchCallback:function(){a((function(e){return!e}))}};return Object(o.jsxs)("div",{className:"Header ".concat(c),children:[Object(o.jsx)("div",{className:"Header-switch",children:Object(o.jsx)(h,{props:i})}),Object(o.jsx)("div",{className:"Header-switchLabel",children:"Dark mode"})]})}var x=a(25),p=a(2),b=(a(53),a.p+"static/media/fuel_canister.03fd969a.svg"),v=a.p+"static/media/gamepad.b51cff24.svg",f=a.p+"static/media/streaming.ae753636.svg";function g(){var e=s.a.useContext(d).getDarkMode?"dark":"light";return Object(o.jsxs)("div",{className:"Home-grid",children:[Object(o.jsx)(x.b,{to:"/fuel",children:Object(o.jsx)("img",{src:b,className:"Home-item ".concat(e),alt:"fuelImage"})}),Object(o.jsx)("img",{src:v,className:"Home-item ".concat(e),alt:"gamepad"}),Object(o.jsx)(x.b,{to:"/streams",children:Object(o.jsx)("img",{src:f,className:"Home-item ".concat(e),alt:"streaming"})})]})}a(58),a(59);function O(e){var t=e.props,a=s.a.useContext(d).getDarkMode?"dark":"light",c=t.validityState[0]?"valid":"invalid",i=Object(l.a)(t.valueState,2),n=i[0],r=i[1];return Object(o.jsx)("input",{className:"SmallInput ".concat(a," ").concat(c),placeholder:t.placeholder,value:n,onChange:function(e){!function(e){var a=e.target.value;"regex"in t?t.regex.test(a)&&r(a):r(a)}(e)},onFocus:t.onClick})}function S(){var e=s.a.useContext(d).getDarkMode?"dark":"light",t=s.a.useState(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],n={lapTimeMin:s.a.useState(""),lapTimeS:s.a.useState(""),lapTimeMS:s.a.useState(""),fuelPerLap:s.a.useState(""),raceLength:s.a.useState(""),fuelPer100:s.a.useState(""),distance:s.a.useState(""),result:s.a.useState("")},r={lapTime:s.a.useState(!0),fuelPerLap:s.a.useState(!0),raceLength:s.a.useState(!0),fuelPer100:s.a.useState(!0),distance:s.a.useState(!0)},u={valueState:n.lapTimeMin,validityState:r.lapTime,placeholder:"min",onClick:function(){r.lapTime[1](!0)},regex:/^\d{0,2}$/},j={valueState:n.lapTimeS,validityState:r.lapTime,placeholder:"s",onClick:function(){r.lapTime[1](!0)},regex:/^[0-5]?[0-9]?$/},h={valueState:n.lapTimeMS,validityState:r.lapTime,placeholder:"ms",onClick:function(){r.lapTime[1](!0)},regex:/^[0-5]?[0-9]?$/},m={valueState:n.fuelPerLap,validityState:r.fuelPerLap,placeholder:"l",onClick:function(){r.fuelPerLap[1](!0)},regex:/^(\d{0,2}|\d{1,2}\.\d?)$/},x={valueState:n.raceLength,validityState:r.raceLength,placeholder:"min",onClick:function(){r.raceLength[1](!0)},regex:/^\d{0,4}$/},p={valueState:n.fuelPer100,validityState:r.fuelPer100,placeholder:"l",onClick:function(){r.fuelPer100[1](!0)},regex:/^(\d{0,2}|\d{1,2}\.\d?)$/},b={valueState:n.distance,validityState:r.distance,placeholder:"km",onClick:function(){r.distance[1](!0)},regex:/^\d{0,4}$/};function v(e){i(!0);var t=Object(l.a)(n.result,2),a=t[0],c=t[1],s=a.substring(0,a.length-2);isNaN(s)?c((s=0)+" l"):s*=1,f({valueGap:e>s?1:-1,timeGap:500/Math.abs(s-e),currentValue:s,targetValue:e})}function f(e){var t=n.result[1];e.currentValue!==e.targetValue?setTimeout((function(){e.currentValue+=e.valueGap,t(e.currentValue+" l"),f(e)}),e.timeGap):i(!1)}return Object(o.jsxs)("div",{className:"Fuel-grid",children:[Object(o.jsxs)("div",{className:"Fuel-category-grid x0 y0",children:[Object(o.jsx)("div",{className:"x0 y0 align-right",children:"Lap time"}),Object(o.jsx)("div",{className:"x1 y0",children:Object(o.jsx)(O,{props:u})}),Object(o.jsx)("div",{className:"x2 y0",children:Object(o.jsx)(O,{props:j})}),Object(o.jsx)("div",{className:"x3 y0",children:Object(o.jsx)(O,{props:h})}),Object(o.jsx)("div",{className:"x0 y1 align-right",children:"Fuel per lap"}),Object(o.jsx)("div",{className:"x1 y1",children:Object(o.jsx)(O,{props:m})}),Object(o.jsx)("div",{className:"x0 y2 align-right",children:"Race length"}),Object(o.jsx)("div",{className:"x1 y2",children:Object(o.jsx)(O,{props:x})}),Object(o.jsx)("div",{className:"x03 y3",children:Object(o.jsx)("div",{className:"button ".concat(e),onClick:function(){if(!c){var e=1*n.lapTimeMin[0]*6e4;e+=1*n.lapTimeS[0]*1e3,e+=1*n.lapTimeMS[0];var t=1*n.fuelPerLap[0],a=6e4*n.raceLength[0],s=[];if(0===e&&s.push(r.lapTime[1]),0===t&&s.push(r.fuelPerLap[1]),0===a&&s.push(r.raceLength[1]),s.length>0)s.forEach((function(e){e(!1)}));else{var i=t*(a/e);v(i=Math.ceil(i))}}},children:"Calculate race fuel"})})]}),Object(o.jsxs)("div",{className:"Fuel-category-grid x1 y0",children:[Object(o.jsx)("div",{className:"x0 y0 align-right",children:"Fuel per 100 km"}),Object(o.jsx)("div",{className:"x1 y0",children:Object(o.jsx)(O,{props:p})}),Object(o.jsx)("div",{className:"x0 y1 align-right",children:"Distance"}),Object(o.jsx)("div",{className:"x1 y1",children:Object(o.jsx)(O,{props:b})}),Object(o.jsx)("div",{className:"x01 y2",children:Object(o.jsx)("div",{className:"button ".concat(e),onClick:function(){if(!c){var e=1*n.fuelPer100[0],t=1*n.distance[0],a=[];if(0===e&&a.push(r.fuelPer100[1]),0===t&&a.push(r.distance[1]),a.length>0)a.forEach((function(e){e(!1)}));else{var s=e*(t/100);v(s=Math.ceil(s))}}},children:"Calculate road fuel"})})]}),Object(o.jsx)("div",{className:"Fuel-result x01 y1",children:n.result[0]})]})}a(60);function N(){var e=s.a.useContext(d),t=e.getDarkMode,a=e.isSocketConnected,c=t?"dark":"light",i=a?0:"No service";return s.a.useEffect((function(){a&&fetch(window.location.protocol+"//"+window.location.host+"/api/streams").then((function(e){return e.json()})).then((function(e){return console.log("success")}),(function(e){return console.log("fail")}))}),[a]),Object(o.jsxs)("div",{className:"Streams-grid",children:[Object(o.jsx)("div",{className:"Streams-header",children:"Streams"}),Object(o.jsx)("div",{className:"Streams-separator ".concat(c)}),Object(o.jsx)("div",{className:"button ".concat(c),children:"Start stream"}),Object(o.jsxs)("div",{className:"Streams-available",children:["Available streams: ",i]}),Object(o.jsx)("div",{className:"Streams-available-grid"})]})}function k(){return Object(o.jsx)(x.a,{children:Object(o.jsxs)(p.c,{children:[Object(o.jsx)(p.a,{exact:!0,path:"/",children:Object(o.jsx)(g,{})}),Object(o.jsx)(p.a,{exact:!0,path:"/fuel",children:Object(o.jsx)(S,{})}),Object(o.jsx)(p.a,{exact:!0,path:"/streams",children:Object(o.jsx)(N,{})})]})})}var y=function(){var e=s.a.useContext(d).getDarkMode?"dark":"light";return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m,{}),Object(o.jsx)("div",{className:"App-content ".concat(e),children:Object(o.jsx)(k,{})})]})};n.a.render(Object(o.jsx)(j,{children:Object(o.jsx)(y,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.7802b391.chunk.js.map