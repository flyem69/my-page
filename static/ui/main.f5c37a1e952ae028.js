(self.webpackChunkui=self.webpackChunkui||[]).push([[179],{607:(Or,Qn,Jn)=>{"use strict";var $={};function Y(t){return"function"==typeof t}function F(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}Jn.r($),Jn.d($,{Decoder:()=>zf,Encoder:()=>JN,PacketType:()=>we,protocol:()=>QN});const P=F(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function w(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class T{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof P?o.errors:[o]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const o of i)try{O(o)}catch(s){e=null!=e?e:[],s instanceof P?e=[...e,...s.errors]:e.push(s)}}if(e)throw new P(e)}}add(e){var n;if(e&&e!==this)if(this.closed)O(e);else{if(e instanceof T){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&w(n,e)}remove(e){const{_teardowns:n}=this;n&&w(n,e),e instanceof T&&e._removeParent(this)}}T.EMPTY=(()=>{const t=new T;return t.closed=!0,t})();const A=T.EMPTY;function k(t){return t instanceof T||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function O(t){Y(t)?t():t.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},h={setTimeout(...t){const{delegate:e}=h;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=h;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function C(t){h.setTimeout(()=>{const{onUnhandledError:e}=M;if(!e)throw t;e(t)})}function _(){}const D=v("C",void 0,void 0);function v(t,e,n){return{kind:t,value:e,error:n}}let p=null;function d(t){if(M.useDeprecatedSynchronousErrorHandling){const e=!p;if(e&&(p={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=p;if(p=null,n)throw r}}else t()}class f extends T{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,k(e)&&e.add(this)):this.destination=Q}static create(e,n,r){return new N(e,n,r)}next(e){this.isStopped?V(function m(t){return v("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?V(function E(t){return v("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?V(D,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const b=Function.prototype.bind;function R(t,e){return b.call(t,e)}class x{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){j(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){j(r)}else j(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){j(n)}}}class N extends f{constructor(e,n,r){let i;if(super(),Y(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&M.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&R(e.next,o),error:e.error&&R(e.error,o),complete:e.complete&&R(e.complete,o)}):i=e}this.destination=new x(i)}}function j(t){M.useDeprecatedSynchronousErrorHandling?function l(t){M.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=t)}(t):C(t)}function V(t,e){const{onStoppedNotification:n}=M;n&&h.setTimeout(()=>n(t,e))}const Q={closed:!0,next:_,error:function B(t){throw t},complete:_},J="function"==typeof Symbol&&Symbol.observable||"@@observable";function te(t){return t}let ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Ts(t){return t&&t instanceof f||function Ce(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}(t)&&k(t)}(n)?n:new N(n,r,i);return d(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=oo(r))((i,o)=>{const s=new N({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[J](){return this}pipe(...n){return function Ae(t){return 0===t.length?te:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=oo(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function oo(t){var e;return null!==(e=null!=t?t:M.Promise)&&void 0!==e?e:Promise}const xr=F(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vt=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Xt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xr}next(n){d(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){d(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){d(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?A:(o.push(n),new T(()=>w(o,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Xt(e,n),t})();class Xt extends Vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:A}}function ii(t){return Y(null==t?void 0:t.lift)}function qe(t){return e=>{if(ii(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function He(t,e,n,r,i){return new hn(t,e,n,r,i)}class hn extends f{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Me(t,e){return qe((n,r)=>{let i=0;n.subscribe(He(r,o=>{r.next(t.call(e,o,i++))}))})}function Fr(t){return this instanceof Fr?(this.v=t,this):new Fr(t)}function ND(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(S){r[S]&&(i[S]=function(I){return new Promise(function(L,H){o.push([S,I,L,H])>1||a(S,I)})})}function a(S,I){try{!function c(S){S.value instanceof Fr?Promise.resolve(S.value.v).then(u,g):y(o[0][2],S)}(r[S](I))}catch(L){y(o[0][3],L)}}function u(S){a("next",S)}function g(S){a("throw",S)}function y(S,I){S(I),o.shift(),o.length&&a(o[0][0],o[0][1])}}function FD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function As(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}const ch=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function uh(t){return Y(null==t?void 0:t.then)}function lh(t){return Y(t[J])}function dh(t){return Symbol.asyncIterator&&Y(null==t?void 0:t[Symbol.asyncIterator])}function fh(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hh=function VD(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ph(t){return Y(null==t?void 0:t[hh])}function gh(t){return ND(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Fr(n.read());if(i)return yield Fr(void 0);yield yield Fr(r)}}finally{n.releaseLock()}})}function mh(t){return Y(null==t?void 0:t.getReader)}function In(t){if(t instanceof ue)return t;if(null!=t){if(lh(t))return function jD(t){return new ue(e=>{const n=t[J]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ch(t))return function BD(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(uh(t))return function UD(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,C)})}(t);if(dh(t))return yh(t);if(ph(t))return function HD(t){return new ue(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(mh(t))return function $D(t){return yh(gh(t))}(t)}throw fh(t)}function yh(t){return new ue(e=>{(function GD(t,e){var n,r,i,o;return function _t(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(g){try{u(r.next(g))}catch(y){s(y)}}function c(g){try{u(r.throw(g))}catch(y){s(y)}}function u(g){g.done?o(g.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(g.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=FD(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Kn(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ft(t,e,n=1/0){return Y(e)?ft((r,i)=>Me((o,s)=>e(r,o,i,s))(In(t(r,i))),n):("number"==typeof e&&(n=e),qe((r,i)=>function zD(t,e,n,r,i,o,s,a){const c=[];let u=0,g=0,y=!1;const S=()=>{y&&!c.length&&!u&&e.complete()},I=H=>u<r?L(H):c.push(H),L=H=>{o&&e.next(H),u++;let W=!1;In(n(H,g++)).subscribe(He(e,z=>{null==i||i(z),o?I(z):e.next(z)},()=>{W=!0},void 0,()=>{if(W)try{for(u--;c.length&&u<r;){const z=c.shift();s?Kn(e,s,()=>L(z)):L(z)}S()}catch(z){e.error(z)}}))};return t.subscribe(He(e,I,()=>{y=!0,S()})),()=>{null==a||a()}}(r,i,t,n)))}function co(t=1/0){return ft(te,t)}const Yn=new ue(t=>t.complete());function Vc(t){return t[t.length-1]}function vh(t){return Y(Vc(t))?t.pop():void 0}function uo(t){return function qD(t){return t&&Y(t.schedule)}(Vc(t))?t.pop():void 0}function _h(t,e=0){return qe((n,r)=>{n.subscribe(He(r,i=>Kn(r,t,()=>r.next(i),e),()=>Kn(r,t,()=>r.complete(),e),i=>Kn(r,t,()=>r.error(i),e)))})}function Ch(t,e=0){return qe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bh(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Kn(n,e,()=>{const r=t[Symbol.asyncIterator]();Kn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ht(t,e){return e?function ew(t,e){if(null!=t){if(lh(t))return function JD(t,e){return In(t).pipe(Ch(e),_h(e))}(t,e);if(ch(t))return function YD(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(uh(t))return function KD(t,e){return In(t).pipe(Ch(e),_h(e))}(t,e);if(dh(t))return bh(t,e);if(ph(t))return function ZD(t,e){return new ue(n=>{let r;return Kn(n,e,()=>{r=t[hh](),Kn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Y(null==r?void 0:r.return)&&r.return()})}(t,e);if(mh(t))return function XD(t,e){return bh(gh(t),e)}(t,e)}throw fh(t)}(t,e):In(t)}function Ps(t){return t<=0?()=>Yn:qe((e,n)=>{let r=0;e.subscribe(He(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function jc(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Ps(1)).subscribe(()=>t())}function Ne(t){for(let e in t)if(t[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function Bc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Uc(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rw=Ne({__forward_ref__:Ne});function Ve(t){return t.__forward_ref__=Ve,t.toString=function(){return Pe(this())},t}function pe(t){return Dh(t)?t():t}function Dh(t){return"function"==typeof t&&t.hasOwnProperty(rw)&&t.__forward_ref__===Ve}class Se extends Error{constructor(e,n){super(function Hc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function Mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}function Rs(t,e){const n=e?` in ${e}`:"";throw new Se(-201,`No provider for ${Mt(t)} found${n}`)}function Bt(t,e){null==t&&function $e(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function fe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function $c(t){return wh(t,Os)||wh(t,Sh)}function wh(t,e){return t.hasOwnProperty(e)?t[e]:null}function Eh(t){return t&&(t.hasOwnProperty(Gc)||t.hasOwnProperty(lw))?t[Gc]:null}const Os=Ne({\u0275prov:Ne}),Gc=Ne({\u0275inj:Ne}),Sh=Ne({ngInjectableDef:Ne}),lw=Ne({ngInjectorDef:Ne});var ce=(()=>((ce=ce||{})[ce.Default=0]="Default",ce[ce.Host=1]="Host",ce[ce.Self=2]="Self",ce[ce.SkipSelf=4]="SkipSelf",ce[ce.Optional=8]="Optional",ce))();let zc;function fr(t){const e=zc;return zc=t,e}function Th(t,e,n){const r=$c(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ce.Optional?null:void 0!==e?e:void Rs(Pe(t),"Injector")}function hr(t){return{toString:t}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),An=(()=>{return(t=An||(An={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",An;var t})();const fw="undefined"!=typeof globalThis&&globalThis,hw="undefined"!=typeof window&&window,pw="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ke=fw||"undefined"!=typeof global&&global||hw||pw,si={},Fe=[],xs=Ne({\u0275cmp:Ne}),Wc=Ne({\u0275dir:Ne}),qc=Ne({\u0275pipe:Ne}),Mh=Ne({\u0275mod:Ne}),Xn=Ne({\u0275fac:Ne}),lo=Ne({__NG_ELEMENT_ID__:Ne});let gw=0;function Ht(t){return hr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Fe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||An.Emulated,id:"c",styles:t.styles||Fe,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,o=t.features,s=t.pipes;return r.id+=gw++,r.inputs=Rh(t.inputs,n),r.outputs=Rh(t.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ih):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ah):null,r})}function Ih(t){return Ct(t)||function pr(t){return t[Wc]||null}(t)}function Ah(t){return function Lr(t){return t[qc]||null}(t)}const Ph={};function en(t){return hr(()=>{const e={type:t.type,bootstrap:t.bootstrap||Fe,declarations:t.declarations||Fe,imports:t.imports||Fe,exports:t.exports||Fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ph[t.id]=t.type),e})}function Rh(t,e){if(null==t)return si;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ie=Ht;function Nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ct(t){return t[xs]||null}function tn(t,e){const n=t[Mh]||null;if(!n&&!0===e)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return n}function Pn(t){return Array.isArray(t)&&"object"==typeof t[1]}function mn(t){return Array.isArray(t)&&!0===t[1]}function Kc(t){return 0!=(8&t.flags)}function Ls(t){return 2==(2&t.flags)}function Vs(t){return 1==(1&t.flags)}function yn(t){return null!==t.template}function bw(t){return 0!=(512&t[2])}function Ur(t,e){return t.hasOwnProperty(Xn)?t[Xn]:null}class Ew{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function rn(){return xh}function xh(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tw),Sw}function Sw(){const t=Nh(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===si)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Tw(t,e,n,r){const i=Nh(t)||function Mw(t,e){return t[kh]=e}(t,{previous:si,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Ew(c&&c.currentValue,e,s===si),t[r]=e}rn.ngInherit=!0;const kh="__ngSimpleChanges__";function Nh(t){return t[kh]||null}let tu;function Qe(t){return!!t.listen}const Fh={createRenderer:(t,e)=>function nu(){return void 0!==tu?tu:"undefined"!=typeof document?document:void 0}()};function tt(t){for(;Array.isArray(t);)t=t[0];return t}function js(t,e){return tt(e[t])}function sn(t,e){return tt(e[t.index])}function ru(t,e){return t.data[e]}function di(t,e){return t[e]}function Gt(t,e){const n=e[t];return Pn(n)?n:n[0]}function Lh(t){return 4==(4&t[2])}function iu(t){return 128==(128&t[2])}function gr(t,e){return null==e?null:t[e]}function Vh(t){t[18]=0}function ou(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ae={lFrame:Wh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jh(){return ae.bindingsEnabled}function q(){return ae.lFrame.lView}function Te(){return ae.lFrame.tView}function su(t){return ae.lFrame.contextLView=t,t[8]}function at(){let t=Bh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bh(){return ae.lFrame.currentTNode}function Rn(t,e){const n=ae.lFrame;n.currentTNode=t,n.isParent=e}function au(){return ae.lFrame.isParent}function cu(){ae.lFrame.isParent=!1}function Bs(){return ae.isInCheckNoChangesMode}function Us(t){ae.isInCheckNoChangesMode=t}function It(){const t=ae.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fi(){return ae.lFrame.bindingIndex++}function Gw(t,e){const n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,uu(e)}function uu(t){ae.lFrame.currentDirectiveIndex=t}function $h(){return ae.lFrame.currentQueryIndex}function du(t){ae.lFrame.currentQueryIndex=t}function Ww(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Gh(t,e,n){if(n&ce.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ce.Host||(i=Ww(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ae.lFrame=zh();return r.currentTNode=e,r.lView=t,!0}function Hs(t){const e=zh(),n=t[1];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zh(){const t=ae.lFrame,e=null===t?null:t.child;return null===e?Wh(t):e}function Wh(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function qh(){const t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Qh=qh;function $s(){const t=qh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function At(){return ae.lFrame.selectedIndex}function mr(t){ae.lFrame.selectedIndex=t}function Je(){const t=ae.lFrame;return ru(t.tView,t.selectedIndex)}function Gs(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:g}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-n,c),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=g&&(t.destroyHooks||(t.destroyHooks=[])).push(n,g)}}function zs(t,e,n){Jh(t,e,3,n)}function Ws(t,e,n,r){(3&t[2])===n&&Jh(t,e,n,r)}function fu(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Jh(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[18]+=65536),(a<o||-1==o)&&(t0(t,n,e,c),t[18]=(4294901760&t[18])+c+2),c++}function t0(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class mo{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function qs(t,e,n){const r=Qe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];pu(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Kh(t){return 3===t||4===t||6===t}function pu(t){return 64===t.charCodeAt(0)}function Qs(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Yh(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Yh(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Zh(t){return-1!==t}function hi(t){return 32767&t}function pi(t,e){let n=function a0(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let gu=!0;function Js(t){const e=gu;return gu=t,e}let c0=0;function vo(t,e){const n=yu(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,mu(r.data,t),mu(e,null),mu(r.blueprint,null));const i=Ks(t,e),o=t.injectorIndex;if(Zh(i)){const s=hi(i),a=pi(i,e),c=a[1].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function mu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yu(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ks(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ys(t,e,n){!function u0(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(lo)&&(r=n[lo]),null==r&&(r=n[lo]=c0++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function tp(t,e,n){if(n&ce.Optional)return t;Rs(e,"NodeInjector")}function np(t,e,n,r){if(n&ce.Optional&&void 0===r&&(r=null),0==(n&(ce.Self|ce.Host))){const i=t[9],o=fr(void 0);try{return i?i.get(e,r,n&ce.Optional):Th(e,r,n&ce.Optional)}finally{fr(o)}}return tp(r,e,n)}function rp(t,e,n,r=ce.Default,i){if(null!==t){const o=function h0(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(lo)?t[lo]:void 0;return"number"==typeof e?e>=0?255&e:d0:e}(n);if("function"==typeof o){if(!Gh(e,t,r))return r&ce.Host?tp(i,n,r):np(e,n,r,i);try{const s=o(r);if(null!=s||r&ce.Optional)return s;Rs(n)}finally{Qh()}}else if("number"==typeof o){let s=null,a=yu(t,e),c=-1,u=r&ce.Host?e[16][6]:null;for((-1===a||r&ce.SkipSelf)&&(c=-1===a?Ks(t,e):e[a+8],-1!==c&&sp(r,!1)?(s=e[1],a=hi(c),e=pi(c,e)):a=-1);-1!==a;){const g=e[1];if(op(o,a,g.data)){const y=f0(a,e,n,s,r,u);if(y!==ip)return y}c=e[a+8],-1!==c&&sp(r,e[1].data[a+8]===u)&&op(o,a,e)?(s=g,a=hi(c),e=pi(c,e)):a=-1}}}return np(e,n,r,i)}const ip={};function d0(){return new gi(at(),q())}function f0(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],g=Zs(a,s,n,null==r?Ls(a)&&gu:r!=s&&0!=(3&a.type),i&ce.Host&&o===a);return null!==g?_o(e,s,g,a):ip}function Zs(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,g=o>>20,S=i?a+g:t.directiveEnd;for(let I=r?a:a+g;I<S;I++){const L=s[I];if(I<c&&n===L||I>=c&&L.type===n)return I}if(i){const I=s[c];if(I&&yn(I)&&I.type===n)return c}return null}function _o(t,e,n,r){let i=t[n];const o=e.data;if(function n0(t){return t instanceof mo}(i)){const s=i;s.resolving&&function iw(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Se(-200,`Circular dependency in DI detected for ${t}${n}`)}(Mt(o[n]));const a=Js(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?fr(s.injectImpl):null;Gh(t,r,ce.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function e0(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=xh(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&fr(c),Js(a),s.resolving=!1,Qh()}}return i}function op(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function sp(t,e){return!(t&ce.Self||t&ce.Host&&e)}class gi{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rp(this._tNode,this._lView,e,r,n)}}function vu(t){return Dh(t)?()=>{const e=vu(pe(t));return e&&e()}:Ur(t)}const yi="__parameters__";function _i(t,e,n){return hr(()=>{const r=function _u(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,g){const y=c.hasOwnProperty(yi)?c[yi]:Object.defineProperty(c,yi,{value:[]})[yi];for(;y.length<=g;)y.push(null);return(y[g]=y[g]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ye{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=fe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const g0=new ye("AnalyzeForEntryComponents");function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),an(r,e)):e!==t&&e.push(r)}return e}function On(t,e){t.forEach(n=>Array.isArray(n)?On(n,e):e(n))}function cp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zt(t,e,n){let r=Ci(t,e);return r>=0?t[1|r]=n:(r=~r,function v0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bu(t,e){const n=Ci(t,e);if(n>=0)return t[1|n]}function Ci(t,e){return function dp(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Eo={},wu="__NG_DI_FLAG__",ta="ngTempTokenPath",S0=/\n/gm,hp="__source",M0=Ne({provide:String,useValue:Ne});let So;function pp(t){const e=So;return So=t,e}function I0(t,e=ce.Default){if(void 0===So)throw new Se(203,"");return null===So?Th(t,void 0,e):So.get(t,e&ce.Optional?null:void 0,e)}function ee(t,e=ce.Default){return(function dw(){return zc}()||I0)(pe(t),e)}const A0=ee;function Eu(t){const e=[];for(let n=0;n<t.length;n++){const r=pe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Se(900,"");let i,o=ce.Default;for(let s=0;s<r.length;s++){const a=r[s],c=P0(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ee(i,o))}else e.push(ee(r))}return e}function To(t,e){return t[wu]=e,t.prototype[wu]=e,t}function P0(t){return t[wu]}const na=To(_i("Inject",t=>({token:t})),-1),vr=To(_i("Optional"),8),Mo=To(_i("SkipSelf"),4);class wp{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function _r(t){return t instanceof wp?t.changingThisBreaksApplicationSecurity:t}const Z0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,X0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var nt=(()=>((nt=nt||{})[nt.NONE=0]="NONE",nt[nt.HTML=1]="HTML",nt[nt.STYLE=2]="STYLE",nt[nt.SCRIPT=3]="SCRIPT",nt[nt.URL=4]="URL",nt[nt.RESOURCE_URL=5]="RESOURCE_URL",nt))();function Ou(t){const e=function Ro(){const t=q();return t&&t[12]}();return e?e.sanitize(nt.URL,t)||"":function Ao(t,e){const n=function Q0(t){return t instanceof wp&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?_r(t):function sa(t){return(t=String(t)).match(Z0)||t.match(X0)?t:"unsafe:"+t}(le(t))}const xp="__ngContext__";function wt(t,e){t[xp]=e}function ku(t){const e=function Oo(t){return t[xp]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Fu(t){return t.ngOriginalError}function DE(t,...e){t.error(...e)}class xo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function bE(t){return t&&t.ngErrorLogger||DE}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fu(e);for(;n&&Fu(n);)n=Fu(n);return n||null}}const OE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ke))();function kn(t){return t instanceof Function?t():t}var Wt=(()=>((Wt=Wt||{})[Wt.Important=1]="Important",Wt[Wt.DashCase=2]="DashCase",Wt))();function Vu(t,e){return undefined(t,e)}function ko(t){const e=t[3];return mn(e)?e[3]:e}function ju(t){return Hp(t[13])}function Bu(t){return Hp(t[4])}function Hp(t){for(;null!==t&&!mn(t);)t=t[4];return t}function Ei(t,e,n,r,i){if(null!=r){let o,s=!1;mn(r)?o=r:Pn(r)&&(s=!0,r=r[0]);const a=tt(r);0===t&&null!==n?null==i?Qp(e,n,a):Hr(e,n,a,i||null,!0):1===t&&null!==n?Hr(e,n,a,i||null,!0):2===t?function tg(t,e,n){const r=ca(t,e);r&&function WE(t,e,n,r){Qe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function JE(t,e,n,r,i){const o=n[7];o!==tt(n)&&Ei(e,t,r,o,i);for(let a=10;a<n.length;a++){const c=n[a];No(c[1],c,t,e,r,o)}}(e,t,o,n,i)}}function Hu(t,e,n){if(Qe(t))return t.createElement(e,n);{const r=null!==n?function Rw(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function Gp(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ou(i,-1)),n.splice(r,1)}function $u(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Gp(i,r),e>0&&(t[n-1][4]=r[4]);const o=Xs(t,10+e);!function VE(t,e){No(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function zp(t,e){if(!(256&e[2])){const n=e[11];Qe(n)&&n.destroyNode&&No(t,e,n,3,null,null),function UE(t){let e=t[13];if(!e)return Gu(t[1],t);for(;e;){let n=null;if(Pn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Pn(e)&&Gu(e[1],e),e=e[3];null===e&&(e=t),Pn(e)&&Gu(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gu(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function zE(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof mo)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function GE(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(e):tt(e[s]),c=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?a.removeEventListener(n[o],c,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(t,e),1===e[1].type&&Qe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&mn(e[3])){n!==e[3]&&Gp(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Wp(t,e,n){return function qp(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===An.None||i===An.Emulated)return null}return sn(r,n)}(t,e.parent,n)}function Hr(t,e,n,r,i){Qe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Qp(t,e,n){Qe(t)?t.appendChild(e,n):e.appendChild(n)}function Jp(t,e,n,r,i){null!==r?Hr(t,e,n,r,i):Qp(t,e,n)}function ca(t,e){return Qe(t)?t.parentNode(e):e.parentNode}let Zp=function Yp(t,e,n){return 40&t.type?sn(t,n):null};function ua(t,e,n,r){const i=Wp(t,r,e),o=e[11],a=function Kp(t,e,n){return Zp(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Jp(o,i,n[c],a,!1);else Jp(o,i,n,a,!1)}function la(t,e){if(null!==e){const n=e.type;if(3&n)return sn(e,t);if(4&n)return Wu(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return la(t,r);{const i=t[e.index];return mn(i)?Wu(-1,i):tt(i)}}if(32&n)return Vu(e,t)()||tt(t[e.index]);{const r=eg(t,e);return null!==r?Array.isArray(r)?r[0]:la(ko(t[16]),r):la(t,e.next)}}return null}function eg(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Wu(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return la(r,i)}return e[7]}function qu(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&wt(tt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)qu(t,e,n.child,r,i,o,!1),Ei(e,t,i,a,o);else if(32&c){const u=Vu(n,r);let g;for(;g=u();)Ei(e,t,i,g,o);Ei(e,t,i,a,o)}else 16&c?ng(t,e,r,n,i,o):Ei(e,t,i,a,o);n=s?n.projectionNext:n.next}}function No(t,e,n,r,i,o){qu(n,r,t.firstChild,e,i,o,!1)}function ng(t,e,n,r,i,o){const s=n[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Ei(e,t,i,c[u],o);else qu(t,e,c,s[3],i,o,!0)}function rg(t,e,n){Qe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qu(t,e,n){Qe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ig(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const og="ng-template";function YE(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ig(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function sg(t){return 4===t.type&&t.value!==og}function ZE(t,e,n){return e===(4!==t.type||n?t.value:og)}function XE(t,e,n){let r=4;const i=t.attrs||[],o=function nS(t){for(let e=0;e<t.length;e++)if(Kh(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!ZE(t,c,n)||""===c&&1===e.length){if(vn(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!YE(t.attrs,u,n)){if(vn(r))return!1;s=!0}continue}const y=eS(8&r?"class":c,i,sg(t),n);if(-1===y){if(vn(r))return!1;s=!0;continue}if(""!==u){let S;S=y>o?"":i[y+1].toLowerCase();const I=8&r?S:null;if(I&&-1!==ig(I,u,0)||2&r&&u!==S){if(vn(r))return!1;s=!0}}}}else{if(!s&&!vn(r)&&!vn(c))return!1;if(s&&vn(c))continue;s=!1,r=c|1&r}}return vn(r)||s}function vn(t){return 0==(1&t)}function eS(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function rS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ag(t,e,n=!1){for(let r=0;r<e.length;r++)if(XE(t,e[r],n))return!0;return!1}function cg(t,e){return t?":not("+e.trim()+")":e}function oS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!vn(s)&&(e+=cg(o,i),i=""),r=s,o=o||!vn(r);n++}return""!==i&&(e+=cg(o,i)),e}const de={};function Be(t){ug(Te(),q(),At()+t,Bs())}function ug(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&zs(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Ws(e,o,0,n)}mr(n)}function da(t,e){return t<<17|e<<2}function _n(t){return t>>17&32767}function Ju(t){return 2|t}function nr(t){return(131068&t)>>2}function Ku(t,e){return-131069&t|e<<2}function Yu(t){return 1|t}function Cg(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=t.data[o];du(i),s.contentQueries(2,e[o],o)}}}function Fo(t,e,n,r,i,o,s,a,c,u){const g=e.blueprint.slice();return g[0]=i,g[2]=140|r,Vh(g),g[3]=g[15]=t,g[8]=n,g[10]=s||t&&t[10],g[11]=a||t&&t[11],g[12]=c||t&&t[12]||null,g[9]=u||t&&t[9]||null,g[6]=o,g[16]=2==e.type?t[16]:g,g}function Si(t,e,n,r,i){let o=t.data[e];if(null===o)o=function sl(t,e,n,r,i){const o=Bh(),s=au(),c=t.data[e]=function wS(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(t,e,n,r,i),function $w(){return ae.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function go(){const t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Rn(o,!0),o}function Ti(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Lo(t,e,n){Hs(e);try{const r=t.viewQuery;null!==r&&gl(1,r,n);const i=t.template;null!==i&&bg(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cg(t,e),t.staticViewQueries&&gl(2,t.viewQuery,n);const o=t.components;null!==o&&function CS(t,e){for(let n=0;n<e.length;n++)US(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,$s()}}function Mi(t,e,n,r){const i=e[2];if(256==(256&i))return;Hs(e);const o=Bs();try{Vh(e),function Uh(t){return ae.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&bg(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const u=t.preOrderCheckHooks;null!==u&&zs(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Ws(e,u,0,null),fu(e,0)}if(function jS(t){for(let e=ju(t);null!==e;e=Bu(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&ou(o,1),i[2]|=1024}}}(e),function VS(t){for(let e=ju(t);null!==e;e=Bu(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];iu(r)&&Mi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Cg(t,e),!o)if(s){const u=t.contentCheckHooks;null!==u&&zs(e,u)}else{const u=t.contentHooks;null!==u&&Ws(e,u,1),fu(e,1)}!function vS(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)mr(~i);else{const o=i,s=n[++r],a=n[++r];Gw(s,o),a(2,e[o])}}}finally{mr(-1)}}(t,e);const a=t.components;null!==a&&function _S(t,e){for(let n=0;n<e.length;n++)BS(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&gl(2,c,r),!o)if(s){const u=t.viewCheckHooks;null!==u&&zs(e,u)}else{const u=t.viewHooks;null!==u&&Ws(e,u,2),fu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ou(e[3],-1))}finally{$s()}}function bS(t,e,n,r){const i=e[10],o=!Bs(),s=Lh(e);try{o&&!s&&i.begin&&i.begin(),s&&Lo(t,e,r),Mi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function bg(t,e,n,r,i){const o=At(),s=2&r;try{mr(-1),s&&e.length>20&&ug(t,e,20,Bs()),n(r,i)}finally{mr(o)}}function Dg(t,e,n){if(Kc(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function al(t,e,n){!jh()||(function PS(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||vo(n,e),wt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],u=yn(c);u&&NS(e,n,c);const g=_o(e,t,a,n);wt(g,e),null!==s&&FS(0,a-i,g,c,0,s),u&&(Gt(n.index,e)[8]=g)}}(t,e,n,sn(n,e)),128==(128&n.flags)&&function RS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function zw(){return ae.lFrame.currentDirectiveIndex}();try{mr(s);for(let c=r;c<i;c++){const u=t.data[c],g=e[c];uu(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Pg(u,g)}}finally{mr(-1),uu(a)}}(t,e,n))}function cl(t,e,n=sn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function wg(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=pa(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function pa(t,e,n,r,i,o,s,a,c,u){const g=20+r,y=g+i,S=function DS(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:de);return n}(g,y),I="function"==typeof u?u():u;return S[1]={type:t,blueprint:S,template:n,queries:null,viewQuery:a,declTNode:e,data:S.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1}}function Tg(t,e,n,r){const i=Fg(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Lg(t).push(r,i.length-1))}function Mg(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ul(t,e,n,r){let i=!1;if(jh()){const o=function OS(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ag(n,s.selectors,!1)&&(i||(i=[]),Ys(vo(n,e),t,s.type),yn(s)?(Rg(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Og(n,t.data.length,o.length);for(let g=0;g<o.length;g++){const y=o[g];y.providersResolver&&y.providersResolver(y)}let a=!1,c=!1,u=Ti(t,e,o.length,null);for(let g=0;g<o.length;g++){const y=o[g];n.mergedAttrs=Qs(n.mergedAttrs,y.hostAttrs),xg(t,n,e,u,y),kS(u,y,s),null!==y.contentQueries&&(n.flags|=8),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=128);const S=y.type.prototype;!a&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!c&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),c=!0),u++}!function ES(t,e){const r=e.directiveEnd,i=t.data,o=e.attrs,s=[];let a=null,c=null;for(let u=e.directiveStart;u<r;u++){const g=i[u],y=g.inputs,S=null===o||sg(e)?null:LS(y,o);s.push(S),a=Mg(y,u,a),c=Mg(g.outputs,u,c)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=c}(t,n)}s&&function xS(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new Se(-301,!1);r.push(e[i],o)}}}(n,r,s)}return n.mergedAttrs=Qs(n.mergedAttrs,n.attrs),i}function Ag(t,e,n,r,i,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~e.index;(function AS(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(r,i,s)}}function Pg(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Rg(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function kS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yn(e)&&(n[""]=t)}}function Og(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xg(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ur(i.type)),s=new mo(o,yn(i),null);t.blueprint[r]=s,n[r]=s,Ag(t,e,0,r,Ti(t,n,i.hostVars,de),i)}function NS(t,e,n){const r=sn(e,t),i=wg(n),o=t[10],s=ga(t,Fo(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Nn(t,e,n,r,i,o){const s=sn(t,e);!function ll(t,e,n,r,i,o,s){if(null==o)Qe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?le(o):s(o,r||"",i);Qe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}function FS(t,e,n,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const u=s[c++],g=s[c++],y=s[c++];null!==a?r.setInput(n,y,u,g):n[g]=y}}}function LS(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function kg(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function BS(t,e){const n=Gt(e,t);if(iu(n)){const r=n[1];80&n[2]?Mi(r,n,r.template,n[8]):n[5]>0&&dl(n)}}function dl(t){for(let r=ju(t);null!==r;r=Bu(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Mi(s,o,s.template,o[8])}else o[5]>0&&dl(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Gt(n[r],t);iu(i)&&i[5]>0&&dl(i)}}function US(t,e){const n=Gt(e,t),r=n[1];(function HS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Lo(r,n,n[8])}function ga(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function fl(t){for(;t;){t[2]|=64;const e=ko(t);if(bw(t)&&!e)return t;t=e}return null}function pl(t,e,n){const r=e[10];r.begin&&r.begin();try{Mi(t,e,t.template,n)}catch(i){throw jg(e,i),i}finally{r.end&&r.end()}}function Ng(t){!function hl(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ku(n),i=r[1];bS(i,r,i.template,n)}}(t[8])}function gl(t,e,n){du(0),e(t,n)}const WS=(()=>Promise.resolve(null))();function Fg(t){return t[7]||(t[7]=[])}function Lg(t){return t.cleanup||(t.cleanup=[])}function jg(t,e){const n=t[9],r=n?n.get(xo,null):null;r&&r.handleError(e)}function Bg(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function rr(t,e,n){const r=js(e,t);!function $p(t,e,n){Qe(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ma(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Uc(i,a):2==o&&(r=Uc(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ml=new ye("INJECTOR",-1);class Ug{get(e,n=Eo){if(n===Eo){const r=new Error(`NullInjectorError: No provider for ${Pe(e)}!`);throw r.name="NullInjectorError",r}return n}}const yl=new ye("Set Injector scope."),Vo={},JS={};let vl;function Hg(){return void 0===vl&&(vl=new Ug),vl}function $g(t,e=null,n=null,r){const i=Gg(t,e,n,r);return i._resolveInjectorDefTypes(),i}function Gg(t,e=null,n=null,r){return new KS(t,n,e||Hg(),r)}class KS{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&On(n,a=>this.processProvider(a,e,n)),On([e],a=>this.processInjectorType(a,[],o)),this.records.set(ml,Ii(void 0,this));const s=this.records.get(yl);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:Pe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Eo,r=ce.Default){this.assertNotDestroyed();const i=pp(this),o=fr(void 0);try{if(!(r&ce.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function iT(t){return"function"==typeof t||"object"==typeof t&&t instanceof ye}(e)&&$c(e);a=c&&this.injectableDefInScope(c)?Ii(_l(e),Vo):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ce.Self?Hg():this.parent).get(e,n=r&ce.Optional&&n===Eo?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[ta]=s[ta]||[]).unshift(Pe(e)),i)throw s;return function R0(t,e,n,r){const i=t[ta];throw e[hp]&&i.unshift(e[hp]),t.message=function O0(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Pe(e);if(Array.isArray(e))i=e.map(Pe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(S0,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ta]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{fr(o),pp(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Pe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processInjectorType(e,n,r){if(!(e=pe(e)))return!1;let i=Eh(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=Eh(o)),null==i)return!1;if(null!=i.imports&&!a){let g;r.push(s);try{On(i.imports,y=>{this.processInjectorType(y,n,r)&&(void 0===g&&(g=[]),g.push(y))})}finally{}if(void 0!==g)for(let y=0;y<g.length;y++){const{ngModule:S,providers:I}=g[y];On(I,L=>this.processProvider(L,S,I||Fe))}}this.injectorDefTypes.add(s);const c=Ur(s)||(()=>new s);this.records.set(s,Ii(c,Vo));const u=i.providers;if(null!=u&&!a){const g=e;On(u,y=>this.processProvider(y,g,u))}return void 0!==o&&void 0!==e.providers}processProvider(e,n,r){let i=Ai(e=pe(e))?e:pe(e&&e.provide);const o=function ZS(t,e,n){return Wg(t)?Ii(void 0,t.useValue):Ii(zg(t),Vo)}(e);if(Ai(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Ii(void 0,Vo,!0),s.factory=()=>Eu(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,n){return n.value===Vo&&(n.value=JS,n.value=n.factory()),"object"==typeof n.value&&n.value&&function rT(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=pe(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function _l(t){const e=$c(t),n=null!==e?e.factory:Ur(t);if(null!==n)return n;if(t instanceof ye)throw new Se(204,!1);if(t instanceof Function)return function YS(t){const e=t.length;if(e>0)throw function wo(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Se(204,!1);const n=function cw(t){const e=t&&(t[Os]||t[Sh]);if(e){const n=function uw(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Se(204,!1)}function zg(t,e,n){let r;if(Ai(t)){const i=pe(t);return Ur(i)||_l(i)}if(Wg(t))r=()=>pe(t.useValue);else if(function eT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Eu(t.deps||[]));else if(function XS(t){return!(!t||!t.useExisting)}(t))r=()=>ee(pe(t.useExisting));else{const i=pe(t&&(t.useClass||t.provide));if(!function nT(t){return!!t.deps}(t))return Ur(i)||_l(i);r=()=>new i(...Eu(t.deps))}return r}function Ii(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Wg(t){return null!==t&&"object"==typeof t&&M0 in t}function Ai(t){return"function"==typeof t}let Et=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return $g({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return $g({name:o},n.parent,n.providers,o)}}}return t.THROW_IF_NOT_FOUND=Eo,t.NULL=new Ug,t.\u0275prov=fe({token:t,providedIn:"any",factory:()=>ee(ml)}),t.__NG_ELEMENT_ID__=-1,t})();function fT(t,e){Gs(ku(t)[1],at())}function Re(t){let e=function im(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Se(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Dl(t.inputs),s.declaredInputs=Dl(t.declaredInputs),s.outputs=Dl(t.outputs);const a=i.hostBindings;a&&mT(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&pT(t,c),u&&gT(t,u),Bc(t.inputs,i.inputs),Bc(t.declaredInputs,i.declaredInputs),Bc(t.outputs,i.outputs),yn(i)&&i.data.animation){const g=t.data;g.animation=(g.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Re&&(n=!1)}}e=Object.getPrototypeOf(e)}!function hT(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qs(i.hostAttrs,n=Qs(n,i.hostAttrs))}}(r)}function Dl(t){return t===si?{}:t===Fe?[]:t}function pT(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function gT(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function mT(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let ya=null;function Pi(){if(!ya){const t=ke.Symbol;if(t&&t.iterator)ya=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ya=r)}}}return ya}function jo(t){return!!wl(t)&&(Array.isArray(t)||!(t instanceof Map)&&Pi()in t)}function wl(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fn(t,e,n){return t[e]=n}function St(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function $r(t,e,n,r){const i=St(t,e,n);return St(t,e+1,r)||i}function Ln(t,e,n,r){const i=q();return St(i,fi(),e)&&(Te(),Nn(Je(),i,t,e,n,r)),Ln}function Bi(t,e,n,r,i,o,s,a){const c=q(),u=Te(),g=t+20,y=u.firstCreatePass?function wT(t,e,n,r,i,o,s,a,c){const u=e.consts,g=Si(e,t,4,s||null,gr(u,a));ul(e,n,g,gr(u,c)),Gs(e,g);const y=g.tViews=pa(2,g,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,g),y.queries=e.queries.embeddedTView(g)),g}(g,u,c,e,n,r,i,o,s):u.data[g];Rn(y,!1);const S=c[11].createComment("");ua(u,c,S,y),wt(S,c),ga(c,c[g]=kg(S,c,S,y)),Vs(y)&&al(u,c,y),null!=s&&cl(c,y,a)}function _a(t){return di(function Hw(){return ae.lFrame.contextLView}(),20+t)}function G(t,e=ce.Default){const n=q();return null===n?ee(t,e):rp(at(),n,pe(t),e)}function Il(){throw new Error("invalid")}function Ie(t,e,n){const r=q();return St(r,fi(),e)&&function qt(t,e,n,r,i,o,s,a){const c=sn(e,n);let g,u=e.inputs;!a&&null!=u&&(g=u[r])?(Bg(t,n,g,r,i),Ls(e)&&function TS(t,e){const n=Gt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function SS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Qe(o)?o.setProperty(c,r,i):pu(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}(Te(),Je(),r,t,e,r[11],n,!1),Ie}function Al(t,e,n,r,i){const s=i?"class":"style";Bg(t,n,e.inputs[s],s,r)}function Oe(t,e,n,r){const i=q(),o=Te(),s=20+t,a=i[11],c=i[s]=Hu(a,e,function Xw(){return ae.lFrame.currentNamespace}()),u=o.firstCreatePass?function GT(t,e,n,r,i,o,s){const a=e.consts,u=Si(e,t,2,i,gr(a,o));return ul(e,n,u,gr(a,s)),null!==u.attrs&&ma(u,u.attrs,!1),null!==u.mergedAttrs&&ma(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Rn(u,!0);const g=u.mergedAttrs;null!==g&&qs(a,c,g);const y=u.classes;null!==y&&Qu(a,c,y);const S=u.styles;return null!==S&&rg(a,c,S),64!=(64&u.flags)&&ua(o,i,c,u),0===function Lw(){return ae.lFrame.elementDepthCount}()&&wt(c,i),function Vw(){ae.lFrame.elementDepthCount++}(),Vs(u)&&(al(o,i,u),Dg(o,u,i)),null!==r&&cl(i,u),Oe}function Le(){let t=at();au()?cu():(t=t.parent,Rn(t,!1));const e=t;!function jw(){ae.lFrame.elementDepthCount--}();const n=Te();return n.firstCreatePass&&(Gs(n,t),Kc(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function o0(t){return 0!=(16&t.flags)}(e)&&Al(n,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function s0(t){return 0!=(32&t.flags)}(e)&&Al(n,e,q(),e.stylesWithoutHost,!1),Le}function Ke(t,e,n,r){return Oe(t,e,n,r),Le(),Ke}function Pl(t,e,n){const r=q(),i=Te(),o=t+20,s=i.firstCreatePass?function zT(t,e,n,r,i){const o=e.consts,s=gr(o,r),a=Si(e,t,8,"ng-container",s);return null!==s&&ma(a,s,!0),ul(e,n,a,gr(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Rn(s,!0);const a=r[o]=r[11].createComment("");return ua(i,r,a,s),wt(a,r),Vs(s)&&(al(i,r,s),Dg(i,s,r)),null!=n&&cl(r,s),Pl}function Rl(){let t=at();const e=Te();return au()?cu():(t=t.parent,Rn(t,!1)),e.firstCreatePass&&(Gs(e,t),Kc(t)&&e.queries.elementEnd(t)),Rl}function Ol(t,e,n){return Pl(t,e,n),Rl(),Ol}function xl(){return q()}function Uo(t){return!!t&&"function"==typeof t.then}function Em(t){return!!t&&"function"==typeof t.subscribe}const kl=Em;function ut(t,e,n,r){const i=q(),o=Te(),s=at();return function Tm(t,e,n,r,i,o,s,a){const c=Vs(r),g=t.firstCreatePass&&Lg(t),y=e[8],S=Fg(e);let I=!0;if(3&r.type||a){const W=sn(r,e),z=a?a(W):W,U=S.length,X=a?se=>a(tt(se[r.index])):r.index;if(Qe(n)){let se=null;if(!a&&c&&(se=function WT(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==se)(se.__ngLastListenerFn__||se).__ngNextListenerFn__=o,se.__ngLastListenerFn__=o,I=!1;else{o=Nl(r,e,y,o,!1);const Ee=n.listen(z,i,o);S.push(o,Ee),g&&g.push(i,X,U,U+1)}}else o=Nl(r,e,y,o,!0),z.addEventListener(i,o,s),S.push(o),g&&g.push(i,X,U,s)}else o=Nl(r,e,y,o,!1);const L=r.outputs;let H;if(I&&null!==L&&(H=L[i])){const W=H.length;if(W)for(let z=0;z<W;z+=2){const Zt=e[H[z]][H[z+1]].subscribe(o),ri=S.length;S.push(o,Zt),g&&g.push(i,r.index,ri,-(ri+1))}}}(o,i,i[11],s,t,e,!!n,r),ut}function Mm(t,e,n,r){try{return!1!==n(r)}catch(i){return jg(t,i),!1}}function Nl(t,e,n,r,i){return function o(s){if(s===Function)return r;const a=2&t.flags?Gt(t.index,e):e;0==(32&e[2])&&fl(a);let c=Mm(e,0,r,s),u=o.__ngNextListenerFn__;for(;u;)c=Mm(e,0,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function ba(t=1){return function qw(t){return(ae.lFrame.contextLView=function Qw(t,e){for(;t>0;)e=e[15],t--;return e}(t,ae.lFrame.contextLView))[8]}(t)}function Lm(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?_n(o):nr(o),c=!1;for(;0!==a&&(!1===c||s);){const g=t[a+1];ZT(t[a],e)&&(c=!0,t[a+1]=r?Yu(g):Ju(g)),a=r?_n(g):nr(g)}c&&(t[n+1]=r?Ju(o):Yu(o))}function ZT(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ci(t,e)>=0}function Da(t,e){return function bn(t,e,n,r){const i=q(),o=Te(),s=function tr(t){const e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function Wm(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[At()],s=function zm(t,e){return e>=t.expandoStartIndex}(t,n);(function Km(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function aM(t,e,n,r){const i=function lu(t){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ho(n=Ll(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ll(i,t,e,n,r),null===o){let c=function cM(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==nr(r))return t[_n(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Ll(null,t,e,c[1],r),c=Ho(c,e.attrs,r),function uM(t,e,n,r){t[_n(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function lM(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ho(r,t[o].hostAttrs,n);return Ho(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function KT(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_n(s),c=nr(s);t[r]=n;let g,u=!1;if(Array.isArray(n)){const y=n;g=y[1],(null===g||Ci(y,g)>0)&&(u=!0)}else g=n;if(i)if(0!==c){const S=_n(t[a+1]);t[r+1]=da(S,a),0!==S&&(t[S+1]=Ku(t[S+1],r)),t[a+1]=function cS(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=da(a,0),0!==a&&(t[a+1]=Ku(t[a+1],r)),a=r;else t[r+1]=da(c,0),0===a?a=r:t[c+1]=Ku(t[c+1],r),c=r;u&&(t[r+1]=Ju(t[r+1])),Lm(t,g,r,!0),Lm(t,g,r,!1),function YT(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ci(o,e)>=0&&(n[r+1]=Yu(n[r+1]))}(e,g,t,r,o),s=da(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==de&&St(i,s,e)&&function Qm(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];wa(function fg(t){return 1==(1&t)}(u)?Jm(c,e,n,i,nr(u),s):void 0)||(wa(o)||function dg(t){return 2==(2&t)}(u)&&(o=Jm(c,null,n,i,a,s)),function KE(t,e,n,r,i){const o=Qe(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Wt.DashCase;if(null==i)o?t.removeStyle(n,r,s):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=Wt.Important),o?t.setStyle(n,r,i,s):n.style.setProperty(r,i,a?"important":"")}}}(r,s,js(At(),n),i,o))}(o,o.data[At()],i,i[11],t,i[s+1]=function hM(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Pe(_r(t)))),t}(e,n),r,s)}(t,e,null,!0),Da}function Ll(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ho(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ho(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zt(t,s,!!n||e[++o]))}return void 0===t?null:t}function Jm(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),g=u?c[1]:c,y=null===g;let S=n[i+1];S===de&&(S=y?Fe:void 0);let I=y?bu(S,r):g===r?S:void 0;if(u&&!wa(I)&&(I=bu(c,r)),wa(I)&&(a=I,s))return a;const L=t[i+1];i=s?_n(L):nr(L)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=bu(c,r))}return a}function wa(t){return void 0!==t}function wn(t,e=""){const n=q(),r=Te(),i=t+20,o=r.firstCreatePass?Si(r,i,1,e,null):r.data[i],s=n[i]=function Uu(t,e){return Qe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);ua(r,n,s,o),Rn(o,!1)}function $o(t){return Vl("",t,""),$o}function Vl(t,e,n){const r=q(),i=function Oi(t,e,n,r){return St(t,fi(),n)?e+le(n)+r:de}(r,t,e,n);return i!==de&&rr(r,At(),i),Vl}const Ea="en-US";let vy=Ea;function Ul(t,e,n,r,i){if(t=pe(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ul(t[o],e,n,r,i);else{const o=Te(),s=q();let a=Ai(t)?t:pe(t.provide),c=zg(t);const u=at(),g=1048575&u.providerIndexes,y=u.directiveStart,S=u.providerIndexes>>20;if(Ai(t)||!t.multi){const I=new mo(c,i,G),L=$l(a,e,i?g:g+S,y);-1===L?(Ys(vo(u,s),o,a),Hl(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(I),s.push(I)):(n[L]=I,s[L]=I)}else{const I=$l(a,e,g+S,y),L=$l(a,e,g,g+S),H=I>=0&&n[I],W=L>=0&&n[L];if(i&&!W||!i&&!H){Ys(vo(u,s),o,a);const z=function OI(t,e,n,r,i){const o=new mo(t,n,G);return o.multi=[],o.index=e,o.componentProviders=0,Hy(o,i,r&&!n),o}(i?RI:PI,n.length,i,r,c);!i&&W&&(n[L].providerFactory=z),Hl(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(z),s.push(z)}else Hl(o,t,I>-1?I:L,Hy(n[i?L:I],c,!i&&r));!i&&r&&W&&n[L].componentProviders++}}}function Hl(t,e,n,r){const i=Ai(e),o=function tT(t){return!!t.useClass}(e);if(i||o){const c=(o?pe(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const g=u.indexOf(n);-1===g?u.push(n,[r,c]):u[g+1].push(r,c)}else u.push(n,c)}}}function Hy(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $l(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function PI(t,e,n,r){return Gl(this.multi,[])}function RI(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=_o(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),Gl(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Gl(i,o);return o}function Gl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ze(t,e=[]){return n=>{n.providersResolver=(r,i)=>function AI(t,e,n){const r=Te();if(r.firstCreatePass){const i=yn(t);Ul(n,r.data,r.blueprint,i,!0),Ul(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class $y{}class NI{resolveComponentFactory(e){throw function kI(t){const e=Error(`No component factory found for ${Pe(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Qo=(()=>{class t{}return t.NULL=new NI,t})();function FI(){return zi(at(),q())}function zi(t,e){return new Qt(sn(t,e))}let Qt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=FI,t})();function LI(t){return t instanceof Qt?t.nativeElement:t}class zy{}let ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function jI(){const t=q(),n=Gt(at().index,t);return function VI(t){return t[11]}(Pn(n)?n:t)}(),t})(),BI=(()=>{class t{}return t.\u0275prov=fe({token:t,providedIn:"root",factory:()=>null}),t})();class Jo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const UI=new Jo("13.2.5"),zl={};function Aa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(tt(o)),mn(o))for(let a=10;a<o.length;a++){const c=o[a],u=c[1].firstChild;null!==u&&Aa(c[1],c,u,r)}const s=n.type;if(8&s)Aa(t,e,n.child,r);else if(32&s){const a=Vu(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=eg(e,n);if(Array.isArray(a))r.push(...a);else{const c=ko(e[16]);Aa(c[1],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ko{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Aa(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(mn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&($u(e,r),Xs(n,r))}this._attachedToViewContainer=!1}zp(this._lView[1],this._lView)}onDestroy(e){Tg(this._lView[1],this._lView,null,e)}markForCheck(){fl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function GS(t,e,n){Us(!0);try{pl(t,e,n)}finally{Us(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Se(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BE(t,e){No(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Se(902,"");this._appRef=e}}class HI extends Ko{constructor(e){super(e),this._view=e}detectChanges(){Ng(this._view)}checkNoChanges(){!function zS(t){Us(!0);try{Ng(t)}finally{Us(!1)}}(this._view)}get context(){return null}}class Wy extends Qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ct(e);return new Wl(n,this.ngModule)}}function qy(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Wl extends $y{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function sS(t){return t.map(oS).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return qy(this.componentDef.inputs)}get outputs(){return qy(this.componentDef.outputs)}create(e,n,r,i){const o=(i=i||this.ngModule)?function GI(t,e){return{get:(n,r,i)=>{const o=t.get(n,zl,i);return o!==zl||r===zl?o:e.get(n,r,i)}}}(e,i.injector):e,s=o.get(zy,Fh),a=o.get(BI,null),c=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",g=r?function Sg(t,e,n){if(Qe(t))return t.selectRootElement(e,n===An.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,r,this.componentDef.encapsulation):Hu(s.createRenderer(null,this.componentDef),u,function $I(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),y=this.componentDef.onPush?576:528,S=function rm(t,e){return{components:[],scheduler:t||OE,clean:WS,playerHandler:e||null,flags:0}}(),I=pa(0,null,null,1,0,null,null,null,null,null),L=Fo(null,I,S,y,null,null,s,c,a,o);let H,W;Hs(L);try{const z=function tm(t,e,n,r,i,o){const s=n[1];n[20]=t;const c=Si(s,20,2,"#host",null),u=c.mergedAttrs=e.hostAttrs;null!==u&&(ma(c,u,!0),null!==t&&(qs(i,t,u),null!==c.classes&&Qu(i,t,c.classes),null!==c.styles&&rg(i,t,c.styles)));const g=r.createRenderer(t,e),y=Fo(n,wg(e),null,e.onPush?64:16,n[20],c,r,g,o||null,null);return s.firstCreatePass&&(Ys(vo(c,n),s,e.type),Rg(s,c),Og(c,n.length,1)),ga(n,y),n[20]=y}(g,this.componentDef,L,s,c);if(g)if(r)qs(c,g,["ng-version",UI.full]);else{const{attrs:U,classes:X}=function aS(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vn(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);U&&qs(c,g,U),X&&X.length>0&&Qu(c,g,X.join(" "))}if(W=ru(I,20),void 0!==n){const U=W.projection=[];for(let X=0;X<this.ngContentSelectors.length;X++){const se=n[X];U.push(null!=se?Array.from(se):null)}}H=function nm(t,e,n,r,i){const o=n[1],s=function IS(t,e,n){const r=at();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xg(t,r,e,Ti(t,e,1,null),n));const i=_o(e,t,r.directiveStart,r);wt(i,e);const o=sn(r,e);return o&&wt(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(c=>c(s,e)),e.contentQueries){const c=at();e.contentQueries(1,s,c.directiveStart)}const a=at();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(mr(a.index),Ag(n[1],a,0,a.directiveStart,a.directiveEnd,e),Pg(e,s)),s}(z,this.componentDef,L,S,[fT]),Lo(I,L,null)}finally{$s()}return new WI(this.componentType,H,zi(W,L),L,W)}}class WI extends class xI{}{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new HI(i),this.componentType=e}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class or{}class Qy{}const Wi=new Map;class Yy extends or{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wy(this);const r=tn(e);this._bootstrapComponents=kn(r.bootstrap),this._r3Injector=Gg(e,n,[{provide:or,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],Pe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Et.THROW_IF_NOT_FOUND,r=ce.Default){return e===Et||e===or||e===ml?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ql extends Qy{constructor(e){super(),this.moduleType=e,null!==tn(e)&&function QI(t){const e=new Set;!function n(r){const i=tn(r,!0),o=i.id;null!==o&&(function Jy(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Pe(e)} vs ${Pe(e.name)}`)}(o,Wi.get(o),r),Wi.set(o,r));const s=kn(i.imports);for(const a of s)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new Yy(this.moduleType,e)}}function Ot(t,e,n,r){return ev(q(),It(),t,e,n,r)}function Ql(t,e,n,r,i){return function tv(t,e,n,r,i,o,s){const a=e+n;return $r(t,a,i,o)?Fn(t,a+2,s?r.call(s,i,o):r(i,o)):Yo(t,a+2)}(q(),It(),t,e,n,r,i)}function Xy(t,e,n,r,i,o){return function nv(t,e,n,r,i,o,s,a){const c=e+n;return function va(t,e,n,r,i){const o=$r(t,e,n,r);return St(t,e+2,i)||o}(t,c,i,o,s)?Fn(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Yo(t,c+3)}(q(),It(),t,e,n,r,i,o)}function Yo(t,e){const n=t[e];return n===de?void 0:n}function ev(t,e,n,r,i,o){const s=e+n;return St(t,s,i)?Fn(t,s+1,o?r.call(o,i):r(i)):Yo(t,s+1)}function gt(t,e){const n=Te();let r;const i=t+20;n.firstCreatePass?(r=function tA(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Ur(r.type)),s=fr(G);try{const a=Js(!1),c=o();return Js(a),function ET(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,q(),i,c),c}finally{fr(s)}}function mt(t,e,n){const r=t+20,i=q(),o=di(i,r);return function Zo(t,e){return t[1].data[e].pure}(i,r)?ev(i,It(),e,o.transform,n,o):o.transform(n)}function Jl(t){return e=>{setTimeout(t,void 0,e)}}const Ze=class sA extends Vt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,o,s;let a=e,c=n||(()=>null),u=r;if(e&&"object"==typeof e){const y=e;a=null===(i=y.next)||void 0===i?void 0:i.bind(y),c=null===(o=y.error)||void 0===o?void 0:o.bind(y),u=null===(s=y.complete)||void 0===s?void 0:s.bind(y)}this.__isAsync&&(c=Jl(c),a&&(a=Jl(a)),u&&(u=Jl(u)));const g=super.subscribe({next:a,error:c,complete:u});return e instanceof T&&e.add(g),g}};function aA(){return this._results[Pi()]()}class Kl{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Pi(),r=Kl.prototype;r[n]||(r[n]=aA)}get changes(){return this._changes||(this._changes=new Ze)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=an(e);(this._changesDetected=!function m0(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Bn=(()=>{class t{}return t.__NG_ELEMENT_ID__=lA,t})();const cA=Bn,uA=class extends cA{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Fo(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),Lo(n,r,e),new Ko(r)}};function lA(){return Pa(at(),q())}function Pa(t,e){return 4&t.type?new uA(e,t,zi(t,e)):null}let un=(()=>{class t{}return t.__NG_ELEMENT_ID__=dA,t})();function dA(){return av(at(),q())}const fA=un,ov=class extends fA{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return zi(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ks(this._hostTNode,this._hostLView);if(Zh(e)){const n=pi(e,this._hostLView),r=hi(e);return new gi(n[1].data[r+8],n)}return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=sv(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,o){const s=e&&!function Do(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.ngModuleRef}const c=s?e:new Wl(Ct(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const S=(s?u:this.parentInjector).get(or,null);S&&(o=S)}const g=c.create(u,i,void 0,o);return this.insert(g.hostView,a),g}insert(e,n){const r=e._lView,i=r[1];if(function Fw(t){return mn(t[3])}(r)){const g=this.indexOf(e);if(-1!==g)this.detach(g);else{const y=r[3],S=new ov(y,y[6],y[3]);S.detach(S.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function HE(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],cp(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function $E(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,s,o);const a=Wu(o,s),c=r[11],u=ca(c,s[7]);return null!==u&&function jE(t,e,n,r,i,o){r[0]=i,r[6]=e,No(t,r,n,1,i,o)}(i,s[6],c,r,u,a),e.attachToViewContainerRef(),cp(Yl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=sv(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=$u(this._lContainer,n);r&&(Xs(Yl(this._lContainer),n),zp(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=$u(this._lContainer,n);return r&&null!=Xs(Yl(this._lContainer),n)?new Ko(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function sv(t){return t[8]}function Yl(t){return t[8]||(t[8]=[])}function av(t,e){let n;const r=e[t.index];if(mn(r))n=r;else{let i;if(8&t.type)i=tt(r);else{const o=e[11];i=o.createComment("");const s=sn(t,e);Hr(o,ca(o,s),i,function qE(t,e){return Qe(t)?t.nextSibling(e):e.nextSibling}(o,s),!1)}e[t.index]=n=kg(r,e,i,t),ga(e,n)}return new ov(n,t,e)}class Zl{constructor(e){this.queryList=e,this.matches=null}clone(){return new Zl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Xl(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==fv(e,n).matches&&this.queries[n].setDirty()}}class cv{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class ed{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new ed(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class td{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new td(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,gA(n,o)),this.matchTNodeWithReadOption(e,n,Zs(n,e,o,!1,!1))}else r===Bn?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zs(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Qt||i===un||i===Bn&&4&n.type)this.addMatch(n.index,-2);else{const o=Zs(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function gA(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function yA(t,e,n,r){return-1===n?function mA(t,e){return 11&t.type?zi(t,e):4&t.type?Pa(t,e):null}(e,t):-2===n?function vA(t,e,n){return n===Qt?zi(e,t):n===Bn?Pa(e,t):n===un?av(e,t):void 0}(t,e,r):_o(t,t[1],n,e)}function uv(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:yA(e,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function nd(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=uv(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],g=e[-c];for(let y=10;y<g.length;y++){const S=g[y];S[17]===S[3]&&nd(S[1],S,u,r)}if(null!==g[9]){const y=g[9];for(let S=0;S<y.length;S++){const I=y[S];nd(I[1],I,u,r)}}}}}return r}function zr(t){const e=q(),n=Te(),r=$h();du(r+1);const i=fv(n,r);if(t.dirty&&Lh(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?nd(n,e,r,[]):uv(n,e,i,r);t.reset(o,LI),t.notifyOnChanges()}return!0}return!1}function Xo(t,e,n){const r=Te();r.firstCreatePass&&(function dv(t,e,n){null===t.queries&&(t.queries=new ed),t.queries.track(new td(e,n))}(r,new cv(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function lv(t,e,n){const r=new Kl(4==(4&n));Tg(t,e,r,r.destroy),null===e[19]&&(e[19]=new Xl),e[19].queries.push(new Zl(r))}(r,q(),e)}function Wr(){return function _A(t,e){return t[19].queries[e].queryList}(q(),$h())}function fv(t,e){return t.queries.getByIndex(e)}function Ra(t,e){return Pa(t,e)}function ka(...t){}const ud=new ye("Application Initializer");let ld=(()=>{class t{constructor(n){this.appInits=n,this.resolve=ka,this.reject=ka,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Uo(o))n.push(o);else if(kl(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(ee(ud,8))},t.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ts=new ye("AppId",{providedIn:"root",factory:function Av(){return`${dd()}${dd()}${dd()}`}});function dd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pv=new ye("Platform Initializer"),Na=new ye("Platform ID"),Rv=new ye("appBootstrapListener");let Ov=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();const Dr=new ye("LocaleId",{providedIn:"root",factory:()=>A0(Dr,ce.Optional|ce.SkipSelf)||function LA(){return"undefined"!=typeof $localize&&$localize.locale||Ea}()});class jA{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let xv=(()=>{class t{compileModuleSync(n){return new ql(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=kn(tn(n).declarations).reduce((s,a)=>{const c=Ct(a);return c&&s.push(new Wl(c)),s},[]);return new jA(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const UA=(()=>Promise.resolve(0))();function fd(t){"undefined"==typeof Zone?UA.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class yt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function HA(){let t=ke.requestAnimationFrame,e=ke.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function zA(t){const e=()=>{!function GA(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pd(t),t.isCheckStableRunning=!0,hd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return kv(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Nv(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return kv(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Nv(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,pd(t),hd(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,$A,ka,ka);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const $A={};function hd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function kv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nv(t){t._nesting--,hd(t)}class WA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ze,this.onMicrotaskEmpty=new Ze,this.onStable=new Ze,this.onError=new Ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let gd=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yt.assertNotInAngularZone(),fd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(ee(yt))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),Fv=(()=>{class t{constructor(){this._applications=new Map,md.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return md.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();class qA{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let En,md=new qA;const Lv=new ye("AllowMultipleToken");class Vv{constructor(e,n){this.name=e,this.token=n}}function jv(t,e,n=[]){const r=`Platform: ${e}`,i=new ye(r);return(o=[])=>{let s=Bv();if(!s||s.injector.get(Lv,!1))if(t)t(n.concat(o).concat({provide:i,useValue:!0}));else{const a=n.concat(o).concat({provide:i,useValue:!0},{provide:yl,useValue:"platform"});!function YA(t){if(En&&!En.destroyed&&!En.injector.get(Lv,!1))throw new Se(400,"");En=t.get(Uv);const e=t.get(Pv,null);e&&e.forEach(n=>n())}(Et.create({providers:a,name:r}))}return function ZA(t){const e=Bv();if(!e)throw new Se(401,"");return e}()}}function Bv(){return En&&!En.destroyed?En:null}let Uv=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function XA(t,e){let n;return n="noop"===t?new WA:("zone.js"===t?void 0:t)||new yt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:yt,useValue:a}];return a.run(()=>{const u=Et.create({providers:c,parent:this.injector,name:n.moduleType.name}),g=n.create(u),y=g.injector.get(xo,null);if(!y)throw new Se(402,"");return a.runOutsideAngular(()=>{const S=a.onError.subscribe({next:I=>{y.handleError(I)}});g.onDestroy(()=>{vd(this._modules,g),S.unsubscribe()})}),function eP(t,e,n){try{const r=n();return Uo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(y,a,()=>{const S=g.injector.get(ld);return S.runInitializers(),S.donePromise.then(()=>(function VM(t){Bt(t,"Expected localeId to be defined"),"string"==typeof t&&(vy=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Dr,Ea)||Ea),this._moduleDoBootstrap(g),g))})})}bootstrapModule(n,r=[]){const i=Hv({},r);return function JA(t,e,n){const r=new ql(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(yd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Se(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(ee(Et))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();function Hv(t,e){return Array.isArray(e)?e.reduce(Hv,t):Object.assign(Object.assign({},t),e)}let yd=(()=>{class t{constructor(n,r,i,o,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ue(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),c=new ue(u=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{yt.assertNotInAngularZone(),fd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{yt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});this.isStable=function tw(...t){const e=uo(t),n=function QD(t,e){return"number"==typeof Vc(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?In(r[0]):co(n)(ht(r,e)):Yn}(a,c.pipe(function nw(t={}){const{connector:e=(()=>new Vt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s=null,a=null,c=null,u=0,g=!1,y=!1;const S=()=>{null==a||a.unsubscribe(),a=null},I=()=>{S(),s=c=null,g=y=!1},L=()=>{const H=s;I(),null==H||H.unsubscribe()};return qe((H,W)=>{u++,!y&&!g&&S();const z=c=null!=c?c:e();W.add(()=>{u--,0===u&&!y&&!g&&(a=jc(L,i))}),z.subscribe(W),s||(s=new N({next:U=>z.next(U),error:U=>{y=!0,S(),a=jc(I,n,U),z.error(U)},complete:()=>{g=!0,S(),a=jc(I,r),z.complete()}}),ht(H).subscribe(s))})(o)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Se(405,"");let i;i=n instanceof $y?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function KA(t){return t.isBoundToModule}(i)?void 0:this._injector.get(or),a=i.create(Et.NULL,[],r||i.selector,o),c=a.location.nativeElement,u=a.injector.get(gd,null),g=u&&a.injector.get(Fv);return u&&g&&g.registerApplication(c,u),a.onDestroy(()=>{this.detachView(a.hostView),vd(this.components,a),g&&g.unregisterApplication(c)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Se(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;vd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Rv,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(ee(yt),ee(Et),ee(xo),ee(Qo),ee(ld))},t.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Gv=!0,Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=rP,t})();function rP(t){return function iP(t,e,n){if(Ls(t)&&!n){const r=Gt(t.index,e);return new Ko(r,r)}return 47&t.type?new Ko(e[16],e):null}(at(),q(),16==(16&t))}class Jv{constructor(){}supports(e){return jo(e)}create(e){return new lP(e)}}const uP=(t,e)=>e;class lP{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uP}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Yv(r,i,o)?n:r,a=Yv(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,g=c-i;if(u!=g){for(let S=0;S<u;S++){const I=S<o.length?o[S]:o[S]=0,L=I+S;g<=L&&L<u&&(o[S]=I+1)}o[s.previousIndex]=g-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!jo(e))throw new Se(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function DT(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Pi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new dP(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Kv),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dP{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fP{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Kv{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new fP,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yv(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Zv{constructor(){}supports(e){return e instanceof Map||wl(e)}create(){return new hP}}class hP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||wl(e)))throw new Se(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new pP(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class pP{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xv(){return new ja([new Jv])}let ja=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Xv()),deps:[[t,new Mo,new vr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Se(901,"")}}return t.\u0275prov=fe({token:t,providedIn:"root",factory:Xv}),t})();function e_(){return new ns([new Zv])}let ns=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||e_()),deps:[[t,new Mo,new vr]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Se(901,"")}}return t.\u0275prov=fe({token:t,providedIn:"root",factory:e_}),t})();const yP=jv(null,"core",[{provide:Na,useValue:"unknown"},{provide:Uv,deps:[Et]},{provide:Fv,deps:[]},{provide:Ov,deps:[]}]);let vP=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(ee(yd))},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({}),t})(),Ba=null;function Un(){return Ba}const Jt=new ye("DocumentToken");let Qr=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:function(){return function DP(){return ee(t_)}()},providedIn:"platform"}),t})();const wP=new ye("Location Initialized");let t_=(()=>{class t extends Qr{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Un().getBaseHref(this._doc)}onPopState(n){const r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){n_()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){n_()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(ee(Jt))},t.\u0275prov=fe({token:t,factory:function(){return function EP(){return new t_(ee(Jt))}()},providedIn:"platform"}),t})();function n_(){return!!window.history.pushState}function wd(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function r_(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function sr(t){return t&&"?"!==t[0]?"?"+t:t}let Qi=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:function(){return function SP(t){const e=ee(Jt).location;return new i_(ee(Qr),e&&e.origin||"")}()},providedIn:"root"}),t})();const Ed=new ye("appBaseHref");let i_=(()=>{class t extends Qi{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+sr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+sr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+sr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(ee(Qr),ee(Ed,8))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),TP=(()=>{class t extends Qi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=wd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+sr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+sr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(ee(Qr),ee(Ed,8))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),Sd=(()=>{class t{constructor(n,r){this._subject=new Ze,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=r_(o_(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+sr(r))}normalize(n){return t.stripTrailingSlash(function IP(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,o_(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=sr,t.joinWithSlash=wd,t.stripTrailingSlash=r_,t.\u0275fac=function(n){return new(n||t)(ee(Qi),ee(Qr))},t.\u0275prov=fe({token:t,factory:function(){return function MP(){return new Sd(ee(Qi),ee(Qr))}()},providedIn:"root"}),t})();function o_(t){return t.replace(/\/index.html$/,"")}function p_(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let Hn=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(jo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Pe(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(G(ja),G(ns),G(Qt),G(ir))},t.\u0275dir=ie({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),Nd=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new pR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){m_("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){m_("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(G(un),G(Bn))},t.\u0275dir=ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class pR{constructor(){this.$implicit=null,this.ngIf=null}}function m_(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Pe(e)}'.`)}let v_=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,o]=n.split(".");null!=(r=null!=r&&o?`${r}${o}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(n){return new(n||t)(G(Qt),G(ns),G(ir))},t.\u0275dir=ie({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();class _R{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class CR{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}onDestroy(e){}}const bR=new CR,DR=new _R;let $n=(()=>{class t{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Uo(n))return bR;if(Em(n))return DR;throw function Tn(t,e){return new Se(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(G(Fa,16))},t.\u0275pipe=Nt({name:"async",type:t,pure:!1}),t})(),jR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({}),t})();let $R=(()=>{class t{}return t.\u0275prov=fe({token:t,providedIn:"root",factory:()=>new GR(ee(Jt),window)}),t})();class GR{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function zR(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=b_(this.window.history)||b_(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function b_(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class D_{}class Bd extends class WR extends class bP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function CP(t){Ba||(Ba=t)}(new Bd)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function qR(){return os=os||document.querySelector("base"),os?os.getAttribute("href"):null}();return null==n?null:function QR(t){Ka=Ka||document.createElement("a"),Ka.setAttribute("href",t);const e=Ka.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){os=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return p_(document.cookie,e)}}let Ka,os=null;const w_=new ye("TRANSITION_ID"),KR=[{provide:ud,useFactory:function JR(t,e,n){return()=>{n.get(ld).donePromise.then(()=>{const r=Un(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[w_,Jt,Et],multi:!0}];class Ud{static init(){!function QA(t){md=t}(new Ud)}addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Un().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let YR=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();const Ya=new ye("EventManagerPlugins");let Za=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(ee(Ya),ee(yt))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();class E_{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Un().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let S_=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),ss=(()=>{class t extends S_{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(T_),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(T_))}}return t.\u0275fac=function(n){return new(n||t)(ee(Jt))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();function T_(t){Un().remove(t)}const Hd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$d=/%COMP%/g;function Xa(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Xa(t,i,n):(i=i.replace($d,t),n.push(i))}return n}function A_(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gd=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zd(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case An.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new rO(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case An.ShadowDom:return new iO(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Xa(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(ee(Za),ee(ss),ee(ts))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();class zd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Hd[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Hd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Hd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wt.DashCase|Wt.Important)?e.style.setProperty(n,r,i&Wt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,A_(r)):this.eventManager.addEventListener(e,n,A_(r))}}class rO extends zd{constructor(e,n,r,i){super(e),this.component=r;const o=Xa(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function eO(t){return"_ngcontent-%COMP%".replace($d,t)}(i+"-"+r.id),this.hostAttr=function tO(t){return"_nghost-%COMP%".replace($d,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class iO extends zd{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Xa(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let oO=(()=>{class t extends E_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(ee(Jt))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();const R_=["alt","control","meta","shift"],aO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O_={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let uO=(()=>{class t extends E_{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Un().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="";if(R_.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function lO(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&O_.hasOwnProperty(e)&&(e=O_[e]))}return aO[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),R_.forEach(o=>{o!=i&&cO[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{t.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(ee(Jt))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();const pO=jv(yP,"browser",[{provide:Na,useValue:"browser"},{provide:Pv,useValue:function dO(){Bd.makeCurrent(),Ud.init()},multi:!0},{provide:Jt,useFactory:function hO(){return function Ow(t){tu=t}(document),document},deps:[]}]),gO=[{provide:yl,useValue:"root"},{provide:xo,useFactory:function fO(){return new xo},deps:[]},{provide:Ya,useClass:oO,multi:!0,deps:[Jt,yt,Na]},{provide:Ya,useClass:uO,multi:!0,deps:[Jt]},{provide:Gd,useClass:Gd,deps:[Za,ss,ts]},{provide:zy,useExisting:Gd},{provide:S_,useExisting:ss},{provide:ss,useClass:ss,deps:[Jt]},{provide:gd,useClass:gd,deps:[yt]},{provide:Za,useClass:Za,deps:[Ya,yt]},{provide:D_,useClass:YR,deps:[]}];let mO=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:ts,useValue:n.appId},{provide:w_,useExisting:ts},KR]}}}return t.\u0275fac=function(n){return new(n||t)(ee(t,12))},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({providers:gO,imports:[jR,vP]}),t})();"undefined"!=typeof window&&window;class xe extends Vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}let cr=(()=>{class t{constructor(){this.darkMode$=new xe(!1)}getSubject(){return this.darkMode$}bindAppearance(n){this.darkMode$.subscribe(r=>{n.next(r?"dark":"light")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function he(...t){return ht(t,uo(t))}const{isArray:MO}=Array,{getPrototypeOf:IO,prototype:AO,keys:PO}=Object;function N_(t){if(1===t.length){const e=t[0];if(MO(e))return{args:e,keys:null};if(function RO(t){return t&&"object"==typeof t&&IO(t)===AO}(e)){const n=PO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:OO}=Array;function F_(t){return Me(e=>function xO(t,e){return OO(e)?t(...e):t(e)}(t,e))}function L_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function V_(...t){const e=uo(t),n=vh(t),{args:r,keys:i}=N_(t);if(0===r.length)return ht([],e);const o=new ue(function kO(t,e,n=te){return r=>{j_(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)j_(e,()=>{const u=ht(t[c],e);let g=!1;u.subscribe(He(r,y=>{o[c]=y,g||(g=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>L_(i,s):te));return n?o.pipe(F_(n)):o}function j_(t,e,n){t?Kn(n,t,e):e()}function ec(t,e){const n=Y(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}const tc=F(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function qd(...t){return function NO(){return co(1)}()(ht(t,uo(t)))}function B_(t){return new ue(e=>{In(t()).subscribe(e)})}function U_(){return qe((t,e)=>{let n=null;t._refCount++;const r=He(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class FO extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ii(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new T;const n=this.getSubject();e.add(this.source.subscribe(He(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=T.EMPTY)}return e}refCount(){return U_()(this)}}function Jr(t,e){return qe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(He(r,c=>{null==i||i.unsubscribe();let u=0;const g=o++;In(t(c,g)).subscribe(i=He(r,y=>r.next(e?e(c,y,g,u++):y),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function VO(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(He(s,g=>{const y=u++;c=a?t(c,g,y):(a=!0,g),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function H_(t,e){return qe(VO(t,e,arguments.length>=2,!0))}function Kr(t,e){return qe((n,r)=>{let i=0;n.subscribe(He(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Er(t){return qe((e,n)=>{let o,r=null,i=!1;r=e.subscribe(He(n,void 0,void 0,s=>{o=In(t(s,Er(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ji(t,e){return Y(e)?ft(t,e,1):ft(t,1)}function Qd(t){return t<=0?()=>Yn:qe((e,n)=>{let r=[];e.subscribe(He(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $_(t=jO){return qe((e,n)=>{let r=!1;e.subscribe(He(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function jO(){return new tc}function G_(t){return qe((e,n)=>{let r=!1;e.subscribe(He(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ki(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kr((i,o)=>t(i,o,r)):te,Ps(1),n?G_(e):$_(()=>new tc))}function Kt(t,e,n){const r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?qe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(He(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):te}function z_(t){return qe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}class ur{constructor(e,n){this.id=e,this.url=n}}class Jd extends ur{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends ur{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class W_ extends ur{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class UO extends ur{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HO extends ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $O extends ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GO extends ur{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zO extends ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WO extends ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q_{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Q_{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qO{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QO{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JO{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KO{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J_{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _e="primary";class YO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Yi(t){return new YO(t)}const K_="ngNavigationCancelingError";function Kd(t){const e=Error("NavigationCancelingError: "+t);return e[K_]=!0,e}function XO(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Gn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Y_(t[i],e[i]))return!1;return!0}function Y_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function Z_(t){return Array.prototype.concat.apply([],t)}function X_(t){return t.length>0?t[t.length-1]:null}function vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function zn(t){return kl(t)?t:Uo(t)?ht(Promise.resolve(t)):he(t)}const nx={exact:function nC(t,e,n){if(!Zr(t.segments,e.segments)||!nc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!nC(t.children[r],e.children[r],n))return!1;return!0},subset:rC},eC={exact:function rx(t,e){return Gn(t,e)},subset:function ix(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Y_(t[n],e[n]))},ignored:()=>!0};function tC(t,e,n){return nx[n.paths](t.root,e.root,n.matrixParams)&&eC[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function rC(t,e,n){return iC(t,e,e.segments,n)}function iC(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Zr(i,n)||e.hasChildren()||!nc(i,n,r))}if(t.segments.length===n.length){if(!Zr(t.segments,n)||!nc(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!rC(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Zr(t.segments,i)&&nc(t.segments,i,r)&&t.children[_e])&&iC(t.children[_e],e,o,r)}}function nc(t,e,n){return e.every((r,i)=>eC[n](t[i].parameters,r.parameters))}class Yr{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yi(this.queryParams)),this._queryParamMap}toString(){return ax.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,vt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rc(this)}}class cs{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Yi(this.parameters)),this._parameterMap}toString(){return uC(this)}}function Zr(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class oC{}class sC{parse(e){const n=new mx(e);return new Yr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${us(e.root,!0)}`,r=function lx(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ic(n)}=${ic(i)}`).join("&"):`${ic(n)}=${ic(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function cx(t){return encodeURI(t)}(e.fragment)}`:""}`}}const ax=new sC;function rc(t){return t.segments.map(e=>uC(e)).join("/")}function us(t,e){if(!t.hasChildren())return rc(t);if(e){const n=t.children[_e]?us(t.children[_e],!1):"",r=[];return vt(t.children,(i,o)=>{o!==_e&&r.push(`${o}:${us(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function sx(t,e){let n=[];return vt(t.children,(r,i)=>{i===_e&&(n=n.concat(e(r,i)))}),vt(t.children,(r,i)=>{i!==_e&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===_e?[us(t.children[_e],!1)]:[`${i}:${us(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[_e]?`${rc(t)}/${n[0]}`:`${rc(t)}/(${n.join("//")})`}}function aC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ic(t){return aC(t).replace(/%3B/gi,";")}function Yd(t){return aC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oc(t){return decodeURIComponent(t)}function cC(t){return oc(t.replace(/\+/g,"%20"))}function uC(t){return`${Yd(t.path)}${function ux(t){return Object.keys(t).map(e=>`;${Yd(e)}=${Yd(t[e])}`).join("")}(t.parameters)}`}const dx=/^[^\/()?;=#]+/;function sc(t){const e=t.match(dx);return e?e[0]:""}const fx=/^[^=?&#]+/,px=/^[^&#]+/;class mx{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_e]=new De(e,n)),r}parseSegment(){const e=sc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new cs(oc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=sc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=sc(this.remaining);i&&(r=i,this.capture(r))}e[oc(n)]=oc(r)}parseQueryParam(e){const n=function hx(t){const e=t.match(fx);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function gx(t){const e=t.match(px);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=cC(n),o=cC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=sc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_e);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[_e]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class lC{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Zd(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Zd(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Xd(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xd(e,this._root).map(n=>n.value)}}function Zd(t,e){if(t===e.value)return e;for(const n of e.children){const r=Zd(t,n);if(r)return r}return null}function Xd(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Xd(t,n);if(r.length)return r.unshift(e),r}return[]}class lr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Zi(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class dC extends lC{constructor(e,n){super(e),this.snapshot=n,ef(this,e)}toString(){return this.snapshot.toString()}}function fC(t,e){const n=function yx(t,e){const s=new ac([],{},{},"",{},_e,e,null,t.root,-1,{});return new pC("",new lr(s,[]))}(t,e),r=new xe([new cs("",{})]),i=new xe({}),o=new xe({}),s=new xe({}),a=new xe(""),c=new Xi(r,i,s,a,o,_e,e,n.root);return c.snapshot=n.root,new dC(new lr(c,[]),n)}class Xi{constructor(e,n,r,i,o,s,a,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Me(e=>Yi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Me(e=>Yi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hC(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function vx(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ac{constructor(e,n,r,i,o,s,a,c,u,g,y){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pC extends lC{constructor(e,n){super(n),this.url=e,ef(this,n)}toString(){return gC(this._root)}}function ef(t,e){e.value._routerState=t,e.children.forEach(n=>ef(t,n))}function gC(t){const e=t.children.length>0?` { ${t.children.map(gC).join(", ")} } `:"";return`${t.value}${e}`}function tf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Gn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Gn(e.params,n.params)||t.params.next(n.params),function ex(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Gn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Gn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function nf(t,e){const n=Gn(t.params,e.params)&&function ox(t,e){return Zr(t,e)&&t.every((n,r)=>Gn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||nf(t.parent,e.parent))}function ls(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Cx(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ls(t,r,i);return ls(t,r)})}(t,e,n);return new lr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ls(t,a)),s}}const r=function bx(t){return new Xi(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>ls(t,o));return new lr(r,i)}}function cc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ds(t){return"object"==typeof t&&null!=t&&t.outlets}function rf(t,e,n,r,i){let o={};return r&&vt(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(c=>`${c}`):`${s}`}),new Yr(n.root===t?e:mC(n.root,t,e),o,i)}function mC(t,e,n){const r={};return vt(t.children,(i,o)=>{r[o]=i===e?n:mC(i,e,n)}),new De(t.segments,r)}class yC{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cc(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ds);if(i&&i!==X_(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class of{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function vC(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return uc(t,e,n);const r=function Mx(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(ds(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!CC(c,u,s))return o;r+=2}else{if(!CC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[_e]=new De(t.segments.slice(r.pathIndex),t.children),uc(o,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?sf(t,e,n):r.match?uc(t,0,i):sf(t,e,n)}function uc(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function Tx(t){return ds(t[0])?t[0].outlets:{[_e]:t}}(n),i={};return vt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=vC(t.children[s],e,o))}),vt(t.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new De(t.segments,i)}}function sf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ds(o)){const c=Ix(o.outlets);return new De(r,c)}if(0===i&&cc(n[0])){r.push(new cs(t.segments[e].path,_C(n[0]))),i++;continue}const s=ds(o)?o.outlets[_e]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&cc(a)?(r.push(new cs(s,_C(a))),i+=2):(r.push(new cs(s,{})),i++)}return new De(r,{})}function Ix(t){const e={};return vt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=sf(new De([],{}),0,n))}),e}function _C(t){const e={};return vt(t,(n,r)=>e[r]=`${n}`),e}function CC(t,e,n){return t==n.path&&Gn(e,n.parameters)}class Px{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),tf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Zi(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),vt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zi(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zi(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Zi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new KO(o.value.snapshot))}),e.children.length&&this.forwardEvent(new QO(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(tf(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=function Rx(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),c=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=c,s.outlet&&s.outlet.activateWith(i,c),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class af{constructor(e,n){this.routes=e,this.module=n}}function Sr(t){return"function"==typeof t}function Xr(t){return t instanceof Yr}const fs=Symbol("INITIAL_VALUE");function hs(){return Jr(t=>V_(t.map(e=>e.pipe(Ps(1),function LO(...t){const e=uo(t);return qe((n,r)=>{(e?qd(t,n,e):qd(t,n)).subscribe(r)})}(fs)))).pipe(H_((e,n)=>{let r=!1;return n.reduce((i,o,s)=>i!==fs?i:(o===fs&&(r=!0),r||!1!==o&&s!==n.length-1&&!Xr(o)?i:o),e)},fs),Kr(e=>e!==fs),Me(e=>Xr(e)?e:!0===e),Ps(1)))}class Lx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ps,this.attachRef=null}}class ps{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Lx,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let cf=(()=>{class t{constructor(n,r,i,o,s){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.name=o||_e,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const s=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,c=new Vx(n,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(G(ps),G(un),G(Qo),function Co(t){return function l0(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Kh(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(at(),t)}("name"),G(Fa))},t.\u0275dir=ie({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class Vx{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xi?this.route:e===ps?this.childContexts:this.parent.get(e,n)}}let bC=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Ke(0,"router-outlet")},directives:[cf],encapsulation:2}),t})();function DC(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];jx(r,Bx(e,r))}}function jx(t,e){t.children&&DC(t.children,e)}function Bx(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function uf(t){const e=t.children&&t.children.map(uf),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_e&&(n.component=bC),n}function fn(t){return t.outlet||_e}function wC(t,e){const n=t.filter(r=>fn(r)===e);return n.push(...t.filter(r=>fn(r)!==e)),n}const EC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lc(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},EC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(e.matcher||XO)(n,t,e);if(!o)return Object.assign({},EC);const s={};vt(o.posParams,(c,u)=>{s[u]=c.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function dc(t,e,n,r,i="corrected"){if(n.length>0&&function $x(t,e,n){return n.some(r=>fc(t,e,r)&&fn(r)!==_e)}(t,n,r)){const s=new De(e,function Hx(t,e,n,r){const i={};i[_e]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&fn(o)!==_e){const s=new De([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,i[fn(o)]=s}return i}(t,e,r,new De(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function Gx(t,e,n){return n.some(r=>fc(t,e,r))}(t,n,r)){const s=new De(t.segments,function Ux(t,e,n,r,i,o){const s={};for(const a of r)if(fc(t,n,a)&&!i[fn(a)]){const c=new De([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[fn(a)]=c}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const o=new De(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function fc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function SC(t,e,n,r){return!!(fn(t)===r||r!==_e&&fc(e,n,t))&&("**"===t.path||lc(e,t,n).matched)}function TC(t,e,n){return 0===e.length&&!t.children[n]}class gs{constructor(e){this.segmentGroup=e||null}}class MC{constructor(e){this.urlTree=e}}function hc(t){return ec(new gs(t))}function IC(t){return ec(new MC(t))}class Qx{constructor(e,n,r,i,o){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(or)}apply(){const e=dc(this.urlTree.root,[],[],this.config).segmentGroup,n=new De(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,_e).pipe(Me(o=>this.createUrlTree(lf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Er(o=>{if(o instanceof MC)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof gs?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,_e).pipe(Me(i=>this.createUrlTree(lf(i),e.queryParams,e.fragment))).pipe(Er(i=>{throw i instanceof gs?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new De([],{[_e]:e}):e;return new Yr(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Me(o=>new De([],o))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ht(i).pipe(Ji(o=>{const s=r.children[o],a=wC(n,o);return this.expandSegmentGroup(e,a,s,o).pipe(Me(c=>({segment:c,outlet:o})))}),H_((o,s)=>(o[s.outlet]=s.segment,o),{}),function BO(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kr((i,o)=>t(i,o,r)):te,Qd(1),n?G_(e):$_(()=>new tc))}())}expandSegment(e,n,r,i,o,s){return ht(r).pipe(Ji(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,o,s).pipe(Er(u=>{if(u instanceof gs)return he(null);throw u}))),Ki(a=>!!a),Er((a,c)=>{if(a instanceof tc||"EmptyError"===a.name){if(TC(n,i,o))return he(new De([],{}));throw new gs(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,o,s,a){return SC(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s):hc(n):hc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?IC(o):this.lineralizeSegments(r,o).pipe(ft(s=>{const a=new De(s,{});return this.expandSegment(e,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:g}=lc(n,i,o);if(!a)return hc(n);const y=this.applyRedirectCommands(c,i.redirectTo,g);return i.redirectTo.startsWith("/")?IC(y):this.lineralizeSegments(i,y).pipe(ft(S=>this.expandSegment(e,n,r,S.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?he(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Me(y=>(r._loadedConfig=y,new De(i,{})))):he(new De(i,{}));const{matched:s,consumedSegments:a,remainingSegments:c}=lc(n,r,i);return s?this.getChildConfig(e,r,i).pipe(ft(g=>{const y=g.module,S=g.routes,{segmentGroup:I,slicedSegments:L}=dc(n,a,c,S),H=new De(I.segments,I.children);if(0===L.length&&H.hasChildren())return this.expandChildren(y,S,H).pipe(Me(X=>new De(a,X)));if(0===S.length&&0===L.length)return he(new De(a,{}));const W=fn(r)===o;return this.expandSegment(y,H,S,L,W?_e:o,!0).pipe(Me(U=>new De(a.concat(U.segments),U.children)))})):hc(n)}getChildConfig(e,n,r){return n.children?he(new af(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?he(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ft(i=>i?this.configLoader.load(e.injector,n).pipe(Me(o=>(n._loadedConfig=o,o))):function Wx(t){return ec(Kd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):he(new af([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?he(i.map(s=>{const a=e.get(s);let c;if(function xx(t){return t&&Sr(t.canLoad)}(a))c=a.canLoad(n,r);else{if(!Sr(a))throw new Error("Invalid CanLoad guard");c=a(n,r)}return zn(c)})).pipe(hs(),Kt(s=>{if(!Xr(s))return;const a=Kd(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),Me(s=>!0===s)):he(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return he(r);if(i.numberOfChildren>1||!i.children[_e])return ec(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[_e]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Yr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return vt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return vt(n.children,(a,c)=>{s[c]=this.createSegmentGroup(e,a,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function lf(t){const e={};for(const r of Object.keys(t.children)){const o=lf(t.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Jx(t){if(1===t.numberOfChildren&&t.children[_e]){const e=t.children[_e];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}class AC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pc{constructor(e,n){this.component=e,this.route=n}}function Yx(t,e,n){const r=t._root;return ms(r,e?e._root:null,n,[r.value])}function gc(t,e,n){const r=function Xx(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ms(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Zi(e);return t.children.forEach(s=>{(function e1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function t1(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Zr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zr(t.url,e.url)||!Gn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nf(t,e)||!Gn(t.queryParams,e.queryParams);default:return!nf(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new AC(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ms(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pc(a.outlet.component,s))}else s&&ys(e,a,i),i.canActivateChecks.push(new AC(r)),ms(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),vt(o,(s,a)=>ys(s,n.getContext(a),i)),i}function ys(t,e,n){const r=Zi(t),i=t.value;vt(r,(o,s)=>{ys(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new pc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class l1{}function PC(t){return new ue(e=>e.error(t))}class f1{constructor(e,n,r,i,o,s){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const e=dc(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,_e);if(null===n)return null;const r=new ac([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_e,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new lr(r,n),o=new pC(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const n=e.value,r=hC(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const o of Object.keys(n.children)){const s=n.children[o],a=wC(e,o),c=this.processSegmentGroup(a,s,o);if(null===c)return null;r.push(...c)}const i=RC(r);return function h1(t){t.sort((e,n)=>e.value.outlet===_e?-1:n.value.outlet===_e?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const o of e){const s=this.processSegmentAgainstRoute(o,n,r,i);if(null!==s)return s}return TC(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!SC(e,n,r,i))return null;let o,s=[],a=[];if("**"===e.path){const I=r.length>0?X_(r).parameters:{};o=new ac(r,I,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kC(e),fn(e),e.component,e,OC(n),xC(n)+r.length,NC(e))}else{const I=lc(n,e,r);if(!I.matched)return null;s=I.consumedSegments,a=I.remainingSegments,o=new ac(s,I.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kC(e),fn(e),e.component,e,OC(n),xC(n)+s.length,NC(e))}const c=function p1(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:g}=dc(n,s,a,c.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);if(0===g.length&&u.hasChildren()){const I=this.processChildren(c,u);return null===I?null:[new lr(o,I)]}if(0===c.length&&0===g.length)return[new lr(o,[])];const y=fn(e)===i,S=this.processSegment(c,u,g,y?_e:i);return null===S?null:[new lr(o,S)]}}function g1(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function RC(t){const e=[],n=new Set;for(const r of t){if(!g1(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=RC(r.children);e.push(new lr(r.value,i))}return e.filter(r=>!n.has(r))}function OC(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xC(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function kC(t){return t.data||{}}function NC(t){return t.resolve||{}}function FC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function df(t){return Jr(e=>{const n=t(e);return n?ht(n).pipe(Me(()=>e)):he(e)})}class w1 extends class D1{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const ff=new ye("ROUTES");class LC{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(Me(o=>{this.onLoadEndListener&&this.onLoadEndListener(n);const s=o.create(e);return new af(Z_(s.injector.get(ff,void 0,ce.Self|ce.Optional)).map(uf),s)}),Er(o=>{throw n._loader$=void 0,o}));return n._loader$=new FO(i,()=>new Vt).pipe(U_()),n._loader$}loadModuleFactory(e){return zn(e()).pipe(ft(n=>n instanceof Qy?he(n):ht(this.compiler.compileModuleAsync(n))))}}class S1{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function T1(t){throw t}function M1(t,e,n){return e.parse("/")}function VC(t,e){return he(null)}const I1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yt=(()=>{class t{constructor(n,r,i,o,s,a,c){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vt,this.errorHandler=T1,this.malformedUriErrorHandler=M1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:VC,afterPreactivation:VC},this.urlHandlingStrategy=new S1,this.routeReuseStrategy=new w1,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(or),this.console=s.get(Ov);const y=s.get(yt);this.isNgZoneEnabled=y instanceof yt&&yt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function tx(){return new Yr(new De([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new LC(s,a,S=>this.triggerEvent(new q_(S)),S=>this.triggerEvent(new Q_(S))),this.routerState=fC(this.currentUrlTree,this.rootComponentType),this.transitions=new xe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Kr(i=>0!==i.id),Me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Jr(i=>{let o=!1,s=!1;return he(i).pipe(Kt(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jr(a=>{const c=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return mc(a.source)&&(this.browserUrlTree=a.extractedUrl),he(a).pipe(Jr(y=>{const S=this.transitions.getValue();return r.next(new Jd(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),S!==this.transitions.getValue()?Yn:Promise.resolve(y)}),function Kx(t,e,n,r){return Jr(i=>function qx(t,e,n,r,i){return new Qx(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(Me(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Kt(y=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:y.urlAfterRedirects})}),function m1(t,e,n,r,i){return ft(o=>function d1(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new f1(t,e,n,r,i,o).recognize();return null===s?PC(new l1):he(s)}catch(s){return PC(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Me(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,y=>this.serializeUrl(y),this.paramsInheritanceStrategy,this.relativeLinkResolution),Kt(y=>{if("eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(I,y)}this.browserUrlTree=y.urlAfterRedirects}const S=new HO(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);r.next(S)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:I,source:L,restoredState:H,extras:W}=a,z=new Jd(S,this.serializeUrl(I),L,H);r.next(z);const U=fC(I,this.rootComponentType).snapshot;return he(Object.assign(Object.assign({},a),{targetSnapshot:U,urlAfterRedirects:I,extras:Object.assign(Object.assign({},W),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Yn}),df(a=>{const{targetSnapshot:c,id:u,extractedUrl:g,rawUrl:y,extras:{skipLocationChange:S,replaceUrl:I}}=a;return this.hooks.beforePreactivation(c,{navigationId:u,appliedUrlTree:g,rawUrlTree:y,skipLocationChange:!!S,replaceUrl:!!I})}),Kt(a=>{const c=new $O(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),Me(a=>Object.assign(Object.assign({},a),{guards:Yx(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function n1(t,e){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?he(Object.assign(Object.assign({},n),{guardsResult:!0})):function r1(t,e,n,r){return ht(t).pipe(ft(i=>function u1(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?he(o.map(a=>{const c=gc(a,e,i);let u;if(function Fx(t){return t&&Sr(t.canDeactivate)}(c))u=zn(c.canDeactivate(t,e,n,r));else{if(!Sr(c))throw new Error("Invalid CanDeactivate guard");u=zn(c(t,e,n,r))}return u.pipe(Ki())})).pipe(hs()):he(!0)}(i.component,i.route,n,e,r)),Ki(i=>!0!==i,!0))}(s,r,i,t).pipe(ft(a=>a&&function Ox(t){return"boolean"==typeof t}(a)?function i1(t,e,n,r){return ht(e).pipe(Ji(i=>qd(function s1(t,e){return null!==t&&e&&e(new qO(t)),he(!0)}(i.route.parent,r),function o1(t,e){return null!==t&&e&&e(new JO(t)),he(!0)}(i.route,r),function c1(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Zx(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>B_(()=>he(s.guards.map(c=>{const u=gc(c,s.node,n);let g;if(function Nx(t){return t&&Sr(t.canActivateChild)}(u))g=zn(u.canActivateChild(r,t));else{if(!Sr(u))throw new Error("Invalid CanActivateChild guard");g=zn(u(r,t))}return g.pipe(Ki())})).pipe(hs())));return he(o).pipe(hs())}(t,i.path,n),function a1(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return he(!0);const i=r.map(o=>B_(()=>{const s=gc(o,e,n);let a;if(function kx(t){return t&&Sr(t.canActivate)}(s))a=zn(s.canActivate(e,t));else{if(!Sr(s))throw new Error("Invalid CanActivate guard");a=zn(s(e,t))}return a.pipe(Ki())}));return he(i).pipe(hs())}(t,i.route,n))),Ki(i=>!0!==i,!0))}(r,o,t,e):he(a)),Me(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Kt(a=>{if(Xr(a.guardsResult)){const u=Kd(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const c=new GO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Kr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),df(a=>{if(a.guards.canActivateChecks.length)return he(a).pipe(Kt(c=>{const u=new zO(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),Jr(c=>{let u=!1;return he(c).pipe(function y1(t,e){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return he(n);let o=0;return ht(i).pipe(Ji(s=>function v1(t,e,n,r){return function _1(t,e,n,r){const i=FC(t);if(0===i.length)return he({});const o={};return ht(i).pipe(ft(s=>function C1(t,e,n,r){const i=gc(t,e,r);return zn(i.resolve?i.resolve(e,n):i(e,n))}(t[s],e,n,r).pipe(Kt(a=>{o[s]=a}))),Qd(1),ft(()=>FC(o).length===i.length?he(o):Yn))}(t._resolve,t,e,r).pipe(Me(o=>(t._resolvedData=o,t.data=Object.assign(Object.assign({},t.data),hC(t,n).resolve),null)))}(s.route,r,t,e)),Kt(()=>o++),Qd(1),ft(s=>o===i.length?he(n):Yn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Kt({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Kt(c=>{const u=new WO(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}))}),df(a=>{const{targetSnapshot:c,id:u,extractedUrl:g,rawUrl:y,extras:{skipLocationChange:S,replaceUrl:I}}=a;return this.hooks.afterPreactivation(c,{navigationId:u,appliedUrlTree:g,rawUrlTree:y,skipLocationChange:!!S,replaceUrl:!!I})}),Me(a=>{const c=function _x(t,e,n){const r=ls(t,e._root,n?n._root:void 0);return new dC(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:c})}),Kt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>Me(r=>(new Px(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Kt({next(){o=!0},complete(){o=!0}}),z_(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Er(a=>{if(s=!0,function ZO(t){return t&&t[K_]}(a)){const c=Xr(a.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const u=new W_(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),c?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mc(i.source)};this.scheduleNavigation(g,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new UO(i.id,this.serializeUrl(i.extractedUrl),a);r.next(c);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return Yn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(s){const c=Object.assign({},s);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){DC(n),this.config=n.map(uf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=i||this.routerState.root,g=c?this.currentUrlTree.fragment:s;let y=null;switch(a){case"merge":y=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}return null!==y&&(y=this.removeEmptyProps(y)),function Dx(t,e,n,r,i){if(0===n.length)return rf(e.root,e.root,e,r,i);const o=function wx(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yC(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return vt(o.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new yC(n,e,r)}(n);if(o.toRoot())return rf(e.root,new De([],{}),e,r,i);const s=function Ex(t,e,n){if(t.isAbsolute)return new of(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const o=n.snapshot._urlSegment;return new of(o,o===e.root,0)}const r=cc(t.commands[0])?0:1;return function Sx(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new of(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?uc(s.segmentGroup,s.index,o.commands):vC(s.segmentGroup,s.index,o.commands);return rf(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,n,y,null!=g?g:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Xr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function P1(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},I1):!1===r?Object.assign({},A1):r,Xr(n))return tC(this.currentUrlTree,n,i);const o=this.parseUrl(n);return tC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new as(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,o,s){var a,c,u;if(this.disposed)return Promise.resolve(!1);const g=this.transitions.value,y=mc(r)&&g&&!mc(g.source),S=g.rawUrl.toString()===n.toString(),I=g.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(y&&S&&I)return Promise.resolve(!0);let H,W,z;s?(H=s.resolve,W=s.reject,z=s.promise):z=new Promise((se,Ee)=>{H=se,W=Ee});const U=++this.navigationId;let X;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),X=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(c=this.browserPageId)&&void 0!==c?c:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):X=0,this.setTransition({id:U,targetPageId:X,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:H,reject:W,promise:z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),z.catch(se=>Promise.reject(se))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new W_(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Il()},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();function mc(t){return"imperative"!==t}let eo=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Vt,this.subscription=n.events.subscribe(o=>{o instanceof as&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,o,s){if(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:to(this.skipLocationChange),replaceUrl:to(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:to(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(G(Yt),G(Xi),G(Qi))},t.\u0275dir=ie({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&ut("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&Ln("target",r.target)("href",r.href,Ou)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[rn]}),t})();function to(t){return""===t||!!t}class jC{}class BC{preload(e,n){return he(null)}}let UC=(()=>{class t{constructor(n,r,i,o){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=new LC(i,r,c=>n.triggerEvent(new q_(c)),c=>n.triggerEvent(new Q_(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Kr(n=>n instanceof as),Ji(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(or);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(n,o)):o.children&&i.push(this.processRoutes(n,o.children));return ht(i).pipe(co(),Me(o=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?he(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ft(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(ee(Yt),ee(xv),ee(Et),ee(jC))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),pf=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Jd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof as&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof J_&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new J_(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Il()},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();const ei=new ye("ROUTER_CONFIGURATION"),HC=new ye("ROUTER_FORROOT_GUARD"),k1=[Sd,{provide:oC,useClass:sC},{provide:Yt,useFactory:function j1(t,e,n,r,i,o,s={},a,c){const u=new Yt(null,t,e,n,r,i,Z_(o));return a&&(u.urlHandlingStrategy=a),c&&(u.routeReuseStrategy=c),function B1(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(s,u),s.enableTracing&&u.events.subscribe(g=>{var y,S;null===(y=console.group)||void 0===y||y.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(S=console.groupEnd)||void 0===S||S.call(console)}),u},deps:[oC,ps,Sd,Et,xv,ff,ei,[class E1{},new vr],[class b1{},new vr]]},ps,{provide:Xi,useFactory:function U1(t){return t.routerState.root},deps:[Yt]},UC,BC,class x1{preload(e,n){return n().pipe(Er(()=>he(null)))}},{provide:ei,useValue:{enableTracing:!1}}];function N1(){return new Vv("Router",Yt)}let $C=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[k1,GC(n),{provide:HC,useFactory:V1,deps:[[Yt,new vr,new Mo]]},{provide:ei,useValue:r||{}},{provide:Qi,useFactory:L1,deps:[Qr,[new na(Ed),new vr],ei]},{provide:pf,useFactory:F1,deps:[Yt,$R,ei]},{provide:jC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:BC},{provide:Vv,multi:!0,useFactory:N1},[gf,{provide:ud,multi:!0,useFactory:H1,deps:[gf]},{provide:zC,useFactory:$1,deps:[gf]},{provide:Rv,multi:!0,useExisting:zC}]]}}static forChild(n){return{ngModule:t,providers:[GC(n)]}}}return t.\u0275fac=function(n){return new(n||t)(ee(HC,8),ee(Yt,8))},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({}),t})();function F1(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new pf(t,e,n)}function L1(t,e,n={}){return n.useHash?new TP(t,e):new i_(t,e)}function V1(t){return"guarded"}function GC(t){return[{provide:g0,multi:!0,useValue:t},{provide:ff,multi:!0,useValue:t}]}let gf=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vt}appInitializer(){return this.injector.get(wP,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Yt),s=this.injector.get(ei);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?he(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ei),i=this.injector.get(UC),o=this.injector.get(pf),s=this.injector.get(Yt),a=this.injector.get(yd);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(ee(Et))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();function H1(t){return t.appInitializer.bind(t)}function $1(t){return t.bootstrapListener.bind(t)}const zC=new ye("Router Initializer"),z1=function(t){return["switch",t]},W1=function(t,e){return["switch-thumb",t,e]};let q1=(()=>{class t{constructor(n){this.darkModeService=n,this.mode="",this.appearance$=new xe("")}ngOnInit(){this.darkModeService.bindAppearance(this.appearance$),this.subject.subscribe(n=>{this.mode=n?"on":"off"})}toggle(){const n=!this.subject.getValue();this.subject.next(n)}}return t.\u0275fac=function(n){return new(n||t)(G(cr))},t.\u0275cmp=Ht({type:t,selectors:[["app-switch"]],inputs:{subject:"subject"},decls:4,vars:11,consts:[[3,"ngClass","click"],[3,"ngClass"]],template:function(n,r){1&n&&(Oe(0,"div",0),ut("click",function(){return r.toggle()}),gt(1,"async"),Ke(2,"div",1),gt(3,"async"),Le()),2&n&&(Ie("ngClass",Ot(6,z1,mt(1,2,r.appearance$))),Be(2),Ie("ngClass",Ql(8,W1,mt(3,4,r.appearance$),r.mode)))},directives:[Hn],pipes:[$n],styles:[".switch[_ngcontent-%COMP%]{position:relative;height:30px;width:60px;margin:2px;outline:2px solid;border-radius:50%/100%;cursor:pointer;transition:var(--transition)}.switch.light[_ngcontent-%COMP%]{outline-color:var(--strong-dark)}.switch.dark[_ngcontent-%COMP%]{outline-color:var(--strong-light)}.switch-thumb[_ngcontent-%COMP%]{position:absolute;height:100%;width:50%;outline:inherit;border-radius:50%;transition:var(--transition)}.switch-thumb.light[_ngcontent-%COMP%]{outline-color:var(--strong-dark)}.switch-thumb.dark[_ngcontent-%COMP%]{outline-color:var(--strong-light)}.switch-thumb.on[_ngcontent-%COMP%]{left:50%}.switch-thumb.off[_ngcontent-%COMP%]{left:0%}"]}),t})();const Q1=["toolbar"],J1=function(t){return["header",t]},K1=function(t){return["header-home-icon",t]};let Y1=(()=>{class t{constructor(n){this.darkModeService=n,this.appearance$=new xe(""),this.darkMode$=n.getSubject()}ngOnInit(){this.darkModeService.bindAppearance(this.appearance$)}ngAfterViewInit(){this.toolbar.nativeElement.addEventListener("wheel",n=>this.scrollToolbar(n))}ngOnDestroy(){this.toolbar.nativeElement.removeEventListener("wheel",n=>this.scrollToolbar(n))}scrollToolbar(n){n.preventDefault(),this.toolbar.nativeElement.scrollLeft+=n.deltaY}}return t.\u0275fac=function(n){return new(n||t)(G(cr))},t.\u0275cmp=Ht({type:t,selectors:[["app-header"]],viewQuery:function(n,r){if(1&n&&Xo(Q1,5),2&n){let i;zr(i=Wr())&&(r.toolbar=i.first)}},decls:8,vars:11,consts:[[3,"ngClass"],["routerLink","/",1,"header-home"],[1,"header-toolbar"],["toolbar",""],[3,"subject"]],template:function(n,r){1&n&&(Oe(0,"div",0),gt(1,"async"),Oe(2,"a",1),Ke(3,"div",0),gt(4,"async"),Le(),Oe(5,"div",2,3),Ke(7,"app-switch",4),Le()()),2&n&&(Ie("ngClass",Ot(7,J1,mt(1,3,r.appearance$))),Be(3),Ie("ngClass",Ot(9,K1,mt(4,5,r.appearance$))),Be(4),Ie("subject",r.darkMode$))},directives:[Hn,eo,q1],pipes:[$n],styles:[".header[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-template-rows:60px;transition:var(--transition)}.header.light[_ngcontent-%COMP%]{background-color:var(--mid-light)}.header.dark[_ngcontent-%COMP%]{background-color:var(--mid-dark)}.header-home[_ngcontent-%COMP%]{margin-left:5px;align-self:center}.header-home-icon[_ngcontent-%COMP%]{height:50px;width:100px;transition:var(--transition);background-image:url(home.2087cef495d5e05f.svg);background-size:100px 50px}.header-home-icon.light[_ngcontent-%COMP%]{filter:var(--strong-dark-filter)}.header-home-icon.dark[_ngcontent-%COMP%]{filter:var(--strong-light-filter)}.header-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;flex-wrap:nowrap;align-items:center;margin-left:15px;margin-right:15px;gap:15px;scrollbar-width:0;overflow-y:visible;overflow-x:auto}.header-toolbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),t})();const Z1=function(t){return["app-content",t]};let X1=(()=>{class t{constructor(n){this.darkModeService=n,this.title="my-page",this.appearance$=new xe("")}ngOnInit(){this.darkModeService.bindAppearance(this.appearance$)}}return t.\u0275fac=function(n){return new(n||t)(G(cr))},t.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:5,vars:5,consts:[[1,"app"],[3,"ngClass"]],template:function(n,r){1&n&&(Oe(0,"div",0),Ke(1,"app-header"),Oe(2,"div",1),gt(3,"async"),Ke(4,"router-outlet"),Le()()),2&n&&(Be(2),Ie("ngClass",Ot(3,Z1,mt(3,1,r.appearance$))))},directives:[Y1,Hn,cf],pipes:[$n],styles:[".app[_ngcontent-%COMP%]{display:grid;position:fixed;grid-template-rows:auto 1fr;height:100%;width:100%}.app-content[_ngcontent-%COMP%]{overflow:auto;transition:var(--transition)}.app-content.light[_ngcontent-%COMP%]{background-color:var(--strong-light)}.app-content.dark[_ngcontent-%COMP%]{background-color:var(--strong-dark)}"]}),t})(),ek=(()=>{class t{}return t.LIMIT_99=/^\d{0,2}$/,t.LIMIT_59=/^[0-5]?[0-9]?$/,t.LIMIT_99_9=/^(\d{0,2}|\d{1,2}\.\d?)$/,t.LIMIT_9999=/^\d{0,4}$/,t})();function nk(t,e){return t===e}let WC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(G(ir),G(Qt))},t.\u0275dir=ie({type:t}),t})(),ti=(()=>{class t extends WC{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Dt(t){return hr(()=>{const e=t.prototype.constructor,n=e[Xn]||vu(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Xn]||vu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(t)))(r||t)}}(),t.\u0275dir=ie({type:t,features:[Re]}),t})();const Wn=new ye("NgValueAccessor"),ok={provide:Wn,useExisting:Ve(()=>yc),multi:!0},ak=new ye("CompositionEventMode");let yc=(()=>{class t extends WC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sk(){const t=Un()?Un().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(G(ir),G(Qt),G(ak,8))},t.\u0275dir=ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ut("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ze([ok]),Re]}),t})();const Tt=new ye("NgValidators"),Mr=new ye("NgAsyncValidators");function rb(t){return null!=t}function ib(t){const e=Uo(t)?ht(t):t;return kl(e),e}function ob(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function sb(t,e){return e.map(n=>n(t))}function ab(t){return t.map(e=>function uk(t){return!t.validate}(e)?e:n=>e.validate(n))}function mf(t){return null!=t?function cb(t){if(!t)return null;const e=t.filter(rb);return 0==e.length?null:function(n){return ob(sb(n,e))}}(ab(t)):null}function yf(t){return null!=t?function ub(t){if(!t)return null;const e=t.filter(rb);return 0==e.length?null:function(n){return function rk(...t){const e=vh(t),{args:n,keys:r}=N_(t),i=new ue(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let g=0;g<s;g++){let y=!1;In(n[g]).subscribe(He(o,S=>{y||(y=!0,u--),a[g]=S},()=>c--,void 0,()=>{(!c||!y)&&(u||o.next(r?L_(r,a):a),o.complete())}))}});return e?i.pipe(F_(e)):i}(sb(n,e).map(ib)).pipe(Me(ob))}}(ab(t)):null}function lb(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vf(t){return t?Array.isArray(t)?t:[t]:[]}function _c(t,e){return Array.isArray(t)?t.includes(e):t===e}function hb(t,e){const n=vf(e);return vf(t).forEach(i=>{_c(n,i)||n.push(i)}),n}function pb(t,e){return vf(e).filter(n=>!_c(t,n))}class gb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ir extends gb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kt extends gb{get formDirective(){return null}get path(){return null}}let yb=(()=>{class t extends class mb{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(G(Ir,2))},t.\u0275dir=ie({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Da("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Re]}),t})();function vs(t,e){(function bf(t,e){const n=function db(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(lb(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function fb(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(lb(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();wc(e._rawValidators,i),wc(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),function vk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_b(t,e)})}(t,e),function Ck(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function _k(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_b(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function yk(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function wc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _b(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ef(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _s="VALID",Sc="INVALID",no="PENDING",Cs="DISABLED";function Tf(t){return(Tc(t)?t.validators:t)||null}function Db(t){return Array.isArray(t)?mf(t):t||null}function Mf(t,e){return(Tc(e)?e.asyncValidators:t)||null}function wb(t){return Array.isArray(t)?yf(t):t||null}function Tc(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const If=t=>t instanceof Pf;function Sb(t){return(t=>t instanceof Ib)(t)?t.value:t.getRawValue()}function Tb(t,e){const n=If(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new Se(1e3,"");if(!r[e])throw new Se(1001,"")}function Mb(t,e){If(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new Se(1002,"")})}class Af{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Db(this._rawValidators),this._composedAsyncValidatorFn=wb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_s}get invalid(){return this.status===Sc}get pending(){return this.status==no}get disabled(){return this.status===Cs}get enabled(){return this.status!==Cs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Db(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wb(e)}addValidators(e){this.setValidators(hb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pb(e,this._rawAsyncValidators))}hasValidator(e){return _c(this._rawValidators,e)}hasAsyncValidator(e){return _c(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=no,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Cs,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=_s,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_s||this.status===no)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cs:_s}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=no,this._hasOwnPendingAsyncValidator=!0;const n=ib(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function Ek(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=If(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof Tk)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Cs:this.errors?Sc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(no)?no:this._anyControlsHaveStatus(Sc)?Sc:_s}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ib extends Af{constructor(e=null,n,r){super(Tf(n),Mf(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tc(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ef(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ef(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Pf extends Af{constructor(e,n,r){super(Tf(n),Mf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Mb(this,e),Object.keys(e).forEach(r=>{Tb(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=Sb(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Tk extends Af{constructor(e,n,r){super(Tf(n),Mf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Mb(this,e),e.forEach((r,i)=>{Tb(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>Sb(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Ak={provide:Ir,useExisting:Ve(()=>Of)},Rb=(()=>Promise.resolve(null))();let Of=(()=>{class t extends Ir{constructor(n,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new Ib,this._registered=!1,this.update=new Ze,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function wf(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===yc?n=o:function wk(t){return Object.getPrototypeOf(t.constructor)===ti}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Df(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Rb.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;Rb.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(n){return this._parent?function bc(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(G(kt,9),G(Tt,10),G(Mr,10),G(Wn,10),G(Fa,8))},t.\u0275dir=ie({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ze([Ak]),Re,rn]}),t})(),xb=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({}),t})(),tN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({imports:[[xb]]}),t})(),nN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({imports:[tN]}),t})();const rN=function(t,e){return["input",t,e]},iN=function(t){return{width:t}};let Yb=(()=>{class t{constructor(n){this.darkModeService=n,this.width="40px",this.placeholder="",this.appearance$=new xe(""),this.validity="valid"}ngOnInit(){if(this.valueRegex&&!this.localValidity$)throw Error("Missing localValidity$ value on input component when valueRegex is present");this.darkModeService.bindAppearance(this.appearance$),this.width$&&this.width$.subscribe(n=>this.width=n),this.initValidity()}change(n){var r;this.valueRegex?null===(r=this.localValidity$)||void 0===r||r.next(this.valueRegex.test(n)):this.localValidity$&&!this.localValidity$.getValue()&&this.localValidity$.next(!0),this.value$.next(n)}focus(){this.externalValidity$&&!this.externalValidity$.getValue()&&this.externalValidity$.next(!0)}initValidity(){this.localValidity$&&this.externalValidity$?V_([this.localValidity$,this.externalValidity$]).subscribe(n=>{this.setValidity(n[0]&&n[1])}):this.externalValidity$?this.externalValidity$.subscribe(this.setValidity):this.localValidity$&&this.localValidity$.subscribe(this.setValidity)}setValidity(n){this.validity=n?"valid":"invalid"}}return t.\u0275fac=function(n){return new(n||t)(G(cr))},t.\u0275cmp=Ht({type:t,selectors:[["app-input"]],inputs:{value$:"value$",placeholder:"placeholder",width$:"width$",valueRegex:"valueRegex",localValidity$:"localValidity$",externalValidity$:"externalValidity$"},decls:3,vars:13,consts:[[3,"ngClass","placeholder","ngModel","ngStyle","ngModelChange","focus"]],template:function(n,r){1&n&&(Oe(0,"input",0),ut("ngModelChange",function(o){return r.change(o)})("focus",function(){return r.focus()}),gt(1,"async"),gt(2,"async"),Le()),2&n&&Ie("ngClass",Ql(8,rN,mt(1,4,r.appearance$),r.validity))("placeholder",r.placeholder)("ngModel",mt(2,6,r.value$))("ngStyle",Ot(11,iN,r.width))},directives:[yc,Hn,yb,Of,v_],pipes:[$n],styles:[".input[_ngcontent-%COMP%]{padding:5px;outline:none;border:2px solid;border-radius:5px;background-color:transparent;font-size:15px;transition:var(--transition)}.input[_ngcontent-%COMP%]::-webkit-input-placeholder{-webkit-transition:var(--transition);transition:var(--transition)}.input.light[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--strong-dark)}.input.light.valid[_ngcontent-%COMP%]{border-color:var(--weak-light)}.input.light[_ngcontent-%COMP%]:focus{border-color:var(--weak-dark)}.input.dark[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--strong-light)}.input.dark.valid[_ngcontent-%COMP%]{border-color:var(--weak-dark)}.input.dark[_ngcontent-%COMP%]:focus{border-color:var(--weak-light)}.input.invalid[_ngcontent-%COMP%]{border-color:var(--red)!important}"]}),t})();const Zb=function(t){return["button",t]};let oN=(()=>{class t{constructor(n){this.darkModeService=n,this.lapTimeValidity$=new xe(!0),this.appearance$=new xe(""),this.inputsData={lapTimeMin:this.getInputData(this.lapTimeValidity$),lapTimeS:this.getInputData(this.lapTimeValidity$),lapTimeMS:this.getInputData(this.lapTimeValidity$),fuelPerLap:this.getInputData(),raceLength:this.getInputData(),fuelPer100:this.getInputData(),distance:this.getInputData()},this.inputRegex=ek,this.calcLock=!1,this.resultValue=new xe(0),this.result=""}ngOnInit(){this.darkModeService.bindAppearance(this.appearance$),this.resultValue.pipe(function tk(t,e=te){return t=null!=t?t:nk,qe((n,r)=>{let i,o=!0;n.subscribe(He(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}()).subscribe(n=>{this.result=n+" l"})}calcRaceFuel(){const n={lapTimeMin:this.inputsData.lapTimeMin,lapTimeS:this.inputsData.lapTimeS,lapTimeMS:this.inputsData.lapTimeMS,fuelPerLap:this.inputsData.fuelPerLap,raceLength:this.inputsData.raceLength};if(!this.initialCalcValidation(n))return;const r=6e4*+n.lapTimeMin.value$.getValue()+1e3*+n.lapTimeMS.value$.getValue()+ +n.lapTimeMS.value$.getValue(),i=+n.fuelPerLap.value$.getValue(),o=6e4*+n.raceLength.value$.getValue(),s={lapTime:{value:r,validity:this.lapTimeValidity$},fuelPerLap:{value:i,validity:n.fuelPerLap.externalValidity$},raceLength:{value:o,validity:n.raceLength.externalValidity$}};this.finalCalcValidation(s)&&this.setResult(s.fuelPerLap.value*(s.raceLength.value/s.lapTime.value))}calcRoadFuel(){const n={fuelPer100:this.inputsData.fuelPer100,distance:this.inputsData.distance};if(!this.initialCalcValidation(n))return;const r=+n.fuelPer100.value$.getValue(),i=+n.distance.value$.getValue(),o={fuelPer100:{value:r,validity:n.fuelPer100.externalValidity$},distance:{value:i,validity:n.distance.externalValidity$}};this.finalCalcValidation(o)&&this.setResult(o.fuelPer100.value*(o.distance.value/100))}initialCalcValidation(n){if(this.calcLock)return!1;for(const r of Object.values(n))if(!r.localValidity$.getValue()||!r.externalValidity$.getValue())return!1;return!0}finalCalcValidation(n){const r=Object.values(n).filter(i=>0===i.value);return!(r.length>0&&(this.highlightInputs(r.map(i=>i.validity)),1))}highlightInputs(n){n.forEach(r=>{r.next(!1)})}getInputData(n=new xe(!0)){return{value$:new xe(""),localValidity$:new xe(!0),externalValidity$:n}}setResult(n){this.calcLock=!0;const a={iteration:0,limit:50,valueGap:(n-this.resultValue.getValue())/50,timeGap:10,currentValue:this.resultValue.getValue()};this.setResultLoop(a)}setResultLoop(n){if(n.iteration>=n.limit){const r=this.fixFloatingPointPrecision(n.currentValue);return this.resultValue.next(r),void(this.calcLock=!1)}setTimeout(()=>{n.currentValue+=n.valueGap,this.resultValue.next(Math.ceil(n.currentValue)),n.iteration++,this.setResultLoop(n)},n.timeGap)}fixFloatingPointPrecision(n){let r=Math.round(100*(n+Number.EPSILON))/100;return Math.ceil(r)}}return t.\u0275fac=function(n){return new(n||t)(G(cr))},t.\u0275cmp=Ht({type:t,selectors:[["app-fuel"]],decls:30,vars:46,consts:[[1,"centralized-layout"],[1,"fuel"],[1,"fuel-categories"],[1,"fuel-race"],[2,"justify-self","right","grid-area","a"],[2,"grid-area","b",3,"placeholder","localValidity$","externalValidity$","value$","valueRegex"],[2,"grid-area","c",3,"placeholder","localValidity$","externalValidity$","value$","valueRegex"],[2,"grid-area","d",3,"placeholder","localValidity$","externalValidity$","value$","valueRegex"],[2,"justify-self","right","grid-area","e"],[2,"grid-area","f",3,"placeholder","localValidity$","externalValidity$","value$","valueRegex"],[2,"justify-self","right","grid-area","g"],[2,"grid-area","h",3,"placeholder","localValidity$","externalValidity$","value$","valueRegex"],[2,"grid-area","i",3,"ngClass","click"],[1,"fuel-road"],[2,"justify-self","right","grid-area","c"],[2,"grid-area","e",3,"ngClass","click"],[1,"fuel-result"]],template:function(n,r){1&n&&(Oe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),wn(5," Lap time "),Le(),Ke(6,"app-input",5)(7,"app-input",6)(8,"app-input",7),Oe(9,"div",8),wn(10," Fuel per lap "),Le(),Ke(11,"app-input",9),Oe(12,"div",10),wn(13," Race length "),Le(),Ke(14,"app-input",11),Oe(15,"div",12),ut("click",function(){return r.calcRaceFuel()}),gt(16,"async"),wn(17," Calculate race fuel "),Le()(),Oe(18,"div",13)(19,"div",4),wn(20," Fuel per 100 km "),Le(),Ke(21,"app-input",5),Oe(22,"div",14),wn(23," Distance "),Le(),Ke(24,"app-input",7),Oe(25,"div",15),ut("click",function(){return r.calcRoadFuel()}),gt(26,"async"),wn(27," Calculate road fuel "),Le()()(),Oe(28,"div",16),wn(29),Le()()()),2&n&&(Be(6),Ie("placeholder","min")("localValidity$",r.inputsData.lapTimeMin.localValidity$)("externalValidity$",r.inputsData.lapTimeMin.externalValidity$)("value$",r.inputsData.lapTimeMin.value$)("valueRegex",r.inputRegex.LIMIT_99),Be(1),Ie("placeholder","s")("localValidity$",r.inputsData.lapTimeS.localValidity$)("externalValidity$",r.inputsData.lapTimeS.externalValidity$)("value$",r.inputsData.lapTimeS.value$)("valueRegex",r.inputRegex.LIMIT_59),Be(1),Ie("placeholder","ms")("localValidity$",r.inputsData.lapTimeMS.localValidity$)("externalValidity$",r.inputsData.lapTimeMS.externalValidity$)("value$",r.inputsData.lapTimeMS.value$)("valueRegex",r.inputRegex.LIMIT_99),Be(3),Ie("placeholder","l")("localValidity$",r.inputsData.fuelPerLap.localValidity$)("externalValidity$",r.inputsData.fuelPerLap.externalValidity$)("value$",r.inputsData.fuelPerLap.value$)("valueRegex",r.inputRegex.LIMIT_99_9),Be(3),Ie("placeholder","min")("localValidity$",r.inputsData.raceLength.localValidity$)("externalValidity$",r.inputsData.raceLength.externalValidity$)("value$",r.inputsData.raceLength.value$)("valueRegex",r.inputRegex.LIMIT_9999),Be(1),Ie("ngClass",Ot(42,Zb,mt(16,38,r.appearance$))),Be(6),Ie("placeholder","l")("localValidity$",r.inputsData.fuelPer100.localValidity$)("externalValidity$",r.inputsData.fuelPer100.externalValidity$)("value$",r.inputsData.fuelPer100.value$)("valueRegex",r.inputRegex.LIMIT_99_9),Be(3),Ie("placeholder","km")("localValidity$",r.inputsData.distance.localValidity$)("externalValidity$",r.inputsData.distance.externalValidity$)("value$",r.inputsData.distance.value$)("valueRegex",r.inputRegex.LIMIT_9999),Be(1),Ie("ngClass",Ot(44,Zb,mt(26,40,r.appearance$))),Be(4),$o(r.result))},directives:[Yb,Hn],pipes:[$n],styles:['div[_ngcontent-%COMP%]{text-align:right}.fuel[_ngcontent-%COMP%]{display:grid;grid-gap:100px;gap:100px;align-items:center;justify-items:center;font-size:20px;grid-template-columns:auto;grid-template-rows:auto auto}.fuel-categories[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:100px;align-items:center;justify-content:center}.fuel-result[_ngcontent-%COMP%]{font-size:25px}.fuel-race[_ngcontent-%COMP%]{display:grid;grid-gap:20px;gap:20px;align-items:center;justify-items:center;grid-template-areas:"a b c d" "e f . ." "g h . ." "i i i i"}.fuel-road[_ngcontent-%COMP%]{display:grid;grid-gap:20px;gap:20px;align-items:center;justify-items:center;grid-template-areas:"a b" "c d" "e e"}']}),t})();const sN=function(t){return["menu-item","menu-fuel",t]},aN=function(t){return["menu-item","menu-game",t]},cN=function(t){return["menu-item","menu-streaming",t]};let uN=(()=>{class t{constructor(n){this.darkModeService=n,this.appearance$=new xe("")}ngOnInit(){this.darkModeService.bindAppearance(this.appearance$)}}return t.\u0275fac=function(n){return new(n||t)(G(cr))},t.\u0275cmp=Ht({type:t,selectors:[["app-menu"]],decls:10,vars:15,consts:[[1,"centralized-layout"],[1,"menu"],["routerLink","/fuel"],[3,"ngClass"],["routerLink","/streams"]],template:function(n,r){1&n&&(Oe(0,"div",0)(1,"div",1)(2,"a",2),Ke(3,"div",3),gt(4,"async"),Le(),Ke(5,"div",3),gt(6,"async"),Oe(7,"a",4),Ke(8,"div",3),gt(9,"async"),Le()()()),2&n&&(Be(3),Ie("ngClass",Ot(9,sN,mt(4,3,r.appearance$))),Be(2),Ie("ngClass",Ot(11,aN,mt(6,5,r.appearance$))),Be(3),Ie("ngClass",Ot(13,cN,mt(9,7,r.appearance$))))},directives:[eo,Hn],pipes:[$n],styles:[".menu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:100px;align-items:center;justify-content:center}.menu-item[_ngcontent-%COMP%]{flex-shrink:0;background-size:200px 200px;height:200px;width:200px;transition:var(--transition)}.menu-item[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.menu-item.light[_ngcontent-%COMP%]{filter:var(--strong-dark-filter)}.menu-item.dark[_ngcontent-%COMP%]{filter:var(--strong-light-filter)}.menu-fuel[_ngcontent-%COMP%]{background-image:url(fuel.65a8154820cf3eea.svg)}.menu-game[_ngcontent-%COMP%]{background-image:url(gamepad.c72b3b6e1a218c7a.svg)}.menu-streaming[_ngcontent-%COMP%]{background-image:url(streaming.e832ce26b50a843e.svg)}"]}),t})(),lN=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-stream"]],decls:3,vars:0,consts:[[1,"centralized-layout"],["controls","",1,"player"],["src","https://www.w3schools.com/html/mov_bbb.mp4","type","video/mp4"]],template:function(n,r){1&n&&(Oe(0,"div",0)(1,"video",1),Ke(2,"source",2),Le()())},styles:[".player[_ngcontent-%COMP%]{max-height:80%;max-width:80%}"]}),t})();const qn=Object.create(null);qn.open="0",qn.close="1",qn.ping="2",qn.pong="3",qn.message="4",qn.upgrade="5",qn.noop="6";const Mc=Object.create(null);Object.keys(qn).forEach(t=>{Mc[qn[t]]=t});const dN={type:"error",data:"parser error"},fN="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),hN="function"==typeof ArrayBuffer,Xb=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+r)},n.readAsDataURL(t)},eD=({type:t,data:e},n,r)=>fN&&e instanceof Blob?n?r(e):Xb(e,r):hN&&(e instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer)(e))?n?r(e):Xb(new Blob([e]),r):r(qn[t]+(e||""));for(var ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ds="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Ic=0;Ic<ro.length;Ic++)Ds[ro.charCodeAt(Ic)]=Ic;const yN="function"==typeof ArrayBuffer,_N=(t,e)=>{if(yN){const n=function(t){var r,o,s,a,c,e=.75*t.length,n=t.length,i=0;"="===t[t.length-1]&&(e--,"="===t[t.length-2]&&e--);var u=new ArrayBuffer(e),g=new Uint8Array(u);for(r=0;r<n;r+=4)o=Ds[t.charCodeAt(r)],s=Ds[t.charCodeAt(r+1)],a=Ds[t.charCodeAt(r+2)],c=Ds[t.charCodeAt(r+3)],g[i++]=o<<2|s>>4,g[i++]=(15&s)<<4|a>>2,g[i++]=(3&a)<<6|63&c;return u}(t);return tD(n,e)}return{base64:!0,data:t}},tD=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t,nD=(t,e)=>{if("string"!=typeof t)return{type:"message",data:tD(t,e)};const n=t.charAt(0);return"b"===n?{type:"message",data:_N(t.substring(1),e)}:Mc[n]?t.length>1?{type:Mc[n],data:t.substring(1)}:{type:Mc[n]}:dN},rD=String.fromCharCode(30);function ot(t){if(t)return function DN(t){for(var e in ot.prototype)t[e]=ot.prototype[e];return t}(t)}ot.prototype.on=ot.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},ot.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},ot.prototype.off=ot.prototype.removeListener=ot.prototype.removeAllListeners=ot.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},ot.prototype.emitReserved=ot.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},ot.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},ot.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ar="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function oD(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const wN=setTimeout,EN=clearTimeout;function Ac(t,e){e.useNativeTimers?(t.setTimeoutFn=wN.bind(Ar),t.clearTimeoutFn=EN.bind(Ar)):(t.setTimeoutFn=setTimeout.bind(Ar),t.clearTimeoutFn=clearTimeout.bind(Ar))}function TN(t){return"string"==typeof t?function MN(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))}class IN extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class sD extends ot{constructor(e){super(),this.writable=!1,Ac(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new IN(e,n,r)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=nD(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const aD="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),cD={};let lD,uD=0,Pr=0;function dD(t){let e="";do{e=aD[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function fD(){const t=dD(+new Date);return t!==lD?(uD=0,lD=t):t+"."+dD(uD++)}for(;Pr<64;Pr++)cD[aD[Pr]]=Pr;function hD(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}let pD=!1;try{pD="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const PN=pD;function gD(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||PN))return new XMLHttpRequest}catch(n){}if(!e)try{return new(Ar[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function RN(){}const ON=null!=new gD({xdomain:!1}).responseType;let Rc=(()=>{class t extends ot{constructor(n,r){super(),Ac(this,r),this.opts=r,this.method=r.method||"GET",this.uri=n,this.async=!1!==r.async,this.data=void 0!==r.data?r.data:null,this.create()}create(){const n=oD(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd,n.xscheme=!!this.opts.xs;const r=this.xhr=new gD(n);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}"undefined"!=typeof document&&(this.index=t.requestsCount++,t.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(null!=this.xhr){if(this.xhr.onreadystatechange=RN,n)try{this.xhr.abort()}catch(r){}"undefined"!=typeof document&&delete t.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;null!==n&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return t.requestsCount=0,t.requests={},t})();function mD(){for(let t in Rc.requests)Rc.requests.hasOwnProperty(t)&&Rc.requests[t].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",mD):"function"==typeof addEventListener&&addEventListener("onpagehide"in Ar?"pagehide":"unload",mD,!1));const kN="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ws=Ar.WebSocket||Ar.MozWebSocket,yD="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Bf extends sD{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=yD?{}:oD(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=yD?new ws(e,n,r):n?new ws(e,n):new ws(e)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=n===e.length-1;eD(e[n],this.supportsBinary,o=>{try{this.ws.send(o)}catch(a){}i&&kN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===n&&443!==Number(this.opts.port)||"ws"===n&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=fD()),this.supportsBinary||(e.b64=1);const i=hD(e);return n+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!(!ws||"__initialize"in ws&&this.name===Bf.prototype.name)}}const FN={websocket:Bf,polling:class xN extends sD{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const r="https:"===location.protocol;let i=location.port;i||(i=r?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==r}this.supportsBinary=ON&&!(e&&e.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((t,e)=>{const n=t.split(rD),r=[];for(let i=0;i<n.length;i++){const o=nD(n[i],e);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((o,s)=>{eD(o,!1,a=>{r[s]=a,++i===n&&e(r.join(rD))})})})(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const n=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=fD()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&("https"===n&&443!==Number(this.opts.port)||"http"===n&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const i=hD(e);return n+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Rc(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}},LN=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,VN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Uf(t){const e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=LN.exec(t||""),o={},s=14;for(;s--;)o[VN[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function jN(t,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.substr(0,1)||0===e.length)&&r.splice(0,1),"/"==e.substr(e.length-1,1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function BN(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}(0,o.query),o}let vD=(()=>{class t extends ot{constructor(n,r={}){super(),n&&"object"==typeof n&&(r=n,n=null),n?(n=Uf(n),r.hostname=n.host,r.secure="https"===n.protocol||"wss"===n.protocol,r.port=n.port,n.query&&(r.query=n.query)):r.host&&(r.hostname=Uf(r.host).host),Ac(this,r),this.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=r.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function AN(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=n,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[n],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new FN[n](i)}open(){let n;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))n="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);n=this.transports[0]}this.readyState="opening";try{n=this.createTransport(n)}catch(r){return this.transports.shift(),void this.open()}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(n){let r=this.createTransport(n),i=!1;t.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",S=>{if(!i)if("pong"===S.type&&"probe"===S.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;t.priorWebsocketSuccess="websocket"===r.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(y(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const I=new Error("probe error");I.transport=r.name,this.emitReserved("upgradeError",I)}}))};function s(){i||(i=!0,y(),r.close(),r=null)}const a=S=>{const I=new Error("probe error: "+S);I.transport=r.name,s(),this.emitReserved("upgradeError",I)};function c(){a("transport closed")}function u(){a("socket closed")}function g(S){r&&S.name!==r.name&&s()}const y=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",c),this.off("close",u),this.off("upgrading",g)};r.once("open",o),r.once("error",a),r.once("close",c),this.once("close",u),this.once("upgrading",g),r.open()}onOpen(){if(this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let n=0;const r=this.upgrades.length;for(;n<r;n++)this.probe(this.upgrades[n])}}onPacket(n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=n.data,this.onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data)}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=TN(o)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(n,r,i){return this.sendPacket("message",n,r,i),this}send(n,r,i){return this.sendPacket("message",n,r,i),this}sendPacket(n,r,i,o){if("function"==typeof r&&(o=r,r=void 0),"function"==typeof i&&(o=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const s={type:n,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():n()}):this.upgrading?i():n()),this}onError(n){t.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,r){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const r=[];let i=0;const o=n.length;for(;i<o;i++)~this.transports.indexOf(n[i])&&r.push(n[i]);return r}}return t.protocol=4,t})();const HN="function"==typeof ArrayBuffer,_D=Object.prototype.toString,GN="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===_D.call(Blob),zN="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===_D.call(File);function Hf(t){return HN&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||GN&&t instanceof Blob||zN&&t instanceof File}function Oc(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Oc(t[n]))return!0;return!1}if(Hf(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return Oc(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Oc(t[n]))return!0;return!1}function WN(t){const e=[],r=t;return r.data=$f(t.data,e),r.attachments=e.length,{packet:r,buffers:e}}function $f(t,e){if(!t)return t;if(Hf(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=$f(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=$f(t[r],e));return n}return t}function qN(t,e){return t.data=Gf(t.data,e),t.attachments=void 0,t}function Gf(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Gf(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Gf(t[n],e));return t}const QN=5;var we=(()=>{return(t=we||(we={}))[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",we;var t})();class JN{constructor(e){this.replacer=e}encode(e){return e.type!==we.EVENT&&e.type!==we.ACK||!Oc(e)?[this.encodeAsString(e)]:(e.type=e.type===we.EVENT?we.BINARY_EVENT:we.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let n=""+e.type;return(e.type===we.BINARY_EVENT||e.type===we.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=WN(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class zf extends ot{constructor(e){super(),this.reviver=e}add(e){let n;if("string"==typeof e)n=this.decodeString(e),n.type===we.BINARY_EVENT||n.type===we.BINARY_ACK?(this.reconstructor=new KN(n),0===n.attachments&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n);else{if(!Hf(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n))}}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(void 0===we[r.type])throw new Error("unknown packet type "+r.type);if(r.type===we.BINARY_EVENT||r.type===we.BINARY_ACK){const o=n+1;for(;"-"!==e.charAt(++n)&&n!=e.length;);const s=e.substring(o,n);if(s!=Number(s)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(n+1)){const o=n+1;for(;++n&&","!==e.charAt(n)&&n!==e.length;);r.nsp=e.substring(o,n)}else r.nsp="/";const i=e.charAt(n+1);if(""!==i&&Number(i)==i){const o=n+1;for(;++n;){const s=e.charAt(n);if(null==s||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(!zf.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(n){return!1}}static isPayloadValid(e,n){switch(e){case we.CONNECT:return"object"==typeof n;case we.DISCONNECT:return void 0===n;case we.CONNECT_ERROR:return"string"==typeof n||"object"==typeof n;case we.EVENT:case we.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case we.ACK:case we.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class KN{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=qN(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Mn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const YN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class CD extends ot{constructor(e,n,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Mn(e,"open",this.onopen.bind(this)),Mn(e,"packet",this.onpacket.bind(this)),Mn(e,"error",this.onerror.bind(this)),Mn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(YN.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');n.unshift(e);const r={type:we.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){const s=this.ids++,a=n.pop();this._registerAckCallback(s,a),r.id=s}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=n);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this.packet({type:we.CONNECT,data:e})}):this.packet({type:we.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case we.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case we.EVENT:case we.BINARY_EVENT:this.onevent(e);break;case we.ACK:case we.BINARY_ACK:this.onack(e);break;case we.DISCONNECT:this.ondisconnect();break;case we.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const n=e.data||[];null!=e.id&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:we.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];"function"==typeof n&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:we.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function io(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}io.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},io.prototype.reset=function(){this.attempts=0},io.prototype.setMin=function(t){this.ms=t},io.prototype.setMax=function(t){this.max=t},io.prototype.setJitter=function(t){this.jitter=t};class Wf extends ot{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Ac(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new io({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||$;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(n=this.backoff)||void 0===n||n.setMin(e),this)}randomizationFactor(e){var n;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(n=this.backoff)||void 0===n||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(n=this.backoff)||void 0===n||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new vD(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Mn(n,"open",function(){r.onopen(),e&&e()}),o=Mn(n,"error",s=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",s),e?e(s):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const s=this._timeout;0===s&&i();const a=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Mn(e,"ping",this.onping.bind(this)),Mn(e,"data",this.ondata.bind(this)),Mn(e,"error",this.onerror.bind(this)),Mn(e,"close",this.onclose.bind(this)),Mn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r||(r=new CD(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Es={};function xc(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function UN(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=Uf(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id;let c;return e.forceNew||e["force new connection"]||!1===e.multiplex||Es[i]&&n.path in Es[i].nsps?c=new Wf(r,e):(Es[i]||(Es[i]=new Wf(r,e)),c=Es[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(xc,{Manager:Wf,Socket:CD,io:xc,connect:xc});var ZN=Jn(321),XN=Jn.n(ZN);class bD{}class DD{}class dr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof dr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new dr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof dr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class eF{encodeKey(e){return wD(e)}encodeValue(e){return wD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nF=/%(\d[a-f0-9])/gi,rF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function wD(t){return encodeURIComponent(t).replace(nF,(e,n)=>{var r;return null!==(r=rF[n])&&void 0!==r?r:e})}function ED(t){return`${t}`}class Rr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new eF,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tF(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Rr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(ED(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ED(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class iF{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function SD(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function TD(t){return"undefined"!=typeof Blob&&t instanceof Blob}function MD(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ss{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function oF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new dr),this.context||(this.context=new iF),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Rr,this.urlWithParams=n}serializeBody(){return null===this.body?null:SD(this.body)||TD(this.body)||MD(this.body)||function sF(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MD(this.body)?null:TD(this.body)?this.body.type||null:SD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,g=e.params||this.params;const y=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((S,I)=>S.set(I,e.setHeaders[I]),u)),e.setParams&&(g=Object.keys(e.setParams).reduce((S,I)=>S.set(I,e.setParams[I]),g)),new Ss(r,i,s,{params:g,headers:u,context:y,reportProgress:c,responseType:o,withCredentials:a})}}var st=(()=>((st=st||{})[st.Sent=0]="Sent",st[st.UploadProgress=1]="UploadProgress",st[st.ResponseHeader=2]="ResponseHeader",st[st.DownloadProgress=3]="DownloadProgress",st[st.Response=4]="Response",st[st.User=5]="User",st))();class qf{constructor(e,n=200,r="OK"){this.headers=e.headers||new dr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Qf extends qf{constructor(e={}){super(e),this.type=st.ResponseHeader}clone(e={}){return new Qf({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kc extends qf{constructor(e={}){super(e),this.type=st.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new kc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ID extends qf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Jf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let AD=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ss)o=n;else{let c,u;c=i.headers instanceof dr?i.headers:new dr(i.headers),i.params&&(u=i.params instanceof Rr?i.params:new Rr({fromObject:i.params})),o=new Ss(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=he(o).pipe(Ji(c=>this.handler.handle(c)));if(n instanceof Ss||"events"===i.observe)return s;const a=s.pipe(Kr(c=>c instanceof kc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Me(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Rr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Jf(i,r))}post(n,r,i={}){return this.request("POST",n,Jf(i,r))}put(n,r,i={}){return this.request("PUT",n,Jf(i,r))}}return t.\u0275fac=function(n){return new(n||t)(ee(bD))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();class PD{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const RD=new ye("HTTP_INTERCEPTORS");let aF=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();const cF=/^\)\]\}',?\n/;let OD=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((I,L)=>i.setRequestHeader(I,L.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const I=n.detectContentTypeHeader();null!==I&&i.setRequestHeader("Content-Type",I)}if(n.responseType){const I=n.responseType.toLowerCase();i.responseType="json"!==I?I:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const I=i.statusText||"OK",L=new dr(i.getAllResponseHeaders()),H=function uF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return s=new Qf({headers:L,status:i.status,statusText:I,url:H}),s},c=()=>{let{headers:I,status:L,statusText:H,url:W}=a(),z=null;204!==L&&(z=void 0===i.response?i.responseText:i.response),0===L&&(L=z?200:0);let U=L>=200&&L<300;if("json"===n.responseType&&"string"==typeof z){const X=z;z=z.replace(cF,"");try{z=""!==z?JSON.parse(z):null}catch(se){z=X,U&&(U=!1,z={error:se,text:z})}}U?(r.next(new kc({body:z,headers:I,status:L,statusText:H,url:W||void 0})),r.complete()):r.error(new ID({error:z,headers:I,status:L,statusText:H,url:W||void 0}))},u=I=>{const{url:L}=a(),H=new ID({error:I,status:i.status||0,statusText:i.statusText||"Unknown Error",url:L||void 0});r.error(H)};let g=!1;const y=I=>{g||(r.next(a()),g=!0);let L={type:st.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(L.total=I.total),"text"===n.responseType&&!!i.responseText&&(L.partialText=i.responseText),r.next(L)},S=I=>{let L={type:st.UploadProgress,loaded:I.loaded};I.lengthComputable&&(L.total=I.total),r.next(L)};return i.addEventListener("load",c),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),n.reportProgress&&(i.addEventListener("progress",y),null!==o&&i.upload&&i.upload.addEventListener("progress",S)),i.send(o),r.next({type:st.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",c),i.removeEventListener("timeout",u),n.reportProgress&&(i.removeEventListener("progress",y),null!==o&&i.upload&&i.upload.removeEventListener("progress",S)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(ee(D_))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})();const Kf=new ye("XSRF_COOKIE_NAME"),Yf=new ye("XSRF_HEADER_NAME");class xD{}let lF=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=p_(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(ee(Jt),ee(Na),ee(Kf))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),Zf=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(ee(xD),ee(Yf))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),dF=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(RD,[]);this.chain=r.reduceRight((i,o)=>new PD(i,o),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(ee(DD),ee(Et))},t.\u0275prov=fe({token:t,factory:t.\u0275fac}),t})(),fF=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Zf,useClass:aF}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:Kf,useValue:n.cookieName}:[],n.headerName?{provide:Yf,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({providers:[Zf,{provide:RD,useExisting:Zf,multi:!0},{provide:xD,useClass:lF},{provide:Kf,useValue:"XSRF-TOKEN"},{provide:Yf,useValue:"X-XSRF-TOKEN"}]}),t})(),hF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({providers:[AD,{provide:bD,useClass:dF},OD,{provide:DD,useExisting:OD}],imports:[[fF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),pF=(()=>{class t{constructor(n){this.httpClient=n,this.socket=xc({port:443,path:"/socket"}),this.peer=new(XN())({host:"/",port:443,path:"/peer",secure:!0,debug:3})}start(n){this.stream=n,this.socket.on("viewerJoining",r=>{this.peer.call(r,n),console.log(`User ${r} joined`)}),this.socket.on("viewerLeaving",r=>{console.log(`User ${r} left`)}),this.socket.emit("startStream"),this.stream.getVideoTracks()[0].addEventListener("ended",()=>{this.endStream()})}join(n){}leave(n){}fetchAll(){return this.httpClient.get("/api/streams")}endStream(){this.socket.emit("endStream"),this.socket.off("viewerJoining"),this.socket.off("viewerLeaving"),this.stream=void 0}}return t.\u0275fac=function(n){return new(n||t)(ee(AD))},t.\u0275prov=fe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gF=(()=>{class t{constructor(){}ngAfterViewInit(){var n;null===(n=this.appAfterElementInit)||void 0===n||n.call(this,this.appAfterElementInitParameter)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ie({type:t,selectors:[["","appAfterElementInit",""]],inputs:{appAfterElementInit:"appAfterElementInit",appAfterElementInitParameter:"appAfterElementInitParameter"}}),t})();function mF(t,e){1&t&&Ke(0,"div")}const yF=function(){return["stream-preview"]};function vF(t,e){if(1&t){const n=xl();Oe(0,"video",7,8),ut("mouseleave",function(){return su(n),ba().leavePreview()}),Le()}if(2&t){const n=_a(1),r=ba();Ie("ngClass",function Zy(t,e,n){const r=It()+t,i=q();return i[r]===de?Fn(i,r,n?e.call(n):e()):function Bo(t,e){return t[e]}(i,r)}(3,yF))("appAfterElementInit",r.afterPreviewInit)("appAfterElementInitParameter",n)}}function _F(t,e){if(1&t){const n=xl();Oe(0,"img",9),ut("mouseenter",function(){return su(n),ba().enterPreview()}),Le()}}const CF=function(t){return["/streams",t]};let bF=(()=>{class t{constructor(n){this.darkModeService=n,this.appearance$=new xe(""),this.preview$=new xe(!1)}ngOnInit(){this.darkModeService.bindAppearance(this.appearance$)}enterPreview(){this.preview$.next(!0)}leavePreview(){this.preview$.next(!1)}afterPreviewInit(n){n.src="https://www.w3schools.com/html/mov_bbb.mp4#t=0.5"}}return t.\u0275fac=function(n){return new(n||t)(G(cr))},t.\u0275cmp=Ht({type:t,selectors:[["app-stream-card"]],inputs:{streamData:"streamData"},decls:12,vars:10,consts:[[1,"stream-card"],[3,"routerLink"],[4,"ngIf","ngIfThen","ngIfElse"],["previewTemplate",""],["iconTemplate",""],[1,"stream-id"],[1,"stream-author"],[3,"ngClass","appAfterElementInit","appAfterElementInitParameter","mouseleave"],["preview",""],["src","https://www.w3schools.com/images/lamp.jpg",1,"stream-icon",3,"mouseenter"]],template:function(n,r){if(1&n&&(Oe(0,"div",0)(1,"a",1),Bi(2,mF,1,0,"div",2),gt(3,"async"),Le(),Bi(4,vF,2,4,"ng-template",null,3,Ra),Bi(6,_F,1,0,"ng-template",null,4,Ra),Oe(8,"div",5),wn(9),Le(),Oe(10,"div",6),wn(11),Le()()),2&n){const i=_a(5),o=_a(7);Be(1),Ie("routerLink",Ot(8,CF,r.streamData.id)),Be(1),Ie("ngIf",mt(3,6,r.preview$))("ngIfThen",i)("ngIfElse",o),Be(7),$o(r.streamData.id),Be(2),$o(r.streamData.author)}},directives:[eo,Nd,Hn,gF],pipes:[$n],styles:[".stream-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px;grid-template-rows:150px auto auto;grid-gap:5px;gap:5px;align-items:center;justify-items:center}.stream-card[_ngcontent-%COMP%]   .stream-preview[_ngcontent-%COMP%]{max-width:200px;max-height:150px;border-radius:10px}.stream-card[_ngcontent-%COMP%]   .stream-icon[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%}.stream-card[_ngcontent-%COMP%]   .stream-id[_ngcontent-%COMP%], .stream-card[_ngcontent-%COMP%]   .stream-author[_ngcontent-%COMP%]{overflow:hidden}"]}),t})();const DF=function(t){return["loader",t]};let wF=(()=>{class t{constructor(n){this.darkModeService=n,this.appearance$=new xe("")}ngOnInit(){this.darkModeService.bindAppearance(this.appearance$)}}return t.\u0275fac=function(n){return new(n||t)(G(cr))},t.\u0275cmp=Ht({type:t,selectors:[["app-loader"]],decls:2,vars:5,consts:[[3,"ngClass"]],template:function(n,r){1&n&&(Ke(0,"div",0),gt(1,"async")),2&n&&Ie("ngClass",Ot(3,DF,mt(1,1,r.appearance$)))},directives:[Hn],pipes:[$n],styles:[".loader[_ngcontent-%COMP%]{border:2px solid;border-radius:50%;border-top:2px solid;width:20px;height:20px;animation:spin 1s linear infinite;transition:border-color var(--transition),border-top-color var(--transition)}.loader.light[_ngcontent-%COMP%]{border-color:var(--mid-light);border-top-color:var(--strong-dark)}.loader.dark[_ngcontent-%COMP%]{border-color:var(--mid-dark);border-top-color:var(--strong-light)}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),t})();const EF=["streamCardsContainer"],SF=["streamCardTemplate"],TF=["loader"],MF=function(t,e,n){return{id:t,author:e,creationTime:n}};function IF(t,e){1&t&&Ke(0,"app-stream-card",8),2&t&&Ie("streamData",Xy(1,MF,e.id,e.author,e.creationTime))}function AF(t,e){1&t&&Ke(0,"app-loader")}const PF=function(t){return["streams-search",t]},RF=function(t){return["streams-loader",t]},OF=[{path:"",component:uN},{path:"fuel",component:oN},{path:"streams",component:(()=>{class t{constructor(n,r){this.darkModeService=n,this.streamService=r,this.smallInputWidth="300px",this.standardInputWidth="550px",this.inputWidthChangeThreshold=650,this.appearance$=new xe(""),this.inputWidth$=new xe(window.innerWidth<this.inputWidthChangeThreshold?this.smallInputWidth:this.standardInputWidth),this.searchPhrase$=new xe(""),this.smallerScreen=window.matchMedia("(max-width: "+this.inputWidthChangeThreshold+"px)"),this.standardScreen=window.matchMedia("(min-width: "+this.inputWidthChangeThreshold+"px)"),this.intersectionObserver=new IntersectionObserver(i=>{i[0].isIntersecting&&this.loadStreams()},{threshold:1}),this.isLoading=!1}ngOnInit(){this.darkModeService.bindAppearance(this.appearance$)}ngAfterViewInit(){this.setScreenChangeListeners(),this.intersectionObserver.observe(this.loader.nativeElement)}ngOnDestroy(){this.removeScreenChangeListeners()}setScreenChangeListeners(){this.smallerScreen.addEventListener("change",n=>this.setSmallInputWidth(n)),this.standardScreen.addEventListener("change",n=>this.setStandardInputWidth(n))}removeScreenChangeListeners(){this.smallerScreen.removeEventListener("change",n=>this.setSmallInputWidth(n)),this.standardScreen.removeEventListener("change",n=>this.setStandardInputWidth(n))}setSmallInputWidth(n){n.matches&&this.inputWidth$.next(this.smallInputWidth)}setStandardInputWidth(n){n.matches&&this.inputWidth$.next(this.standardInputWidth)}loadStreams(){this.isLoading=!0,this.streamService.fetchAll().pipe(z_(()=>this.isLoading=!1)).subscribe(n=>{n.forEach(r=>{this.createStreamCard(r)})})}createStreamCard(n){const r=this.streamCardTemplate.createEmbeddedView({id:n.id,author:n.author,creationTime:n.creationTime});this.streamCardsContainer.insert(r)}}return t.\u0275fac=function(n){return new(n||t)(G(cr),G(pF))},t.\u0275cmp=Ht({type:t,selectors:[["app-streams"]],viewQuery:function(n,r){if(1&n&&(Xo(EF,5,un),Xo(SF,5,Bn),Xo(TF,5)),2&n){let i;zr(i=Wr())&&(r.streamCardsContainer=i.first),zr(i=Wr())&&(r.streamCardTemplate=i.first),zr(i=Wr())&&(r.loader=i.first)}},decls:13,vars:14,consts:[[1,"streams-layout"],[3,"ngClass"],[3,"width$","placeholder","value$"],[1,"streams"],["streamCardsContainer",""],["streamCardTemplate",""],["loader",""],[4,"ngIf"],[3,"streamData"]],template:function(n,r){1&n&&(Oe(0,"div",0)(1,"div",1),gt(2,"async"),Ke(3,"app-input",2),Le(),Oe(4,"div",3),Ol(5,null,4),Bi(7,IF,1,5,"ng-template",null,5,Ra),Le(),Oe(9,"div",1,6),gt(11,"async"),Bi(12,AF,1,0,"app-loader",7),Le()()),2&n&&(Be(1),Ie("ngClass",Ot(10,PF,mt(2,6,r.appearance$))),Be(2),Ie("width$",r.inputWidth$)("placeholder","Search")("value$",r.searchPhrase$),Be(6),Ie("ngClass",Ot(12,RF,mt(11,8,r.appearance$))),Be(3),Ie("ngIf",r.isLoading))},directives:[Hn,Yb,bF,Nd,wF],pipes:[$n],styles:[".streams-layout[_ngcontent-%COMP%]{display:grid;grid-template-rows:75px 1fr 75px;grid-template-columns:1fr}.streams-search[_ngcontent-%COMP%]{display:grid;align-items:center;justify-items:center}.streams[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;column-gap:20px;row-gap:15px;margin-left:20px;margin-right:20px;justify-content:center}.streams-loader[_ngcontent-%COMP%]{display:grid;align-items:center;justify-items:center}"]}),t})()},{path:"streams/:id",component:lN}];let xF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t}),t.\u0275inj=Ut({imports:[[$C.forRoot(OF)],$C]}),t})(),kF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=en({type:t,bootstrap:[X1]}),t.\u0275inj=Ut({providers:[],imports:[[xF,mO,nN,hF]]}),t})();(function nP(){Gv=!1})(),pO().bootstrapModule(kF).catch(t=>console.error(t))},321:(Or,Qn,Jn)=>{parcelRequire=function($,Y,F,P){var w,T="function"==typeof parcelRequire&&parcelRequire;function k(h,C){if(!Y[h]){if(!$[h]){var _="function"==typeof parcelRequire&&parcelRequire;if(!C&&_)return _(h,!0);if(T)return T(h,!0);if("string"==typeof h)return Jn(784)(h);var D=new Error("Cannot find module '"+h+"'");throw D.code="MODULE_NOT_FOUND",D}m.resolve=function(v){return $[h][1][v]||v},m.cache={};var E=Y[h]=new k.Module(h);$[h][0].call(E.exports,m,E,E.exports,this)}return Y[h].exports;function m(v){return k(m.resolve(v))}}k.isParcelRequire=!0,k.Module=function(h){this.id=h,this.bundle=k,this.exports={}},k.modules=$,k.cache=Y,k.parent=T,k.register=function(h,C){$[h]=[function(_,D){D.exports=C},{}]};for(var O=0;O<F.length;O++)try{k(F[O])}catch(h){w||(w=h)}if(F.length){var M=k(F[F.length-1]);Or.exports=M}if(parcelRequire=k,w)throw w;return k}({EgBh:[function($,Y,F){var P={};P.useBlobBuilder=function(){try{return new Blob([]),!1}catch(A){return!0}}(),P.useArrayBufferView=!P.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(A){return!0}}(),Y.exports.binaryFeatures=P;var w=Y.exports.BlobBuilder;function T(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(w=Y.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),T.prototype.append=function(A){"number"==typeof A?this._pieces.push(A):(this.flush(),this._parts.push(A))},T.prototype.flush=function(){if(this._pieces.length>0){var A=new Uint8Array(this._pieces);P.useArrayBufferView||(A=A.buffer),this._parts.push(A),this._pieces=[]}},T.prototype.getBuffer=function(){if(this.flush(),P.useBlobBuilder){for(var A=new w,k=0,O=this._parts.length;k<O;k++)A.append(this._parts[k]);return A.getBlob()}return new Blob(this._parts)},Y.exports.BufferBuilder=T},{}],kdPp:[function($,Y,F){var P=$("./bufferbuilder").BufferBuilder,w=$("./bufferbuilder").binaryFeatures;function A(h){this.index=0,this.dataBuffer=h,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function k(){this.bufferBuilder=new P}function O(h){var C=h.charCodeAt(0);return C<=2047?"00":C<=65535?"000":C<=2097151?"0000":C<=67108863?"00000":"000000"}Y.exports={unpack:function(h){return new A(h).unpack()},pack:function(h){var C=new k;return C.pack(h),C.getBuffer()}},A.prototype.unpack=function(){var h,C=this.unpack_uint8();if(C<128)return C;if((224^C)<32)return(224^C)-32;if((h=160^C)<=15)return this.unpack_raw(h);if((h=176^C)<=15)return this.unpack_string(h);if((h=144^C)<=15)return this.unpack_array(h);if((h=128^C)<=15)return this.unpack_map(h);switch(C){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return h=this.unpack_uint16(),this.unpack_string(h);case 217:return h=this.unpack_uint32(),this.unpack_string(h);case 218:return h=this.unpack_uint16(),this.unpack_raw(h);case 219:return h=this.unpack_uint32(),this.unpack_raw(h);case 220:return h=this.unpack_uint16(),this.unpack_array(h);case 221:return h=this.unpack_uint32(),this.unpack_array(h);case 222:return h=this.unpack_uint16(),this.unpack_map(h);case 223:return h=this.unpack_uint32(),this.unpack_map(h)}},A.prototype.unpack_uint8=function(){var h=255&this.dataView[this.index];return this.index++,h},A.prototype.unpack_uint16=function(){var h=this.read(2),C=256*(255&h[0])+(255&h[1]);return this.index+=2,C},A.prototype.unpack_uint32=function(){var h=this.read(4),C=256*(256*(256*h[0]+h[1])+h[2])+h[3];return this.index+=4,C},A.prototype.unpack_uint64=function(){var h=this.read(8),C=256*(256*(256*(256*(256*(256*(256*h[0]+h[1])+h[2])+h[3])+h[4])+h[5])+h[6])+h[7];return this.index+=8,C},A.prototype.unpack_int8=function(){var h=this.unpack_uint8();return h<128?h:h-256},A.prototype.unpack_int16=function(){var h=this.unpack_uint16();return h<32768?h:h-65536},A.prototype.unpack_int32=function(){var h=this.unpack_uint32();return h<Math.pow(2,31)?h:h-Math.pow(2,32)},A.prototype.unpack_int64=function(){var h=this.unpack_uint64();return h<Math.pow(2,63)?h:h-Math.pow(2,64)},A.prototype.unpack_raw=function(h){if(this.length<this.index+h)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+h+" "+this.length);var C=this.dataBuffer.slice(this.index,this.index+h);return this.index+=h,C},A.prototype.unpack_string=function(h){for(var C,_,D=this.read(h),E=0,m="";E<h;)(C=D[E])<128?(m+=String.fromCharCode(C),E++):(192^C)<32?(_=(192^C)<<6|63&D[E+1],m+=String.fromCharCode(_),E+=2):(_=(15&C)<<12|(63&D[E+1])<<6|63&D[E+2],m+=String.fromCharCode(_),E+=3);return this.index+=h,m},A.prototype.unpack_array=function(h){for(var C=new Array(h),_=0;_<h;_++)C[_]=this.unpack();return C},A.prototype.unpack_map=function(h){for(var C={},_=0;_<h;_++){var D=this.unpack(),E=this.unpack();C[D]=E}return C},A.prototype.unpack_float=function(){var h=this.unpack_uint32();return(h>>31==0?1:-1)*(8388607&h|8388608)*Math.pow(2,(h>>23&255)-127-23)},A.prototype.unpack_double=function(){var h=this.unpack_uint32(),C=this.unpack_uint32(),_=(h>>20&2047)-1023;return(h>>31==0?1:-1)*((1048575&h|1048576)*Math.pow(2,_-20)+C*Math.pow(2,_-52))},A.prototype.read=function(h){var C=this.index;if(C+h<=this.length)return this.dataView.subarray(C,C+h);throw new Error("BinaryPackFailure: read index out of range")},k.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},k.prototype.pack=function(h){var C=typeof h;if("string"===C)this.pack_string(h);else if("number"===C)Math.floor(h)===h?this.pack_integer(h):this.pack_double(h);else if("boolean"===C)!0===h?this.bufferBuilder.append(195):!1===h&&this.bufferBuilder.append(194);else if("undefined"===C)this.bufferBuilder.append(192);else{if("object"!==C)throw new Error('Type "'+C+'" not yet supported');if(null===h)this.bufferBuilder.append(192);else{var _=h.constructor;if(_==Array)this.pack_array(h);else if(_==Blob||_==File||h instanceof Blob||h instanceof File)this.pack_bin(h);else if(_==ArrayBuffer)this.pack_bin(w.useArrayBufferView?new Uint8Array(h):h);else if("BYTES_PER_ELEMENT"in h)this.pack_bin(w.useArrayBufferView?new Uint8Array(h.buffer):h.buffer);else if(_==Object||_.toString().startsWith("class"))this.pack_object(h);else if(_==Date)this.pack_string(h.toString());else{if("function"!=typeof h.toBinaryPack)throw new Error('Type "'+_.toString()+'" not yet supported');this.bufferBuilder.append(h.toBinaryPack())}}}this.bufferBuilder.flush()},k.prototype.pack_bin=function(h){var C=h.length||h.byteLength||h.size;if(C<=15)this.pack_uint8(160+C);else if(C<=65535)this.bufferBuilder.append(218),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(C)}this.bufferBuilder.append(h)},k.prototype.pack_string=function(h){var C=function M(h){return h.length>600?new Blob([h]).size:h.replace(/[^\u0000-\u007F]/g,O).length}(h);if(C<=15)this.pack_uint8(176+C);else if(C<=65535)this.bufferBuilder.append(216),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(C)}this.bufferBuilder.append(h)},k.prototype.pack_array=function(h){var C=h.length;if(C<=15)this.pack_uint8(144+C);else if(C<=65535)this.bufferBuilder.append(220),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(C)}for(var _=0;_<C;_++)this.pack(h[_])},k.prototype.pack_integer=function(h){if(h>=-32&&h<=127)this.bufferBuilder.append(255&h);else if(h>=0&&h<=255)this.bufferBuilder.append(204),this.pack_uint8(h);else if(h>=-128&&h<=127)this.bufferBuilder.append(208),this.pack_int8(h);else if(h>=0&&h<=65535)this.bufferBuilder.append(205),this.pack_uint16(h);else if(h>=-32768&&h<=32767)this.bufferBuilder.append(209),this.pack_int16(h);else if(h>=0&&h<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(h);else if(h>=-2147483648&&h<=2147483647)this.bufferBuilder.append(210),this.pack_int32(h);else if(h>=-0x8000000000000000&&h<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(h);else{if(!(h>=0&&h<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(h)}},k.prototype.pack_double=function(h){var C=0;h<0&&(C=1,h=-h);var _=Math.floor(Math.log(h)/Math.LN2),D=h/Math.pow(2,_)-1,E=Math.floor(D*Math.pow(2,52)),m=Math.pow(2,32),v=C<<31|_+1023<<20|E/m&1048575,p=E%m;this.bufferBuilder.append(203),this.pack_int32(v),this.pack_int32(p)},k.prototype.pack_object=function(h){var C=Object.keys(h).length;if(C<=15)this.pack_uint8(128+C);else if(C<=65535)this.bufferBuilder.append(222),this.pack_uint16(C);else{if(!(C<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(C)}for(var _ in h)h.hasOwnProperty(_)&&(this.pack(_),this.pack(h[_]))},k.prototype.pack_uint8=function(h){this.bufferBuilder.append(h)},k.prototype.pack_uint16=function(h){this.bufferBuilder.append(h>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_uint32=function(h){var C=4294967295&h;this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C)},k.prototype.pack_uint64=function(h){var C=h/Math.pow(2,32),_=h%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&_)>>>24),this.bufferBuilder.append((16711680&_)>>>16),this.bufferBuilder.append((65280&_)>>>8),this.bufferBuilder.append(255&_)},k.prototype.pack_int8=function(h){this.bufferBuilder.append(255&h)},k.prototype.pack_int16=function(h){this.bufferBuilder.append((65280&h)>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_int32=function(h){this.bufferBuilder.append(h>>>24&255),this.bufferBuilder.append((16711680&h)>>>16),this.bufferBuilder.append((65280&h)>>>8),this.bufferBuilder.append(255&h)},k.prototype.pack_int64=function(h){var C=Math.floor(h/Math.pow(2,32)),_=h%Math.pow(2,32);this.bufferBuilder.append((4278190080&C)>>>24),this.bufferBuilder.append((16711680&C)>>>16),this.bufferBuilder.append((65280&C)>>>8),this.bufferBuilder.append(255&C),this.bufferBuilder.append((4278190080&_)>>>24),this.bufferBuilder.append((16711680&_)>>>16),this.bufferBuilder.append((65280&_)>>>8),this.bufferBuilder.append(255&_)}},{"./bufferbuilder":"EgBh"}],iSxC:[function($,Y,F){"use strict";function w(d){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(d)}Object.defineProperty(F,"__esModule",{value:!0}),F.extractVersion=k,F.wrapPeerConnectionEvent=function O(d,l,f){if(d.RTCPeerConnection){var b=d.RTCPeerConnection.prototype,R=b.addEventListener;b.addEventListener=function(N,j){if(N!==l)return R.apply(this,arguments);var B=function(V){var Q=f(V);Q&&(j.handleEvent?j.handleEvent(Q):j(Q))};return this._eventMap=this._eventMap||{},this._eventMap[l]||(this._eventMap[l]=new Map),this._eventMap[l].set(j,B),R.apply(this,[N,B])};var x=b.removeEventListener;b.removeEventListener=function(N,j){if(N!==l||!this._eventMap||!this._eventMap[l])return x.apply(this,arguments);if(!this._eventMap[l].has(j))return x.apply(this,arguments);var B=this._eventMap[l].get(j);return this._eventMap[l].delete(j),0===this._eventMap[l].size&&delete this._eventMap[l],0===Object.keys(this._eventMap).length&&delete this._eventMap,x.apply(this,[N,B])},Object.defineProperty(b,"on"+l,{get:function(){return this["_on"+l]},set:function(N){this["_on"+l]&&(this.removeEventListener(l,this["_on"+l]),delete this["_on"+l]),N&&this.addEventListener(l,this["_on"+l]=N)},enumerable:!0,configurable:!0})}},F.disableLog=function M(d){return"boolean"!=typeof d?new Error("Argument type: "+w(d)+". Please use a boolean."):(T=d,d?"adapter.js logging disabled":"adapter.js logging enabled")},F.disableWarnings=function h(d){return"boolean"!=typeof d?new Error("Argument type: "+w(d)+". Please use a boolean."):(A=!d,"adapter.js deprecation warnings "+(d?"disabled":"enabled"))},F.log=function C(){if("object"===("undefined"==typeof window?"undefined":w(window))){if(T)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},F.deprecated=function _(d,l){A&&console.warn(d+" is deprecated, please use "+l+" instead.")},F.detectBrowser=function D(d){var l={browser:null,version:null};if(void 0===d||!d.navigator)return l.browser="Not a browser.",l;var{navigator:f}=d;if(f.mozGetUserMedia)l.browser="firefox",l.version=k(f.userAgent,/Firefox\/(\d+)\./,1);else if(f.webkitGetUserMedia||!1===d.isSecureContext&&d.webkitRTCPeerConnection&&!d.RTCIceGatherer)l.browser="chrome",l.version=k(f.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(f.mediaDevices&&f.userAgent.match(/Edge\/(\d+).(\d+)$/))l.browser="edge",l.version=k(f.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!d.RTCPeerConnection||!f.userAgent.match(/AppleWebKit\/(\d+)\./))return l.browser="Not a supported browser.",l;l.browser="safari",l.version=k(f.userAgent,/AppleWebKit\/(\d+)\./,1),l.supportsUnifiedPlan=d.RTCRtpTransceiver&&"currentDirection"in d.RTCRtpTransceiver.prototype}return l},F.compactObject=function m(d){return E(d)?Object.keys(d).reduce(function(l,f){var b=E(d[f]),R=b?m(d[f]):d[f],x=b&&!Object.keys(R).length;return void 0===R||x?l:Object.assign(l,function P(d,l,f){return l in d?Object.defineProperty(d,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[l]=f,d}({},f,R))},{}):d},F.walkStats=v,F.filterStats=function p(d,l,f){var b=f?"outbound-rtp":"inbound-rtp",R=new Map;if(null===l)return R;var x=[];return d.forEach(function(N){"track"===N.type&&N.trackIdentifier===l.id&&x.push(N)}),x.forEach(function(N){d.forEach(function(j){j.type===b&&j.trackId===N.id&&v(d,j,R)})}),R};var T=!0,A=!0;function k(d,l,f){var b=d.match(l);return b&&b.length>=f&&parseInt(b[f],10)}function E(d){return"[object Object]"===Object.prototype.toString.call(d)}function v(d,l,f){l&&!f.has(l.id)&&(f.set(l.id,l),Object.keys(l).forEach(function(b){b.endsWith("Id")?v(d,d.get(l[b]),f):b.endsWith("Ids")&&l[b].forEach(function(R){v(d,d.get(R),f)})}))}},{}],s6SN:[function($,Y,F){"use strict";function w(){if("function"!=typeof WeakMap)return null;var M=new WeakMap;return w=function(){return M},M}function A(M){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(M)}Object.defineProperty(F,"__esModule",{value:!0}),F.shimGetUserMedia=function O(M,h){var C=M&&M.navigator;if(C.mediaDevices){var _=function(v){if("object"!==A(v)||v.mandatory||v.optional)return v;var p={};return Object.keys(v).forEach(function(d){if("require"!==d&&"advanced"!==d&&"mediaSource"!==d){var l="object"===A(v[d])?v[d]:{ideal:v[d]};void 0!==l.exact&&"number"==typeof l.exact&&(l.min=l.max=l.exact);var f=function(R,x){return R?R+x.charAt(0).toUpperCase()+x.slice(1):"deviceId"===x?"sourceId":x};if(void 0!==l.ideal){p.optional=p.optional||[];var b={};"number"==typeof l.ideal?(b[f("min",d)]=l.ideal,p.optional.push(b),(b={})[f("max",d)]=l.ideal,p.optional.push(b)):(b[f("",d)]=l.ideal,p.optional.push(b))}void 0!==l.exact&&"number"!=typeof l.exact?(p.mandatory=p.mandatory||{},p.mandatory[f("",d)]=l.exact):["min","max"].forEach(function(R){void 0!==l[R]&&(p.mandatory=p.mandatory||{},p.mandatory[f(R,d)]=l[R])})}}),v.advanced&&(p.optional=(p.optional||[]).concat(v.advanced)),p},D=function(v,p){if(h.version>=61)return p(v);if((v=JSON.parse(JSON.stringify(v)))&&"object"===A(v.audio)){var d=function(R,x,N){x in R&&!(N in R)&&(R[N]=R[x],delete R[x])};d((v=JSON.parse(JSON.stringify(v))).audio,"autoGainControl","googAutoGainControl"),d(v.audio,"noiseSuppression","googNoiseSuppression"),v.audio=_(v.audio)}if(v&&"object"===A(v.video)){var l=v.video.facingMode;l=l&&("object"===A(l)?l:{ideal:l});var f,b=h.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!C.mediaDevices.getSupportedConstraints||!C.mediaDevices.getSupportedConstraints().facingMode||b)&&(delete v.video.facingMode,"environment"===l.exact||"environment"===l.ideal?f=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(f=["front"]),f))return C.mediaDevices.enumerateDevices().then(function(R){var x=(R=R.filter(function(N){return"videoinput"===N.kind})).find(function(N){return f.some(function(j){return N.label.toLowerCase().includes(j)})});return!x&&R.length&&f.includes("back")&&(x=R[R.length-1]),x&&(v.video.deviceId=l.exact?{exact:x.deviceId}:{ideal:x.deviceId}),v.video=_(v.video),k("chrome: "+JSON.stringify(v)),p(v)});v.video=_(v.video)}return k("chrome: "+JSON.stringify(v)),p(v)},E=function(v){return h.version>=64?v:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[v.name]||v.name,message:v.message,constraint:v.constraint||v.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(C.getUserMedia=function(v,p,d){D(v,function(l){C.webkitGetUserMedia(l,p,function(f){d&&d(E(f))})})}.bind(C),C.mediaDevices.getUserMedia){var m=C.mediaDevices.getUserMedia.bind(C.mediaDevices);C.mediaDevices.getUserMedia=function(v){return D(v,function(p){return m(p).then(function(d){if(p.audio&&!d.getAudioTracks().length||p.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(function(l){l.stop()}),new DOMException("","NotFoundError");return d},function(d){return Promise.reject(E(d))})})}}}};var k=function T(M){if(M&&M.__esModule)return M;if(null===M||"object"!=typeof M&&"function"!=typeof M)return{default:M};var h=w();if(h&&h.has(M))return h.get(M);var C={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in M)if(Object.prototype.hasOwnProperty.call(M,D)){var E=_?Object.getOwnPropertyDescriptor(M,D):null;E&&(E.get||E.set)?Object.defineProperty(C,D,E):C[D]=M[D]}return C.default=M,h&&h.set(M,C),C}($("../utils.js")).log},{"../utils.js":"iSxC"}],VHa8:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimGetDisplayMedia=function P(w,T){w.navigator.mediaDevices&&"getDisplayMedia"in w.navigator.mediaDevices||w.navigator.mediaDevices&&("function"==typeof T?w.navigator.mediaDevices.getDisplayMedia=function(A){return T(A).then(function(k){var O=A.video&&A.video.width,M=A.video&&A.video.height;return A.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:k,maxFrameRate:A.video&&A.video.frameRate||3}},O&&(A.video.mandatory.maxWidth=O),M&&(A.video.mandatory.maxHeight=M),w.navigator.mediaDevices.getUserMedia(A)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],uI5X:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimMediaStream=function h(l){l.MediaStream=l.MediaStream||l.webkitMediaStream},F.shimOnTrack=function C(l){if("object"!==M(l)||!l.RTCPeerConnection||"ontrack"in l.RTCPeerConnection.prototype)P.wrapPeerConnectionEvent(l,"track",function(b){return b.transceiver||Object.defineProperty(b,"transceiver",{value:{receiver:b.receiver}}),b});else{Object.defineProperty(l.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(b){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=b)},enumerable:!0,configurable:!0});var f=l.RTCPeerConnection.prototype.setRemoteDescription;l.RTCPeerConnection.prototype.setRemoteDescription=function(){var b=this;return this._ontrackpoly||(this._ontrackpoly=function(R){R.stream.addEventListener("addtrack",function(x){var N;N=l.RTCPeerConnection.prototype.getReceivers?b.getReceivers().find(function(B){return B.track&&B.track.id===x.track.id}):{track:x.track};var j=new Event("track");j.track=x.track,j.receiver=N,j.transceiver={receiver:N},j.streams=[R.stream],b.dispatchEvent(j)}),R.stream.getTracks().forEach(function(x){var N;N=l.RTCPeerConnection.prototype.getReceivers?b.getReceivers().find(function(B){return B.track&&B.track.id===x.id}):{track:x};var j=new Event("track");j.track=x,j.receiver=N,j.transceiver={receiver:N},j.streams=[R.stream],b.dispatchEvent(j)})},this.addEventListener("addstream",this._ontrackpoly)),f.apply(this,arguments)}}},F.shimGetSendersWithDtmf=function _(l){if("object"===M(l)&&l.RTCPeerConnection&&!("getSenders"in l.RTCPeerConnection.prototype)&&"createDTMFSender"in l.RTCPeerConnection.prototype){var f=function(B,V){return{track:V,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===V.kind?B.createDTMFSender(V):null),this._dtmf},_pc:B}};if(!l.RTCPeerConnection.prototype.getSenders){l.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var b=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(B,V){var Q=b.apply(this,arguments);return Q||(Q=f(this,B),this._senders.push(Q)),Q};var R=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(B){R.apply(this,arguments);var V=this._senders.indexOf(B);-1!==V&&this._senders.splice(V,1)}}var x=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(B){var V=this;this._senders=this._senders||[],x.apply(this,[B]),B.getTracks().forEach(function(Q){V._senders.push(f(V,Q))})};var N=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(B){var V=this;this._senders=this._senders||[],N.apply(this,[B]),B.getTracks().forEach(function(Q){var J=V._senders.find(function(te){return te.track===Q});J&&V._senders.splice(V._senders.indexOf(J),1)})}}else if("object"===M(l)&&l.RTCPeerConnection&&"getSenders"in l.RTCPeerConnection.prototype&&"createDTMFSender"in l.RTCPeerConnection.prototype&&l.RTCRtpSender&&!("dtmf"in l.RTCRtpSender.prototype)){var j=l.RTCPeerConnection.prototype.getSenders;l.RTCPeerConnection.prototype.getSenders=function(){var B=this,V=j.apply(this,[]);return V.forEach(function(Q){return Q._pc=B}),V},Object.defineProperty(l.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}},F.shimGetStats=function D(l){if(l.RTCPeerConnection){var f=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){var b=this,[R,x,N]=arguments;if(arguments.length>0&&"function"==typeof R)return f.apply(this,arguments);if(0===f.length&&(0===arguments.length||"function"!=typeof R))return f.apply(this,[]);var j=function(V){var Q={};return V.result().forEach(function(J){var te={id:J.id,timestamp:J.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[J.type]||J.type};J.names().forEach(function(re){te[re]=J.stat(re)}),Q[te.id]=te}),Q},B=function(V){return new Map(Object.keys(V).map(function(Q){return[Q,V[Q]]}))};return arguments.length>=2?f.apply(this,[function(V){x(B(j(V)))},R]):new Promise(function(V,Q){f.apply(b,[function(J){V(B(j(J)))},Q])}).then(x,N)}}},F.shimSenderReceiverGetStats=function E(l){if("object"===M(l)&&l.RTCPeerConnection&&l.RTCRtpSender&&l.RTCRtpReceiver){if(!("getStats"in l.RTCRtpSender.prototype)){var f=l.RTCPeerConnection.prototype.getSenders;f&&(l.RTCPeerConnection.prototype.getSenders=function(){var N=this,j=f.apply(this,[]);return j.forEach(function(B){return B._pc=N}),j});var b=l.RTCPeerConnection.prototype.addTrack;b&&(l.RTCPeerConnection.prototype.addTrack=function(){var N=b.apply(this,arguments);return N._pc=this,N}),l.RTCRtpSender.prototype.getStats=function(){var N=this;return this._pc.getStats().then(function(j){return P.filterStats(j,N.track,!0)})}}if(!("getStats"in l.RTCRtpReceiver.prototype)){var R=l.RTCPeerConnection.prototype.getReceivers;R&&(l.RTCPeerConnection.prototype.getReceivers=function(){var N=this,j=R.apply(this,[]);return j.forEach(function(B){return B._pc=N}),j}),P.wrapPeerConnectionEvent(l,"track",function(N){return N.receiver._pc=N.srcElement,N}),l.RTCRtpReceiver.prototype.getStats=function(){var N=this;return this._pc.getStats().then(function(j){return P.filterStats(j,N.track,!1)})}}if("getStats"in l.RTCRtpSender.prototype&&"getStats"in l.RTCRtpReceiver.prototype){var x=l.RTCPeerConnection.prototype.getStats;l.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof l.MediaStreamTrack){var N,j,B,V=arguments[0];return this.getSenders().forEach(function(Q){Q.track===V&&(N?B=!0:N=Q)}),this.getReceivers().forEach(function(Q){return Q.track===V&&(j?B=!0:j=Q),Q.track===V}),B||N&&j?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):N?N.getStats():j?j.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return x.apply(this,arguments)}}}},F.shimAddTrackRemoveTrackWithNative=m,F.shimAddTrackRemoveTrack=function v(l,f){if(l.RTCPeerConnection){if(l.RTCPeerConnection.prototype.addTrack&&f.version>=65)return m(l);var b=l.RTCPeerConnection.prototype.getLocalStreams;l.RTCPeerConnection.prototype.getLocalStreams=function(){var V=this,Q=b.apply(this);return this._reverseStreams=this._reverseStreams||{},Q.map(function(J){return V._reverseStreams[J.id]})};var R=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(V){var Q=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},V.getTracks().forEach(function(te){if(Q.getSenders().find(function(re){return re.track===te}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[V.id]){var J=new l.MediaStream(V.getTracks());this._streams[V.id]=J,this._reverseStreams[J.id]=V,V=J}R.apply(this,[V])};var x=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(V){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},x.apply(this,[this._streams[V.id]||V]),delete this._reverseStreams[this._streams[V.id]?this._streams[V.id].id:V.id],delete this._streams[V.id]},l.RTCPeerConnection.prototype.addTrack=function(V,Q){var J=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var te=[].slice.call(arguments,1);if(1!==te.length||!te[0].getTracks().find(function(ue){return ue===V}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(ue){return ue.track===V}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var re=this._streams[Q.id];if(re)re.addTrack(V),Promise.resolve().then(function(){J.dispatchEvent(new Event("negotiationneeded"))});else{var Ae=new l.MediaStream([V]);this._streams[Q.id]=Ae,this._reverseStreams[Ae.id]=Q,this.addStream(Ae)}return this.getSenders().find(function(ue){return ue.track===V})},["createOffer","createAnswer"].forEach(function(V){var Q=l.RTCPeerConnection.prototype[V],J=O({},V,function(){var te=this,re=arguments;return arguments.length&&"function"==typeof arguments[0]?Q.apply(this,[function(Ae){var ue=B(te,Ae);re[0].apply(null,[ue])},function(Ae){re[1]&&re[1].apply(null,Ae)},arguments[2]]):Q.apply(this,arguments).then(function(Ae){return B(te,Ae)})});l.RTCPeerConnection.prototype[V]=J[V]});var N=l.RTCPeerConnection.prototype.setLocalDescription;l.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(V=this,J=(Q=arguments[0]).sdp,Object.keys(V._reverseStreams||[]).forEach(function(te){var re=V._reverseStreams[te],Ae=V._streams[re.id];J=J.replace(new RegExp(re.id,"g"),Ae.id)}),new RTCSessionDescription({type:Q.type,sdp:J})),N.apply(this,arguments)):N.apply(this,arguments);var V,Q,J};var j=Object.getOwnPropertyDescriptor(l.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(l.RTCPeerConnection.prototype,"localDescription",{get:function(){var V=j.get.apply(this);return""===V.type?V:B(this,V)}}),l.RTCPeerConnection.prototype.removeTrack=function(V){var Q,J=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!V._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(V._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(function(te){J._streams[te].getTracks().find(function(re){return V.track===re})&&(Q=J._streams[te])}),Q&&(1===Q.getTracks().length?this.removeStream(this._reverseStreams[Q.id]):Q.removeTrack(V.track),this.dispatchEvent(new Event("negotiationneeded")))}}function B(V,Q){var J=Q.sdp;return Object.keys(V._reverseStreams||[]).forEach(function(te){var re=V._reverseStreams[te];J=J.replace(new RegExp(V._streams[re.id].id,"g"),re.id)}),new RTCSessionDescription({type:Q.type,sdp:J})}},F.shimPeerConnection=function p(l,f){!l.RTCPeerConnection&&l.webkitRTCPeerConnection&&(l.RTCPeerConnection=l.webkitRTCPeerConnection),l.RTCPeerConnection&&f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var R=l.RTCPeerConnection.prototype[b],x=O({},b,function(){return arguments[0]=new("addIceCandidate"===b?l.RTCIceCandidate:l.RTCSessionDescription)(arguments[0]),R.apply(this,arguments)});l.RTCPeerConnection.prototype[b]=x[b]})},F.fixNegotiationNeeded=function d(l,f){P.wrapPeerConnectionEvent(l,"negotiationneeded",function(b){var R=b.target;if(!(f.version<72||R.getConfiguration&&"plan-b"===R.getConfiguration().sdpSemantics)||"stable"===R.signalingState)return b})},Object.defineProperty(F,"shimGetUserMedia",{enumerable:!0,get:function(){return w.shimGetUserMedia}}),Object.defineProperty(F,"shimGetDisplayMedia",{enumerable:!0,get:function(){return T.shimGetDisplayMedia}});var P=function k(l){if(l&&l.__esModule)return l;if(null===l||"object"!=typeof l&&"function"!=typeof l)return{default:l};var f=A();if(f&&f.has(l))return f.get(l);var b={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in l)if(Object.prototype.hasOwnProperty.call(l,x)){var N=R?Object.getOwnPropertyDescriptor(l,x):null;N&&(N.get||N.set)?Object.defineProperty(b,x,N):b[x]=l[x]}return b.default=l,f&&f.set(l,b),b}($("../utils.js")),w=$("./getusermedia"),T=$("./getdisplaymedia");function A(){if("function"!=typeof WeakMap)return null;var l=new WeakMap;return A=function(){return l},l}function O(l,f,b){return f in l?Object.defineProperty(l,f,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[f]=b,l}function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(l)}function m(l){l.RTCPeerConnection.prototype.getLocalStreams=function(){var N=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(j){return N._shimmedLocalStreams[j][0]})};var f=l.RTCPeerConnection.prototype.addTrack;l.RTCPeerConnection.prototype.addTrack=function(N,j){if(!j)return f.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var B=f.apply(this,arguments);return this._shimmedLocalStreams[j.id]?-1===this._shimmedLocalStreams[j.id].indexOf(B)&&this._shimmedLocalStreams[j.id].push(B):this._shimmedLocalStreams[j.id]=[j,B],B};var b=l.RTCPeerConnection.prototype.addStream;l.RTCPeerConnection.prototype.addStream=function(N){var j=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},N.getTracks().forEach(function(Q){if(j.getSenders().find(function(J){return J.track===Q}))throw new DOMException("Track already exists.","InvalidAccessError")});var B=this.getSenders();b.apply(this,arguments);var V=this.getSenders().filter(function(Q){return-1===B.indexOf(Q)});this._shimmedLocalStreams[N.id]=[N].concat(V)};var R=l.RTCPeerConnection.prototype.removeStream;l.RTCPeerConnection.prototype.removeStream=function(N){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[N.id],R.apply(this,arguments)};var x=l.RTCPeerConnection.prototype.removeTrack;l.RTCPeerConnection.prototype.removeTrack=function(N){var j=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},N&&Object.keys(this._shimmedLocalStreams).forEach(function(B){var V=j._shimmedLocalStreams[B].indexOf(N);-1!==V&&j._shimmedLocalStreams[B].splice(V,1),1===j._shimmedLocalStreams[B].length&&delete j._shimmedLocalStreams[B]}),x.apply(this,arguments)}}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.filterIceServers=function A(k,O){var M=!1;return(k=JSON.parse(JSON.stringify(k))).filter(function(h){if(h&&(h.urls||h.url)){var C=h.urls||h.url;h.url&&!h.urls&&P.deprecated("RTCIceServer.url","RTCIceServer.urls");var _="string"==typeof C;return _&&(C=[C]),C=C.filter(function(D){if(0===D.indexOf("stun:"))return!1;var E=D.startsWith("turn")&&!D.startsWith("turn:[")&&D.includes("transport=udp");return E&&!M?(M=!0,!0):E&&!M}),delete h.url,h.urls=_?C[0]:C,!!C.length}})};var P=function T(k){if(k&&k.__esModule)return k;if(null===k||"object"!=typeof k&&"function"!=typeof k)return{default:k};var O=w();if(O&&O.has(k))return O.get(k);var M={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in k)if(Object.prototype.hasOwnProperty.call(k,C)){var _=h?Object.getOwnPropertyDescriptor(k,C):null;_&&(_.get||_.set)?Object.defineProperty(M,C,_):M[C]=k[C]}return M.default=k,O&&O.set(k,M),M}($("../utils"));function w(){if("function"!=typeof WeakMap)return null;var k=new WeakMap;return w=function(){return k},k}},{"../utils":"iSxC"}],YHvh:[function($,Y,F){"use strict";var P={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};P.localCName=P.generateIdentifier(),P.splitLines=function(w){return w.trim().split("\n").map(function(T){return T.trim()})},P.splitSections=function(w){return w.split("\nm=").map(function(T,A){return(A>0?"m="+T:T).trim()+"\r\n"})},P.getDescription=function(w){var T=P.splitSections(w);return T&&T[0]},P.getMediaSections=function(w){var T=P.splitSections(w);return T.shift(),T},P.matchPrefix=function(w,T){return P.splitLines(w).filter(function(A){return 0===A.indexOf(T)})},P.parseCandidate=function(w){for(var T,A={foundation:(T=0===w.indexOf("a=candidate:")?w.substring(12).split(" "):w.substring(10).split(" "))[0],component:parseInt(T[1],10),protocol:T[2].toLowerCase(),priority:parseInt(T[3],10),ip:T[4],address:T[4],port:parseInt(T[5],10),type:T[7]},k=8;k<T.length;k+=2)switch(T[k]){case"raddr":A.relatedAddress=T[k+1];break;case"rport":A.relatedPort=parseInt(T[k+1],10);break;case"tcptype":A.tcpType=T[k+1];break;case"ufrag":A.ufrag=T[k+1],A.usernameFragment=T[k+1];break;default:A[T[k]]=T[k+1]}return A},P.writeCandidate=function(w){var T=[];T.push(w.foundation),T.push(w.component),T.push(w.protocol.toUpperCase()),T.push(w.priority),T.push(w.address||w.ip),T.push(w.port);var A=w.type;return T.push("typ"),T.push(A),"host"!==A&&w.relatedAddress&&w.relatedPort&&(T.push("raddr"),T.push(w.relatedAddress),T.push("rport"),T.push(w.relatedPort)),w.tcpType&&"tcp"===w.protocol.toLowerCase()&&(T.push("tcptype"),T.push(w.tcpType)),(w.usernameFragment||w.ufrag)&&(T.push("ufrag"),T.push(w.usernameFragment||w.ufrag)),"candidate:"+T.join(" ")},P.parseIceOptions=function(w){return w.substr(14).split(" ")},P.parseRtpMap=function(w){var T=w.substr(9).split(" "),A={payloadType:parseInt(T.shift(),10)};return T=T[0].split("/"),A.name=T[0],A.clockRate=parseInt(T[1],10),A.channels=3===T.length?parseInt(T[2],10):1,A.numChannels=A.channels,A},P.writeRtpMap=function(w){var T=w.payloadType;void 0!==w.preferredPayloadType&&(T=w.preferredPayloadType);var A=w.channels||w.numChannels||1;return"a=rtpmap:"+T+" "+w.name+"/"+w.clockRate+(1!==A?"/"+A:"")+"\r\n"},P.parseExtmap=function(w){var T=w.substr(9).split(" ");return{id:parseInt(T[0],10),direction:T[0].indexOf("/")>0?T[0].split("/")[1]:"sendrecv",uri:T[1]}},P.writeExtmap=function(w){return"a=extmap:"+(w.id||w.preferredId)+(w.direction&&"sendrecv"!==w.direction?"/"+w.direction:"")+" "+w.uri+"\r\n"},P.parseFmtp=function(w){for(var T,A={},k=w.substr(w.indexOf(" ")+1).split(";"),O=0;O<k.length;O++)A[(T=k[O].trim().split("="))[0].trim()]=T[1];return A},P.writeFmtp=function(w){var T="",A=w.payloadType;if(void 0!==w.preferredPayloadType&&(A=w.preferredPayloadType),w.parameters&&Object.keys(w.parameters).length){var k=[];Object.keys(w.parameters).forEach(function(O){k.push(w.parameters[O]?O+"="+w.parameters[O]:O)}),T+="a=fmtp:"+A+" "+k.join(";")+"\r\n"}return T},P.parseRtcpFb=function(w){var T=w.substr(w.indexOf(" ")+1).split(" ");return{type:T.shift(),parameter:T.join(" ")}},P.writeRtcpFb=function(w){var T="",A=w.payloadType;return void 0!==w.preferredPayloadType&&(A=w.preferredPayloadType),w.rtcpFeedback&&w.rtcpFeedback.length&&w.rtcpFeedback.forEach(function(k){T+="a=rtcp-fb:"+A+" "+k.type+(k.parameter&&k.parameter.length?" "+k.parameter:"")+"\r\n"}),T},P.parseSsrcMedia=function(w){var T=w.indexOf(" "),A={ssrc:parseInt(w.substr(7,T-7),10)},k=w.indexOf(":",T);return k>-1?(A.attribute=w.substr(T+1,k-T-1),A.value=w.substr(k+1)):A.attribute=w.substr(T+1),A},P.parseSsrcGroup=function(w){var T=w.substr(13).split(" ");return{semantics:T.shift(),ssrcs:T.map(function(A){return parseInt(A,10)})}},P.getMid=function(w){var T=P.matchPrefix(w,"a=mid:")[0];if(T)return T.substr(6)},P.parseFingerprint=function(w){var T=w.substr(14).split(" ");return{algorithm:T[0].toLowerCase(),value:T[1]}},P.getDtlsParameters=function(w,T){return{role:"auto",fingerprints:P.matchPrefix(w+T,"a=fingerprint:").map(P.parseFingerprint)}},P.writeDtlsParameters=function(w,T){var A="a=setup:"+T+"\r\n";return w.fingerprints.forEach(function(k){A+="a=fingerprint:"+k.algorithm+" "+k.value+"\r\n"}),A},P.parseCryptoLine=function(w){var T=w.substr(9).split(" ");return{tag:parseInt(T[0],10),cryptoSuite:T[1],keyParams:T[2],sessionParams:T.slice(3)}},P.writeCryptoLine=function(w){return"a=crypto:"+w.tag+" "+w.cryptoSuite+" "+("object"==typeof w.keyParams?P.writeCryptoKeyParams(w.keyParams):w.keyParams)+(w.sessionParams?" "+w.sessionParams.join(" "):"")+"\r\n"},P.parseCryptoKeyParams=function(w){if(0!==w.indexOf("inline:"))return null;var T=w.substr(7).split("|");return{keyMethod:"inline",keySalt:T[0],lifeTime:T[1],mkiValue:T[2]?T[2].split(":")[0]:void 0,mkiLength:T[2]?T[2].split(":")[1]:void 0}},P.writeCryptoKeyParams=function(w){return w.keyMethod+":"+w.keySalt+(w.lifeTime?"|"+w.lifeTime:"")+(w.mkiValue&&w.mkiLength?"|"+w.mkiValue+":"+w.mkiLength:"")},P.getCryptoParameters=function(w,T){return P.matchPrefix(w+T,"a=crypto:").map(P.parseCryptoLine)},P.getIceParameters=function(w,T){var A=P.matchPrefix(w+T,"a=ice-ufrag:")[0],k=P.matchPrefix(w+T,"a=ice-pwd:")[0];return A&&k?{usernameFragment:A.substr(12),password:k.substr(10)}:null},P.writeIceParameters=function(w){return"a=ice-ufrag:"+w.usernameFragment+"\r\na=ice-pwd:"+w.password+"\r\n"},P.parseRtpParameters=function(w){for(var T={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},A=P.splitLines(w)[0].split(" "),k=3;k<A.length;k++){var O=A[k],M=P.matchPrefix(w,"a=rtpmap:"+O+" ")[0];if(M){var h=P.parseRtpMap(M),C=P.matchPrefix(w,"a=fmtp:"+O+" ");switch(h.parameters=C.length?P.parseFmtp(C[0]):{},h.rtcpFeedback=P.matchPrefix(w,"a=rtcp-fb:"+O+" ").map(P.parseRtcpFb),T.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":T.fecMechanisms.push(h.name.toUpperCase())}}}return P.matchPrefix(w,"a=extmap:").forEach(function(_){T.headerExtensions.push(P.parseExtmap(_))}),T},P.writeRtpDescription=function(w,T){var A="";A+="m="+w+" ",A+=T.codecs.length>0?"9":"0",A+=" UDP/TLS/RTP/SAVPF ",A+=T.codecs.map(function(O){return void 0!==O.preferredPayloadType?O.preferredPayloadType:O.payloadType}).join(" ")+"\r\n",A+="c=IN IP4 0.0.0.0\r\n",A+="a=rtcp:9 IN IP4 0.0.0.0\r\n",T.codecs.forEach(function(O){A+=P.writeRtpMap(O),A+=P.writeFmtp(O),A+=P.writeRtcpFb(O)});var k=0;return T.codecs.forEach(function(O){O.maxptime>k&&(k=O.maxptime)}),k>0&&(A+="a=maxptime:"+k+"\r\n"),A+="a=rtcp-mux\r\n",T.headerExtensions&&T.headerExtensions.forEach(function(O){A+=P.writeExtmap(O)}),A},P.parseRtpEncodingParameters=function(w){var T,A=[],k=P.parseRtpParameters(w),O=-1!==k.fecMechanisms.indexOf("RED"),M=-1!==k.fecMechanisms.indexOf("ULPFEC"),h=P.matchPrefix(w,"a=ssrc:").map(function(E){return P.parseSsrcMedia(E)}).filter(function(E){return"cname"===E.attribute}),C=h.length>0&&h[0].ssrc,_=P.matchPrefix(w,"a=ssrc-group:FID").map(function(E){return E.substr(17).split(" ").map(function(m){return parseInt(m,10)})});_.length>0&&_[0].length>1&&_[0][0]===C&&(T=_[0][1]),k.codecs.forEach(function(E){if("RTX"===E.name.toUpperCase()&&E.parameters.apt){var m={ssrc:C,codecPayloadType:parseInt(E.parameters.apt,10)};C&&T&&(m.rtx={ssrc:T}),A.push(m),O&&((m=JSON.parse(JSON.stringify(m))).fec={ssrc:C,mechanism:M?"red+ulpfec":"red"},A.push(m))}}),0===A.length&&C&&A.push({ssrc:C});var D=P.matchPrefix(w,"b=");return D.length&&(D=0===D[0].indexOf("b=TIAS:")?parseInt(D[0].substr(7),10):0===D[0].indexOf("b=AS:")?1e3*parseInt(D[0].substr(5),10)*.95-16e3:void 0,A.forEach(function(E){E.maxBitrate=D})),A},P.parseRtcpParameters=function(w){var T={},A=P.matchPrefix(w,"a=ssrc:").map(function(M){return P.parseSsrcMedia(M)}).filter(function(M){return"cname"===M.attribute})[0];A&&(T.cname=A.value,T.ssrc=A.ssrc);var k=P.matchPrefix(w,"a=rtcp-rsize");T.reducedSize=k.length>0,T.compound=0===k.length;var O=P.matchPrefix(w,"a=rtcp-mux");return T.mux=O.length>0,T},P.parseMsid=function(w){var T,A=P.matchPrefix(w,"a=msid:");if(1===A.length)return{stream:(T=A[0].substr(7).split(" "))[0],track:T[1]};var k=P.matchPrefix(w,"a=ssrc:").map(function(O){return P.parseSsrcMedia(O)}).filter(function(O){return"msid"===O.attribute});return k.length>0?{stream:(T=k[0].value.split(" "))[0],track:T[1]}:void 0},P.parseSctpDescription=function(w){var T,A=P.parseMLine(w),k=P.matchPrefix(w,"a=max-message-size:");k.length>0&&(T=parseInt(k[0].substr(19),10)),isNaN(T)&&(T=65536);var O=P.matchPrefix(w,"a=sctp-port:");if(O.length>0)return{port:parseInt(O[0].substr(12),10),protocol:A.fmt,maxMessageSize:T};if(P.matchPrefix(w,"a=sctpmap:").length>0){var M=P.matchPrefix(w,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(M[0],10),protocol:M[1],maxMessageSize:T}}},P.writeSctpDescription=function(w,T){var A=[];return A="DTLS/SCTP"!==w.protocol?["m="+w.kind+" 9 "+w.protocol+" "+T.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+T.port+"\r\n"]:["m="+w.kind+" 9 "+w.protocol+" "+T.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+T.port+" "+T.protocol+" 65535\r\n"],void 0!==T.maxMessageSize&&A.push("a=max-message-size:"+T.maxMessageSize+"\r\n"),A.join("")},P.generateSessionId=function(){return Math.random().toString().substr(2,21)},P.writeSessionBoilerplate=function(w,T,A){var k=void 0!==T?T:2;return"v=0\r\no="+(A||"thisisadapterortc")+" "+(w||P.generateSessionId())+" "+k+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},P.writeMediaSection=function(w,T,A,k){var O=P.writeRtpDescription(w.kind,T);if(O+=P.writeIceParameters(w.iceGatherer.getLocalParameters()),O+=P.writeDtlsParameters(w.dtlsTransport.getLocalParameters(),"offer"===A?"actpass":"active"),O+="a=mid:"+w.mid+"\r\n",O+=w.direction?"a="+w.direction+"\r\n":w.rtpSender&&w.rtpReceiver?"a=sendrecv\r\n":w.rtpSender?"a=sendonly\r\n":w.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",w.rtpSender){var M="msid:"+k.id+" "+w.rtpSender.track.id+"\r\n";O+="a="+M,O+="a=ssrc:"+w.sendEncodingParameters[0].ssrc+" "+M,w.sendEncodingParameters[0].rtx&&(O+="a=ssrc:"+w.sendEncodingParameters[0].rtx.ssrc+" "+M,O+="a=ssrc-group:FID "+w.sendEncodingParameters[0].ssrc+" "+w.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return O+="a=ssrc:"+w.sendEncodingParameters[0].ssrc+" cname:"+P.localCName+"\r\n",w.rtpSender&&w.sendEncodingParameters[0].rtx&&(O+="a=ssrc:"+w.sendEncodingParameters[0].rtx.ssrc+" cname:"+P.localCName+"\r\n"),O},P.getDirection=function(w,T){for(var A=P.splitLines(w),k=0;k<A.length;k++)switch(A[k]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return A[k].substr(2)}return T?P.getDirection(T):"sendrecv"},P.getKind=function(w){return P.splitLines(w)[0].split(" ")[0].substr(2)},P.isRejected=function(w){return"0"===w.split(" ",2)[1]},P.parseMLine=function(w){var T=P.splitLines(w)[0].substr(2).split(" ");return{kind:T[0],port:parseInt(T[1],10),protocol:T[2],fmt:T.slice(3).join(" ")}},P.parseOLine=function(w){var T=P.matchPrefix(w,"o=")[0].substr(2).split(" ");return{username:T[0],sessionId:T[1],sessionVersion:parseInt(T[2],10),netType:T[3],addressType:T[4],address:T[5]}},P.isValidSDP=function(w){if("string"!=typeof w||0===w.length)return!1;for(var T=P.splitLines(w),A=0;A<T.length;A++)if(T[A].length<2||"="!==T[A].charAt(1))return!1;return!0},"object"==typeof Y&&(Y.exports=P)},{}],NJ2u:[function($,Y,F){"use strict";var P=$("sdp");function T(C,_,D,E,m){var v=P.writeRtpDescription(C.kind,_);if(v+=P.writeIceParameters(C.iceGatherer.getLocalParameters()),v+=P.writeDtlsParameters(C.dtlsTransport.getLocalParameters(),"offer"===D?"actpass":m||"active"),v+="a=mid:"+C.mid+"\r\n",v+=C.rtpSender&&C.rtpReceiver?"a=sendrecv\r\n":C.rtpSender?"a=sendonly\r\n":C.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",C.rtpSender){var p=C.rtpSender._initialTrackId||C.rtpSender.track.id;C.rtpSender._initialTrackId=p;var d="msid:"+(E?E.id:"-")+" "+p+"\r\n";v+="a="+d,v+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" "+d,C.sendEncodingParameters[0].rtx&&(v+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" "+d,v+="a=ssrc-group:FID "+C.sendEncodingParameters[0].ssrc+" "+C.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return v+="a=ssrc:"+C.sendEncodingParameters[0].ssrc+" cname:"+P.localCName+"\r\n",C.rtpSender&&C.sendEncodingParameters[0].rtx&&(v+="a=ssrc:"+C.sendEncodingParameters[0].rtx.ssrc+" cname:"+P.localCName+"\r\n"),v}function k(C,_){var D={codecs:[],headerExtensions:[],fecMechanisms:[]},E=function(v,p){v=parseInt(v,10);for(var d=0;d<p.length;d++)if(p[d].payloadType===v||p[d].preferredPayloadType===v)return p[d]},m=function(v,p,d,l){var f=E(v.parameters.apt,d),b=E(p.parameters.apt,l);return f&&b&&f.name.toLowerCase()===b.name.toLowerCase()};return C.codecs.forEach(function(v){for(var p=0;p<_.codecs.length;p++){var d=_.codecs[p];if(v.name.toLowerCase()===d.name.toLowerCase()&&v.clockRate===d.clockRate){if("rtx"===v.name.toLowerCase()&&v.parameters&&d.parameters.apt&&!m(v,d,C.codecs,_.codecs))continue;(d=JSON.parse(JSON.stringify(d))).numChannels=Math.min(v.numChannels,d.numChannels),D.codecs.push(d),d.rtcpFeedback=d.rtcpFeedback.filter(function(l){for(var f=0;f<v.rtcpFeedback.length;f++)if(v.rtcpFeedback[f].type===l.type&&v.rtcpFeedback[f].parameter===l.parameter)return!0;return!1});break}}}),C.headerExtensions.forEach(function(v){for(var p=0;p<_.headerExtensions.length;p++){var d=_.headerExtensions[p];if(v.uri===d.uri){D.headerExtensions.push(d);break}}}),D}function O(C,_,D){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[_][C].indexOf(D)}function M(C,_){var D=C.getRemoteCandidates().find(function(E){return _.foundation===E.foundation&&_.ip===E.ip&&_.port===E.port&&_.priority===E.priority&&_.protocol===E.protocol&&_.type===E.type});return D||C.addRemoteCandidate(_),!D}function h(C,_){var D=new Error(_);return D.name=C,D.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[C],D}Y.exports=function(C,_){function D(p,d){d.addTrack(p),d.dispatchEvent(new C.MediaStreamTrackEvent("addtrack",{track:p}))}function E(p,d,l,f){var b=new Event("track");b.track=d,b.receiver=l,b.transceiver={receiver:l},b.streams=f,C.setTimeout(function(){p._dispatchEvent("track",b)})}var m=function(p){var d=this,l=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(b){d[b]=l[b].bind(l)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",p=JSON.parse(JSON.stringify(p||{})),this.usingBundle="max-bundle"===p.bundlePolicy,"negotiate"===p.rtcpMuxPolicy)throw h("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(p.rtcpMuxPolicy||(p.rtcpMuxPolicy="require"),p.iceTransportPolicy){case"all":case"relay":break;default:p.iceTransportPolicy="all"}switch(p.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:p.bundlePolicy="balanced"}if(p.iceServers=function A(C,_){var D=!1;return(C=JSON.parse(JSON.stringify(C))).filter(function(E){if(E&&(E.urls||E.url)){var m=E.urls||E.url;E.url&&!E.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var v="string"==typeof m;return v&&(m=[m]),m=m.filter(function(p){return 0!==p.indexOf("turn:")||-1===p.indexOf("transport=udp")||-1!==p.indexOf("turn:[")||D?0===p.indexOf("stun:")&&_>=14393&&-1===p.indexOf("?transport=udp"):(D=!0,!0)}),delete E.url,E.urls=v?m[0]:m,!!m.length}})}(p.iceServers||[],_),this._iceGatherers=[],p.iceCandidatePoolSize)for(var f=p.iceCandidatePoolSize;f>0;f--)this._iceGatherers.push(new C.RTCIceGatherer({iceServers:p.iceServers,gatherPolicy:p.iceTransportPolicy}));else p.iceCandidatePoolSize=0;this._config=p,this.transceivers=[],this._sdpSessionId=P.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(m.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(m.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),m.prototype.onicecandidate=null,m.prototype.onaddstream=null,m.prototype.ontrack=null,m.prototype.onremovestream=null,m.prototype.onsignalingstatechange=null,m.prototype.oniceconnectionstatechange=null,m.prototype.onconnectionstatechange=null,m.prototype.onicegatheringstatechange=null,m.prototype.onnegotiationneeded=null,m.prototype.ondatachannel=null,m.prototype._dispatchEvent=function(p,d){this._isClosed||(this.dispatchEvent(d),"function"==typeof this["on"+p]&&this["on"+p](d))},m.prototype._emitGatheringStateChange=function(){var p=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",p)},m.prototype.getConfiguration=function(){return this._config},m.prototype.getLocalStreams=function(){return this.localStreams},m.prototype.getRemoteStreams=function(){return this.remoteStreams},m.prototype._createTransceiver=function(p,d){var f={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:p,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)f.iceTransport=this.transceivers[0].iceTransport,f.dtlsTransport=this.transceivers[0].dtlsTransport;else{var b=this._createIceAndDtlsTransports();f.iceTransport=b.iceTransport,f.dtlsTransport=b.dtlsTransport}return d||this.transceivers.push(f),f},m.prototype.addTrack=function(p,d){if(this._isClosed)throw h("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var l;if(this.transceivers.find(function(b){return b.track===p}))throw h("InvalidAccessError","Track already exists.");for(var f=0;f<this.transceivers.length;f++)this.transceivers[f].track||this.transceivers[f].kind!==p.kind||(l=this.transceivers[f]);return l||(l=this._createTransceiver(p.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(d)&&this.localStreams.push(d),l.track=p,l.stream=d,l.rtpSender=new C.RTCRtpSender(p,l.dtlsTransport),l.rtpSender},m.prototype.addStream=function(p){var d=this;if(_>=15025)p.getTracks().forEach(function(f){d.addTrack(f,p)});else{var l=p.clone();p.getTracks().forEach(function(f,b){var R=l.getTracks()[b];f.addEventListener("enabled",function(x){R.enabled=x.enabled})}),l.getTracks().forEach(function(f){d.addTrack(f,l)})}},m.prototype.removeTrack=function(p){if(this._isClosed)throw h("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(p instanceof C.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var d=this.transceivers.find(function(f){return f.rtpSender===p});if(!d)throw h("InvalidAccessError","Sender was not created by this connection.");var l=d.stream;d.rtpSender.stop(),d.rtpSender=null,d.track=null,d.stream=null,-1===this.transceivers.map(function(f){return f.stream}).indexOf(l)&&this.localStreams.indexOf(l)>-1&&this.localStreams.splice(this.localStreams.indexOf(l),1),this._maybeFireNegotiationNeeded()},m.prototype.removeStream=function(p){var d=this;p.getTracks().forEach(function(l){var f=d.getSenders().find(function(b){return b.track===l});f&&d.removeTrack(f)})},m.prototype.getSenders=function(){return this.transceivers.filter(function(p){return!!p.rtpSender}).map(function(p){return p.rtpSender})},m.prototype.getReceivers=function(){return this.transceivers.filter(function(p){return!!p.rtpReceiver}).map(function(p){return p.rtpReceiver})},m.prototype._createIceGatherer=function(p,d){var l=this;if(d&&p>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var f=new C.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(f,"state",{value:"new",writable:!0}),this.transceivers[p].bufferedCandidateEvents=[],this.transceivers[p].bufferCandidates=function(b){var R=!b.candidate||0===Object.keys(b.candidate).length;f.state=R?"completed":"gathering",null!==l.transceivers[p].bufferedCandidateEvents&&l.transceivers[p].bufferedCandidateEvents.push(b)},f.addEventListener("localcandidate",this.transceivers[p].bufferCandidates),f},m.prototype._gather=function(p,d){var l=this,f=this.transceivers[d].iceGatherer;if(!f.onlocalcandidate){var b=this.transceivers[d].bufferedCandidateEvents;this.transceivers[d].bufferedCandidateEvents=null,f.removeEventListener("localcandidate",this.transceivers[d].bufferCandidates),f.onlocalcandidate=function(R){if(!(l.usingBundle&&d>0)){var x=new Event("icecandidate");x.candidate={sdpMid:p,sdpMLineIndex:d};var N=R.candidate,j=!N||0===Object.keys(N).length;if(j)"new"!==f.state&&"gathering"!==f.state||(f.state="completed");else{"new"===f.state&&(f.state="gathering"),N.component=1,N.ufrag=f.getLocalParameters().usernameFragment;var B=P.writeCandidate(N);x.candidate=Object.assign(x.candidate,P.parseCandidate(B)),x.candidate.candidate=B,x.candidate.toJSON=function(){return{candidate:x.candidate.candidate,sdpMid:x.candidate.sdpMid,sdpMLineIndex:x.candidate.sdpMLineIndex,usernameFragment:x.candidate.usernameFragment}}}var V=P.getMediaSections(l._localDescription.sdp);V[x.candidate.sdpMLineIndex]+=j?"a=end-of-candidates\r\n":"a="+x.candidate.candidate+"\r\n",l._localDescription.sdp=P.getDescription(l._localDescription.sdp)+V.join("");var Q=l.transceivers.every(function(J){return J.iceGatherer&&"completed"===J.iceGatherer.state});"gathering"!==l.iceGatheringState&&(l.iceGatheringState="gathering",l._emitGatheringStateChange()),j||l._dispatchEvent("icecandidate",x),Q&&(l._dispatchEvent("icecandidate",new Event("icecandidate")),l.iceGatheringState="complete",l._emitGatheringStateChange())}},C.setTimeout(function(){b.forEach(function(R){f.onlocalcandidate(R)})},0)}},m.prototype._createIceAndDtlsTransports=function(){var p=this,d=new C.RTCIceTransport(null);d.onicestatechange=function(){p._updateIceConnectionState(),p._updateConnectionState()};var l=new C.RTCDtlsTransport(d);return l.ondtlsstatechange=function(){p._updateConnectionState()},l.onerror=function(){Object.defineProperty(l,"state",{value:"failed",writable:!0}),p._updateConnectionState()},{iceTransport:d,dtlsTransport:l}},m.prototype._disposeIceAndDtlsTransports=function(p){var d=this.transceivers[p].iceGatherer;d&&(delete d.onlocalcandidate,delete this.transceivers[p].iceGatherer);var l=this.transceivers[p].iceTransport;l&&(delete l.onicestatechange,delete this.transceivers[p].iceTransport);var f=this.transceivers[p].dtlsTransport;f&&(delete f.ondtlsstatechange,delete f.onerror,delete this.transceivers[p].dtlsTransport)},m.prototype._transceive=function(p,d,l){var f=k(p.localCapabilities,p.remoteCapabilities);d&&p.rtpSender&&(f.encodings=p.sendEncodingParameters,f.rtcp={cname:P.localCName,compound:p.rtcpParameters.compound},p.recvEncodingParameters.length&&(f.rtcp.ssrc=p.recvEncodingParameters[0].ssrc),p.rtpSender.send(f)),l&&p.rtpReceiver&&f.codecs.length>0&&("video"===p.kind&&p.recvEncodingParameters&&_<15019&&p.recvEncodingParameters.forEach(function(b){delete b.rtx}),f.encodings=p.recvEncodingParameters.length?p.recvEncodingParameters:[{}],f.rtcp={compound:p.rtcpParameters.compound},p.rtcpParameters.cname&&(f.rtcp.cname=p.rtcpParameters.cname),p.sendEncodingParameters.length&&(f.rtcp.ssrc=p.sendEncodingParameters[0].ssrc),p.rtpReceiver.receive(f))},m.prototype.setLocalDescription=function(p){var d,l,f=this;if(-1===["offer","answer"].indexOf(p.type))return Promise.reject(h("TypeError",'Unsupported type "'+p.type+'"'));if(!O("setLocalDescription",p.type,f.signalingState)||f._isClosed)return Promise.reject(h("InvalidStateError","Can not set local "+p.type+" in state "+f.signalingState));if("offer"===p.type)d=P.splitSections(p.sdp),l=d.shift(),d.forEach(function(R,x){var N=P.parseRtpParameters(R);f.transceivers[x].localCapabilities=N}),f.transceivers.forEach(function(R,x){f._gather(R.mid,x)});else if("answer"===p.type){d=P.splitSections(f._remoteDescription.sdp),l=d.shift();var b=P.matchPrefix(l,"a=ice-lite").length>0;d.forEach(function(R,x){var N=f.transceivers[x],j=N.iceGatherer,B=N.iceTransport,V=N.dtlsTransport,Q=N.localCapabilities,J=N.remoteCapabilities;if(!(P.isRejected(R)&&0===P.matchPrefix(R,"a=bundle-only").length||N.rejected)){var te=P.getIceParameters(R,l),re=P.getDtlsParameters(R,l);b&&(re.role="server"),f.usingBundle&&0!==x||(f._gather(N.mid,x),"new"===B.state&&B.start(j,te,b?"controlling":"controlled"),"new"===V.state&&V.start(re));var Ae=k(Q,J);f._transceive(N,Ae.codecs.length>0,!1)}})}return f._localDescription={type:p.type,sdp:p.sdp},f._updateSignalingState("offer"===p.type?"have-local-offer":"stable"),Promise.resolve()},m.prototype.setRemoteDescription=function(p){var d=this;if(-1===["offer","answer"].indexOf(p.type))return Promise.reject(h("TypeError",'Unsupported type "'+p.type+'"'));if(!O("setRemoteDescription",p.type,d.signalingState)||d._isClosed)return Promise.reject(h("InvalidStateError","Can not set remote "+p.type+" in state "+d.signalingState));var l={};d.remoteStreams.forEach(function(B){l[B.id]=B});var f=[],b=P.splitSections(p.sdp),R=b.shift(),x=P.matchPrefix(R,"a=ice-lite").length>0,N=P.matchPrefix(R,"a=group:BUNDLE ").length>0;d.usingBundle=N;var j=P.matchPrefix(R,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!j&&j.substr(14).split(" ").indexOf("trickle")>=0,b.forEach(function(B,V){var Q=P.splitLines(B),J=P.getKind(B),te=P.isRejected(B)&&0===P.matchPrefix(B,"a=bundle-only").length,re=Q[0].substr(2).split(" ")[2],Ae=P.getDirection(B,R),ue=P.parseMsid(B),oo=P.getMid(B)||P.generateIdentifier();if(te||"application"===J&&("DTLS/SCTP"===re||"UDP/DTLS/SCTP"===re))d.transceivers[V]={mid:oo,kind:J,protocol:re,rejected:!0};else{var Ce,Ts,xr,Vt,Xt,ii,qe,He,hn;!te&&d.transceivers[V]&&d.transceivers[V].rejected&&(d.transceivers[V]=d._createTransceiver(J,!0));var Me,oi,Nc=P.parseRtpParameters(B);te||(Me=P.getIceParameters(B,R),(oi=P.getDtlsParameters(B,R)).role="client"),qe=P.parseRtpEncodingParameters(B);var so=P.parseRtcpParameters(B),Fc=P.matchPrefix(B,"a=end-of-candidates",R).length>0,kr=P.matchPrefix(B,"a=candidate:").map(function(_t){return P.parseCandidate(_t)}).filter(function(_t){return 1===_t.component});if(("offer"===p.type||"answer"===p.type)&&!te&&N&&V>0&&d.transceivers[V]&&(d._disposeIceAndDtlsTransports(V),d.transceivers[V].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[V].iceTransport=d.transceivers[0].iceTransport,d.transceivers[V].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[V].rtpSender&&d.transceivers[V].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[V].rtpReceiver&&d.transceivers[V].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==p.type||te)"answer"===p.type&&!te&&(Ts=(Ce=d.transceivers[V]).iceGatherer,xr=Ce.iceTransport,Vt=Ce.dtlsTransport,Xt=Ce.rtpReceiver,ii=Ce.sendEncodingParameters,He=Ce.localCapabilities,d.transceivers[V].recvEncodingParameters=qe,d.transceivers[V].remoteCapabilities=Nc,d.transceivers[V].rtcpParameters=so,kr.length&&"new"===xr.state&&(!x&&!Fc||N&&0!==V?kr.forEach(function(_t){M(Ce.iceTransport,_t)}):xr.setRemoteCandidates(kr)),N&&0!==V||("new"===xr.state&&xr.start(Ts,Me,"controlling"),"new"===Vt.state&&Vt.start(oi)),!k(Ce.localCapabilities,Ce.remoteCapabilities).codecs.filter(function(_t){return"rtx"===_t.name.toLowerCase()}).length&&Ce.sendEncodingParameters[0].rtx&&delete Ce.sendEncodingParameters[0].rtx,d._transceive(Ce,"sendrecv"===Ae||"recvonly"===Ae,"sendrecv"===Ae||"sendonly"===Ae),!Xt||"sendrecv"!==Ae&&"sendonly"!==Ae?delete Ce.rtpReceiver:(hn=Xt.track,ue?(l[ue.stream]||(l[ue.stream]=new C.MediaStream),D(hn,l[ue.stream]),f.push([hn,Xt,l[ue.stream]])):(l.default||(l.default=new C.MediaStream),D(hn,l.default),f.push([hn,Xt,l.default]))));else{(Ce=d.transceivers[V]||d._createTransceiver(J)).mid=oo,Ce.iceGatherer||(Ce.iceGatherer=d._createIceGatherer(V,N)),kr.length&&"new"===Ce.iceTransport.state&&(!Fc||N&&0!==V?kr.forEach(function(_t){M(Ce.iceTransport,_t)}):Ce.iceTransport.setRemoteCandidates(kr)),He=C.RTCRtpReceiver.getCapabilities(J),_<15019&&(He.codecs=He.codecs.filter(function(_t){return"rtx"!==_t.name})),ii=Ce.sendEncodingParameters||[{ssrc:1001*(2*V+2)}];var Nr,Ms=!1;"sendrecv"===Ae||"sendonly"===Ae?(Ms=!Ce.rtpReceiver,Xt=Ce.rtpReceiver||new C.RTCRtpReceiver(Ce.dtlsTransport,J),Ms&&(hn=Xt.track,ue&&"-"===ue.stream||(ue?(l[ue.stream]||(l[ue.stream]=new C.MediaStream,Object.defineProperty(l[ue.stream],"id",{get:function(){return ue.stream}})),Object.defineProperty(hn,"id",{get:function(){return ue.track}}),Nr=l[ue.stream]):(l.default||(l.default=new C.MediaStream),Nr=l.default)),Nr&&(D(hn,Nr),Ce.associatedRemoteMediaStreams.push(Nr)),f.push([hn,Xt,Nr]))):Ce.rtpReceiver&&Ce.rtpReceiver.track&&(Ce.associatedRemoteMediaStreams.forEach(function(_t){var Is,ao,Lc=_t.getTracks().find(function(As){return As.id===Ce.rtpReceiver.track.id});Lc&&((ao=_t).removeTrack(Is=Lc),ao.dispatchEvent(new C.MediaStreamTrackEvent("removetrack",{track:Is})))}),Ce.associatedRemoteMediaStreams=[]),Ce.localCapabilities=He,Ce.remoteCapabilities=Nc,Ce.rtpReceiver=Xt,Ce.rtcpParameters=so,Ce.sendEncodingParameters=ii,Ce.recvEncodingParameters=qe,d._transceive(d.transceivers[V],!1,Ms)}}}),void 0===d._dtlsRole&&(d._dtlsRole="offer"===p.type?"active":"passive"),d._remoteDescription={type:p.type,sdp:p.sdp},d._updateSignalingState("offer"===p.type?"have-remote-offer":"stable"),Object.keys(l).forEach(function(B){var V=l[B];if(V.getTracks().length){if(-1===d.remoteStreams.indexOf(V)){d.remoteStreams.push(V);var Q=new Event("addstream");Q.stream=V,C.setTimeout(function(){d._dispatchEvent("addstream",Q)})}f.forEach(function(J){V.id===J[2].id&&E(d,J[0],J[1],[V])})}}),f.forEach(function(B){B[2]||E(d,B[0],B[1],[])}),C.setTimeout(function(){d&&d.transceivers&&d.transceivers.forEach(function(B){B.iceTransport&&"new"===B.iceTransport.state&&B.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),B.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},m.prototype.close=function(){this.transceivers.forEach(function(p){p.iceTransport&&p.iceTransport.stop(),p.dtlsTransport&&p.dtlsTransport.stop(),p.rtpSender&&p.rtpSender.stop(),p.rtpReceiver&&p.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},m.prototype._updateSignalingState=function(p){this.signalingState=p;var d=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",d)},m.prototype._maybeFireNegotiationNeeded=function(){var p=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,C.setTimeout(function(){if(p.needNegotiation){p.needNegotiation=!1;var d=new Event("negotiationneeded");p._dispatchEvent("negotiationneeded",d)}},0))},m.prototype._updateIceConnectionState=function(){var p,d={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&!f.rejected&&d[f.iceTransport.state]++}),p="new",d.failed>0?p="failed":d.checking>0?p="checking":d.disconnected>0?p="disconnected":d.new>0?p="new":d.connected>0?p="connected":d.completed>0&&(p="completed"),p!==this.iceConnectionState){this.iceConnectionState=p;var l=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",l)}},m.prototype._updateConnectionState=function(){var p,d={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(f){f.iceTransport&&f.dtlsTransport&&!f.rejected&&(d[f.iceTransport.state]++,d[f.dtlsTransport.state]++)}),d.connected+=d.completed,p="new",d.failed>0?p="failed":d.connecting>0?p="connecting":d.disconnected>0?p="disconnected":d.new>0?p="new":d.connected>0&&(p="connected"),p!==this.connectionState){this.connectionState=p;var l=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",l)}},m.prototype.createOffer=function(){var p=this;if(p._isClosed)return Promise.reject(h("InvalidStateError","Can not call createOffer after close"));var d=p.transceivers.filter(function(x){return"audio"===x.kind}).length,l=p.transceivers.filter(function(x){return"video"===x.kind}).length,f=arguments[0];if(f){if(f.mandatory||f.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==f.offerToReceiveAudio&&(d=!0===f.offerToReceiveAudio?1:!1===f.offerToReceiveAudio?0:f.offerToReceiveAudio),void 0!==f.offerToReceiveVideo&&(l=!0===f.offerToReceiveVideo?1:!1===f.offerToReceiveVideo?0:f.offerToReceiveVideo)}for(p.transceivers.forEach(function(x){"audio"===x.kind?--d<0&&(x.wantReceive=!1):"video"===x.kind&&--l<0&&(x.wantReceive=!1)});d>0||l>0;)d>0&&(p._createTransceiver("audio"),d--),l>0&&(p._createTransceiver("video"),l--);var b=P.writeSessionBoilerplate(p._sdpSessionId,p._sdpSessionVersion++);p.transceivers.forEach(function(x,N){var j=x.track,B=x.kind,V=x.mid||P.generateIdentifier();x.mid=V,x.iceGatherer||(x.iceGatherer=p._createIceGatherer(N,p.usingBundle));var Q=C.RTCRtpSender.getCapabilities(B);_<15019&&(Q.codecs=Q.codecs.filter(function(te){return"rtx"!==te.name})),Q.codecs.forEach(function(te){"H264"===te.name&&void 0===te.parameters["level-asymmetry-allowed"]&&(te.parameters["level-asymmetry-allowed"]="1"),x.remoteCapabilities&&x.remoteCapabilities.codecs&&x.remoteCapabilities.codecs.forEach(function(re){te.name.toLowerCase()===re.name.toLowerCase()&&te.clockRate===re.clockRate&&(te.preferredPayloadType=re.payloadType)})}),Q.headerExtensions.forEach(function(te){(x.remoteCapabilities&&x.remoteCapabilities.headerExtensions||[]).forEach(function(re){te.uri===re.uri&&(te.id=re.id)})});var J=x.sendEncodingParameters||[{ssrc:1001*(2*N+1)}];j&&_>=15019&&"video"===B&&!J[0].rtx&&(J[0].rtx={ssrc:J[0].ssrc+1}),x.wantReceive&&(x.rtpReceiver=new C.RTCRtpReceiver(x.dtlsTransport,B)),x.localCapabilities=Q,x.sendEncodingParameters=J}),"max-compat"!==p._config.bundlePolicy&&(b+="a=group:BUNDLE "+p.transceivers.map(function(x){return x.mid}).join(" ")+"\r\n"),b+="a=ice-options:trickle\r\n",p.transceivers.forEach(function(x,N){b+=T(x,x.localCapabilities,"offer",x.stream,p._dtlsRole),b+="a=rtcp-rsize\r\n",!x.iceGatherer||"new"===p.iceGatheringState||0!==N&&p.usingBundle||(x.iceGatherer.getLocalCandidates().forEach(function(j){j.component=1,b+="a="+P.writeCandidate(j)+"\r\n"}),"completed"===x.iceGatherer.state&&(b+="a=end-of-candidates\r\n"))});var R=new C.RTCSessionDescription({type:"offer",sdp:b});return Promise.resolve(R)},m.prototype.createAnswer=function(){var p=this;if(p._isClosed)return Promise.reject(h("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==p.signalingState&&"have-local-pranswer"!==p.signalingState)return Promise.reject(h("InvalidStateError","Can not call createAnswer in signalingState "+p.signalingState));var d=P.writeSessionBoilerplate(p._sdpSessionId,p._sdpSessionVersion++);p.usingBundle&&(d+="a=group:BUNDLE "+p.transceivers.map(function(b){return b.mid}).join(" ")+"\r\n"),d+="a=ice-options:trickle\r\n";var l=P.getMediaSections(p._remoteDescription.sdp).length;p.transceivers.forEach(function(b,R){if(!(R+1>l)){if(b.rejected)return"application"===b.kind?d+="DTLS/SCTP"===b.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+b.protocol+" webrtc-datachannel\r\n":"audio"===b.kind?d+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===b.kind&&(d+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(d+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+b.mid+"\r\n");var x;b.stream&&("audio"===b.kind?x=b.stream.getAudioTracks()[0]:"video"===b.kind&&(x=b.stream.getVideoTracks()[0]),x&&_>=15019&&"video"===b.kind&&!b.sendEncodingParameters[0].rtx&&(b.sendEncodingParameters[0].rtx={ssrc:b.sendEncodingParameters[0].ssrc+1}));var N=k(b.localCapabilities,b.remoteCapabilities);!N.codecs.filter(function(j){return"rtx"===j.name.toLowerCase()}).length&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,d+=T(b,N,"answer",b.stream,p._dtlsRole),b.rtcpParameters&&b.rtcpParameters.reducedSize&&(d+="a=rtcp-rsize\r\n")}});var f=new C.RTCSessionDescription({type:"answer",sdp:d});return Promise.resolve(f)},m.prototype.addIceCandidate=function(p){var d,l=this;return p&&void 0===p.sdpMLineIndex&&!p.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(f,b){if(!l._remoteDescription)return b(h("InvalidStateError","Can not add ICE candidate without a remote description"));if(p&&""!==p.candidate){var R=p.sdpMLineIndex;if(p.sdpMid)for(var x=0;x<l.transceivers.length;x++)if(l.transceivers[x].mid===p.sdpMid){R=x;break}var N=l.transceivers[R];if(!N)return b(h("OperationError","Can not add ICE candidate"));if(N.rejected)return f();var j=Object.keys(p.candidate).length>0?P.parseCandidate(p.candidate):{};if("tcp"===j.protocol&&(0===j.port||9===j.port)||j.component&&1!==j.component)return f();if((0===R||R>0&&N.iceTransport!==l.transceivers[0].iceTransport)&&!M(N.iceTransport,j))return b(h("OperationError","Can not add ICE candidate"));var B=p.candidate.trim();0===B.indexOf("a=")&&(B=B.substr(2)),(d=P.getMediaSections(l._remoteDescription.sdp))[R]+="a="+(j.type?B:"end-of-candidates")+"\r\n",l._remoteDescription.sdp=P.getDescription(l._remoteDescription.sdp)+d.join("")}else for(var V=0;V<l.transceivers.length&&(l.transceivers[V].rejected||(l.transceivers[V].iceTransport.addRemoteCandidate({}),(d=P.getMediaSections(l._remoteDescription.sdp))[V]+="a=end-of-candidates\r\n",l._remoteDescription.sdp=P.getDescription(l._remoteDescription.sdp)+d.join(""),!l.usingBundle));V++);f()})},m.prototype.getStats=function(p){if(p&&p instanceof C.MediaStreamTrack){var d=null;if(this.transceivers.forEach(function(f){f.rtpSender&&f.rtpSender.track===p?d=f.rtpSender:f.rtpReceiver&&f.rtpReceiver.track===p&&(d=f.rtpReceiver)}),!d)throw h("InvalidAccessError","Invalid selector.");return d.getStats()}var l=[];return this.transceivers.forEach(function(f){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(b){f[b]&&l.push(f[b].getStats())})}),Promise.all(l).then(function(f){var b=new Map;return f.forEach(function(R){R.forEach(function(x){b.set(x.id,x)})}),b})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(p){var d=C[p];if(d&&d.prototype&&d.prototype.getStats){var l=d.prototype.getStats;d.prototype.getStats=function(){return l.apply(this).then(function(f){var b=new Map;return Object.keys(f).forEach(function(R){f[R].type=function w(C){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[C.type]||C.type}(f[R]),b.set(R,f[R])}),b})}}});var v=["createOffer","createAnswer"];return v.forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[0]||"function"==typeof l[1]?d.apply(this,[arguments[2]]).then(function(f){"function"==typeof l[0]&&l[0].apply(null,[f])},function(f){"function"==typeof l[1]&&l[1].apply(null,[f])}):d.apply(this,arguments)}}),(v=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[1]||"function"==typeof l[2]?d.apply(this,arguments).then(function(){"function"==typeof l[1]&&l[1].apply(null)},function(f){"function"==typeof l[2]&&l[2].apply(null,[f])}):d.apply(this,arguments)}}),["getStats"].forEach(function(p){var d=m.prototype[p];m.prototype[p]=function(){var l=arguments;return"function"==typeof l[1]?d.apply(this,arguments).then(function(){"function"==typeof l[1]&&l[1].apply(null)}):d.apply(this,arguments)}}),m}},{sdp:"YHvh"}],YdKx:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimGetUserMedia=function P(w){var T=w&&w.navigator,A=T.mediaDevices.getUserMedia.bind(T.mediaDevices);T.mediaDevices.getUserMedia=function(k){return A(k).catch(function(O){return Promise.reject({name:{PermissionDeniedError:"NotAllowedError"}[(M=O).name]||M.name,message:M.message,constraint:M.constraint,toString:function(){return this.name}});var M})}}},{}],P3bV:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimGetDisplayMedia=function P(w){"getDisplayMedia"in w.navigator&&w.navigator.mediaDevices&&(w.navigator.mediaDevices&&"getDisplayMedia"in w.navigator.mediaDevices||(w.navigator.mediaDevices.getDisplayMedia=w.navigator.getDisplayMedia.bind(w.navigator)))}},{}],XRic:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimPeerConnection=function C(D,E){if(D.RTCIceGatherer&&(D.RTCIceCandidate||(D.RTCIceCandidate=function(p){return p}),D.RTCSessionDescription||(D.RTCSessionDescription=function(p){return p}),E.version<15025)){var m=Object.getOwnPropertyDescriptor(D.MediaStreamTrack.prototype,"enabled");Object.defineProperty(D.MediaStreamTrack.prototype,"enabled",{set:function(p){m.set.call(this,p);var d=new Event("enabled");d.enabled=p,this.dispatchEvent(d)}})}!D.RTCRtpSender||"dtmf"in D.RTCRtpSender.prototype||Object.defineProperty(D.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new D.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),D.RTCDtmfSender&&!D.RTCDTMFSender&&(D.RTCDTMFSender=D.RTCDtmfSender);var v=(0,T.default)(D,E.version);D.RTCPeerConnection=function(p){return p&&p.iceServers&&(p.iceServers=(0,w.filterIceServers)(p.iceServers,E.version),P.log("ICE servers after filtering:",p.iceServers)),new v(p)},D.RTCPeerConnection.prototype=v.prototype},F.shimReplaceTrack=function _(D){!D.RTCRtpSender||"replaceTrack"in D.RTCRtpSender.prototype||(D.RTCRtpSender.prototype.replaceTrack=D.RTCRtpSender.prototype.setTrack)},Object.defineProperty(F,"shimGetUserMedia",{enumerable:!0,get:function(){return A.shimGetUserMedia}}),Object.defineProperty(F,"shimGetDisplayMedia",{enumerable:!0,get:function(){return k.shimGetDisplayMedia}});var P=function h(D){if(D&&D.__esModule)return D;if(null===D||"object"!=typeof D&&"function"!=typeof D)return{default:D};var E=M();if(E&&E.has(D))return E.get(D);var m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in D)if(Object.prototype.hasOwnProperty.call(D,p)){var d=v?Object.getOwnPropertyDescriptor(D,p):null;d&&(d.get||d.set)?Object.defineProperty(m,p,d):m[p]=D[p]}return m.default=D,E&&E.set(D,m),m}($("../utils")),w=$("./filtericeservers"),T=function O(D){return D&&D.__esModule?D:{default:D}}($("rtcpeerconnection-shim")),A=$("./getusermedia"),k=$("./getdisplaymedia");function M(){if("function"!=typeof WeakMap)return null;var D=new WeakMap;return M=function(){return D},D}},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimGetUserMedia=function k(O,M){var h=O&&O.navigator,C=O&&O.MediaStreamTrack;if(h.getUserMedia=function(v,p,d){P.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),h.mediaDevices.getUserMedia(v).then(p,d)},!(M.version>55&&"autoGainControl"in h.mediaDevices.getSupportedConstraints())){var _=function(v,p,d){p in v&&!(d in v)&&(v[d]=v[p],delete v[p])},D=h.mediaDevices.getUserMedia.bind(h.mediaDevices);if(h.mediaDevices.getUserMedia=function(v){return"object"===A(v)&&"object"===A(v.audio)&&(v=JSON.parse(JSON.stringify(v)),_(v.audio,"autoGainControl","mozAutoGainControl"),_(v.audio,"noiseSuppression","mozNoiseSuppression")),D(v)},C&&C.prototype.getSettings){var E=C.prototype.getSettings;C.prototype.getSettings=function(){var v=E.apply(this,arguments);return _(v,"mozAutoGainControl","autoGainControl"),_(v,"mozNoiseSuppression","noiseSuppression"),v}}if(C&&C.prototype.applyConstraints){var m=C.prototype.applyConstraints;C.prototype.applyConstraints=function(v){return"audio"===this.kind&&"object"===A(v)&&(v=JSON.parse(JSON.stringify(v)),_(v,"autoGainControl","mozAutoGainControl"),_(v,"noiseSuppression","mozNoiseSuppression")),m.apply(this,[v])}}}};var P=function T(O){if(O&&O.__esModule)return O;if(null===O||"object"!=typeof O&&"function"!=typeof O)return{default:O};var M=w();if(M&&M.has(O))return M.get(O);var h={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in O)if(Object.prototype.hasOwnProperty.call(O,_)){var D=C?Object.getOwnPropertyDescriptor(O,_):null;D&&(D.get||D.set)?Object.defineProperty(h,_,D):h[_]=O[_]}return h.default=O,M&&M.set(O,h),h}($("../utils"));function w(){if("function"!=typeof WeakMap)return null;var O=new WeakMap;return w=function(){return O},O}function A(O){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(O)}},{"../utils":"iSxC"}],UuGU:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimGetDisplayMedia=function P(w,T){w.navigator.mediaDevices&&"getDisplayMedia"in w.navigator.mediaDevices||w.navigator.mediaDevices&&(w.navigator.mediaDevices.getDisplayMedia=function(A){if(!A||!A.video){var k=new DOMException("getDisplayMedia without video constraints is undefined");return k.name="NotFoundError",k.code=8,Promise.reject(k)}return!0===A.video?A.video={mediaSource:T}:A.video.mediaSource=T,w.navigator.mediaDevices.getUserMedia(A)})}},{}],Fzdr:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimOnTrack=function h(f){"object"===M(f)&&f.RTCTrackEvent&&"receiver"in f.RTCTrackEvent.prototype&&!("transceiver"in f.RTCTrackEvent.prototype)&&Object.defineProperty(f.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},F.shimPeerConnection=function C(f,b){if("object"===M(f)&&(f.RTCPeerConnection||f.mozRTCPeerConnection)){!f.RTCPeerConnection&&f.mozRTCPeerConnection&&(f.RTCPeerConnection=f.mozRTCPeerConnection),b.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(N){var j=f.RTCPeerConnection.prototype[N],B=function O(f,b,R){return b in f?Object.defineProperty(f,b,{value:R,enumerable:!0,configurable:!0,writable:!0}):f[b]=R,f}({},N,function(){return arguments[0]=new("addIceCandidate"===N?f.RTCIceCandidate:f.RTCSessionDescription)(arguments[0]),j.apply(this,arguments)});f.RTCPeerConnection.prototype[N]=B[N]});var R={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},x=f.RTCPeerConnection.prototype.getStats;f.RTCPeerConnection.prototype.getStats=function(){var[N,j,B]=arguments;return x.apply(this,[N||null]).then(function(V){if(b.version<53&&!j)try{V.forEach(function(Q){Q.type=R[Q.type]||Q.type})}catch(Q){if("TypeError"!==Q.name)throw Q;V.forEach(function(J,te){V.set(te,Object.assign({},J,{type:R[J.type]||J.type}))})}return V}).then(j,B)}}},F.shimSenderGetStats=function _(f){if("object"===M(f)&&f.RTCPeerConnection&&f.RTCRtpSender&&(!f.RTCRtpSender||!("getStats"in f.RTCRtpSender.prototype))){var b=f.RTCPeerConnection.prototype.getSenders;b&&(f.RTCPeerConnection.prototype.getSenders=function(){var x=this,N=b.apply(this,[]);return N.forEach(function(j){return j._pc=x}),N});var R=f.RTCPeerConnection.prototype.addTrack;R&&(f.RTCPeerConnection.prototype.addTrack=function(){var x=R.apply(this,arguments);return x._pc=this,x}),f.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},F.shimReceiverGetStats=function D(f){if("object"===M(f)&&f.RTCPeerConnection&&f.RTCRtpSender&&(!f.RTCRtpSender||!("getStats"in f.RTCRtpReceiver.prototype))){var b=f.RTCPeerConnection.prototype.getReceivers;b&&(f.RTCPeerConnection.prototype.getReceivers=function(){var R=this,x=b.apply(this,[]);return x.forEach(function(N){return N._pc=R}),x}),P.wrapPeerConnectionEvent(f,"track",function(R){return R.receiver._pc=R.srcElement,R}),f.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},F.shimRemoveStream=function E(f){!f.RTCPeerConnection||"removeStream"in f.RTCPeerConnection.prototype||(f.RTCPeerConnection.prototype.removeStream=function(b){var R=this;P.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(x){x.track&&b.getTracks().includes(x.track)&&R.removeTrack(x)})})},F.shimRTCDataChannel=function m(f){f.DataChannel&&!f.RTCDataChannel&&(f.RTCDataChannel=f.DataChannel)},F.shimAddTransceiver=function v(f){if("object"===M(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.addTransceiver;b&&(f.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var R=arguments[1],x=R&&"sendEncodings"in R;x&&R.sendEncodings.forEach(function(V){if("rid"in V&&!/^[a-z0-9]{0,16}$/i.test(V.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in V&&!(parseFloat(V.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in V&&!(parseFloat(V.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var N=b.apply(this,arguments);if(x){var{sender:j}=N,B=j.getParameters();"encodings"in B&&(1!==B.encodings.length||0!==Object.keys(B.encodings[0]).length)||(B.encodings=R.sendEncodings,j.sendEncodings=R.sendEncodings,this.setParametersPromises.push(j.setParameters(B).then(function(){delete j.sendEncodings}).catch(function(){delete j.sendEncodings})))}return N})}},F.shimGetParameters=function p(f){if("object"===M(f)&&f.RTCRtpSender){var b=f.RTCRtpSender.prototype.getParameters;b&&(f.RTCRtpSender.prototype.getParameters=function(){var R=b.apply(this,arguments);return"encodings"in R||(R.encodings=[].concat(this.sendEncodings||[{}])),R})}},F.shimCreateOffer=function d(f){if("object"===M(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.createOffer;f.RTCPeerConnection.prototype.createOffer=function(){var R=arguments,x=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return b.apply(x,R)}).finally(function(){x.setParametersPromises=[]}):b.apply(this,arguments)}}},F.shimCreateAnswer=function l(f){if("object"===M(f)&&f.RTCPeerConnection){var b=f.RTCPeerConnection.prototype.createAnswer;f.RTCPeerConnection.prototype.createAnswer=function(){var R=arguments,x=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return b.apply(x,R)}).finally(function(){x.setParametersPromises=[]}):b.apply(this,arguments)}}},Object.defineProperty(F,"shimGetUserMedia",{enumerable:!0,get:function(){return w.shimGetUserMedia}}),Object.defineProperty(F,"shimGetDisplayMedia",{enumerable:!0,get:function(){return T.shimGetDisplayMedia}});var P=function k(f){if(f&&f.__esModule)return f;if(null===f||"object"!=typeof f&&"function"!=typeof f)return{default:f};var b=A();if(b&&b.has(f))return b.get(f);var R={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in f)if(Object.prototype.hasOwnProperty.call(f,N)){var j=x?Object.getOwnPropertyDescriptor(f,N):null;j&&(j.get||j.set)?Object.defineProperty(R,N,j):R[N]=f[N]}return R.default=f,b&&b.set(f,R),R}($("../utils")),w=$("./getusermedia"),T=$("./getdisplaymedia");function A(){if("function"!=typeof WeakMap)return null;var f=new WeakMap;return A=function(){return f},f}function M(f){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(f)}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimLocalStreamsAPI=function k(v){if("object"===A(v)&&v.RTCPeerConnection){if("getLocalStreams"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in v.RTCPeerConnection.prototype)){var p=v.RTCPeerConnection.prototype.addTrack;v.RTCPeerConnection.prototype.addStream=function(d){var l=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(d)||this._localStreams.push(d),d.getAudioTracks().forEach(function(f){return p.call(l,f,d)}),d.getVideoTracks().forEach(function(f){return p.call(l,f,d)})},v.RTCPeerConnection.prototype.addTrack=function(d){for(var l=this,f=arguments.length,b=new Array(f>1?f-1:0),R=1;R<f;R++)b[R-1]=arguments[R];return b&&b.forEach(function(x){l._localStreams?l._localStreams.includes(x)||l._localStreams.push(x):l._localStreams=[x]}),p.apply(this,arguments)}}"removeStream"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.removeStream=function(d){var l=this;this._localStreams||(this._localStreams=[]);var f=this._localStreams.indexOf(d);if(-1!==f){this._localStreams.splice(f,1);var b=d.getTracks();this.getSenders().forEach(function(R){b.includes(R.track)&&l.removeTrack(R)})}})}},F.shimRemoteStreamsAPI=function O(v){if("object"===A(v)&&v.RTCPeerConnection&&("getRemoteStreams"in v.RTCPeerConnection.prototype||(v.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in v.RTCPeerConnection.prototype))){Object.defineProperty(v.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(d){var l=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=d),this.addEventListener("track",this._onaddstreampoly=function(f){f.streams.forEach(function(b){if(l._remoteStreams||(l._remoteStreams=[]),!l._remoteStreams.includes(b)){l._remoteStreams.push(b);var R=new Event("addstream");R.stream=b,l.dispatchEvent(R)}})})}});var p=v.RTCPeerConnection.prototype.setRemoteDescription;v.RTCPeerConnection.prototype.setRemoteDescription=function(){var d=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(function(f){if(d._remoteStreams||(d._remoteStreams=[]),!(d._remoteStreams.indexOf(f)>=0)){d._remoteStreams.push(f);var b=new Event("addstream");b.stream=f,d.dispatchEvent(b)}})}),p.apply(d,arguments)}}},F.shimCallbacksAPI=function M(v){if("object"===A(v)&&v.RTCPeerConnection){var p=v.RTCPeerConnection.prototype,d=p.createOffer,l=p.createAnswer,f=p.setLocalDescription,b=p.setRemoteDescription,R=p.addIceCandidate;p.createOffer=function(N,j){var B=arguments.length>=2?arguments[2]:arguments[0],V=d.apply(this,[B]);return j?(V.then(N,j),Promise.resolve()):V},p.createAnswer=function(N,j){var B=arguments.length>=2?arguments[2]:arguments[0],V=l.apply(this,[B]);return j?(V.then(N,j),Promise.resolve()):V};var x=function(N,j,B){var V=f.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V};p.setLocalDescription=x,p.setRemoteDescription=x=function(N,j,B){var V=b.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V},p.addIceCandidate=x=function(N,j,B){var V=R.apply(this,[N]);return B?(V.then(j,B),Promise.resolve()):V}}},F.shimGetUserMedia=function h(v){var p=v&&v.navigator;if(p.mediaDevices&&p.mediaDevices.getUserMedia){var d=p.mediaDevices,l=d.getUserMedia.bind(d);p.mediaDevices.getUserMedia=function(f){return l(C(f))}}!p.getUserMedia&&p.mediaDevices&&p.mediaDevices.getUserMedia&&(p.getUserMedia=function(f,b,R){p.mediaDevices.getUserMedia(f).then(b,R)}.bind(p))},F.shimConstraints=C,F.shimRTCIceServerUrls=function _(v){if(v.RTCPeerConnection){var p=v.RTCPeerConnection;v.RTCPeerConnection=function(d,l){if(d&&d.iceServers){for(var f=[],b=0;b<d.iceServers.length;b++){var R=d.iceServers[b];!R.hasOwnProperty("urls")&&R.hasOwnProperty("url")?(P.deprecated("RTCIceServer.url","RTCIceServer.urls"),(R=JSON.parse(JSON.stringify(R))).urls=R.url,delete R.url,f.push(R)):f.push(d.iceServers[b])}d.iceServers=f}return new p(d,l)},v.RTCPeerConnection.prototype=p.prototype,"generateCertificate"in p&&Object.defineProperty(v.RTCPeerConnection,"generateCertificate",{get:function(){return p.generateCertificate}})}},F.shimTrackEventTransceiver=function D(v){"object"===A(v)&&v.RTCTrackEvent&&"receiver"in v.RTCTrackEvent.prototype&&!("transceiver"in v.RTCTrackEvent.prototype)&&Object.defineProperty(v.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},F.shimCreateOfferLegacy=function E(v){var p=v.RTCPeerConnection.prototype.createOffer;v.RTCPeerConnection.prototype.createOffer=function(d){if(d){void 0!==d.offerToReceiveAudio&&(d.offerToReceiveAudio=!!d.offerToReceiveAudio);var l=this.getTransceivers().find(function(b){return"audio"===b.receiver.track.kind});!1===d.offerToReceiveAudio&&l?"sendrecv"===l.direction?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":"recvonly"===l.direction&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):!0!==d.offerToReceiveAudio||l||this.addTransceiver("audio"),void 0!==d.offerToReceiveVideo&&(d.offerToReceiveVideo=!!d.offerToReceiveVideo);var f=this.getTransceivers().find(function(b){return"video"===b.receiver.track.kind});!1===d.offerToReceiveVideo&&f?"sendrecv"===f.direction?f.setDirection?f.setDirection("sendonly"):f.direction="sendonly":"recvonly"===f.direction&&(f.setDirection?f.setDirection("inactive"):f.direction="inactive"):!0!==d.offerToReceiveVideo||f||this.addTransceiver("video")}return p.apply(this,arguments)}},F.shimAudioContext=function m(v){"object"!==A(v)||v.AudioContext||(v.AudioContext=v.webkitAudioContext)};var P=function T(v){if(v&&v.__esModule)return v;if(null===v||"object"!=typeof v&&"function"!=typeof v)return{default:v};var p=w();if(p&&p.has(v))return p.get(v);var d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in v)if(Object.prototype.hasOwnProperty.call(v,f)){var b=l?Object.getOwnPropertyDescriptor(v,f):null;b&&(b.get||b.set)?Object.defineProperty(d,f,b):d[f]=v[f]}return d.default=v,p&&p.set(v,d),d}($("../utils"));function w(){if("function"!=typeof WeakMap)return null;var v=new WeakMap;return w=function(){return v},v}function A(v){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function C(v){return v&&void 0!==v.video?Object.assign({},v,{video:P.compactObject(v.video)}):v}},{"../utils":"iSxC"}],GOQK:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.shimRTCIceCandidate=function M(m){if(m.RTCIceCandidate&&(!m.RTCIceCandidate||!("foundation"in m.RTCIceCandidate.prototype))){var v=m.RTCIceCandidate;m.RTCIceCandidate=function(p){if("object"===O(p)&&p.candidate&&0===p.candidate.indexOf("a=")&&((p=JSON.parse(JSON.stringify(p))).candidate=p.candidate.substr(2)),p.candidate&&p.candidate.length){var d=new v(p),l=P.default.parseCandidate(p.candidate),f=Object.assign(d,l);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new v(p)},m.RTCIceCandidate.prototype=v.prototype,w.wrapPeerConnectionEvent(m,"icecandidate",function(p){return p.candidate&&Object.defineProperty(p,"candidate",{value:new m.RTCIceCandidate(p.candidate),writable:"false"}),p})}},F.shimMaxMessageSize=function h(m,v){if(m.RTCPeerConnection){"sctp"in m.RTCPeerConnection.prototype||Object.defineProperty(m.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var p=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===v.browser&&v.version>=76){var{sdpSemantics:d}=this.getConfiguration();"plan-b"===d&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(B){if(!B||!B.sdp)return!1;var V=P.default.splitSections(B.sdp);return V.shift(),V.some(function(Q){var J=P.default.parseMLine(Q);return J&&"application"===J.kind&&-1!==J.protocol.indexOf("SCTP")})}(arguments[0])){var l,f=function(B){var V=B.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===V||V.length<2)return-1;var Q=parseInt(V[1],10);return Q!=Q?-1:Q}(arguments[0]),b=(N=f,j=65536,"firefox"===v.browser&&(j=v.version<57?-1===N?16384:2147483637:v.version<60?57===v.version?65535:65536:2147483637),j),R=function(B,V){var Q=65536;"firefox"===v.browser&&57===v.version&&(Q=65535);var J=P.default.matchPrefix(B.sdp,"a=max-message-size:");return J.length>0?Q=parseInt(J[0].substr(19),10):"firefox"===v.browser&&-1!==V&&(Q=2147483637),Q}(arguments[0],f);l=0===b&&0===R?Number.POSITIVE_INFINITY:0===b||0===R?Math.max(b,R):Math.min(b,R);var x={};Object.defineProperty(x,"maxMessageSize",{get:function(){return l}}),this._sctp=x}var N,j;return p.apply(this,arguments)}}},F.shimSendThrowTypeError=function C(m){if(m.RTCPeerConnection&&"createDataChannel"in m.RTCPeerConnection.prototype){var v=m.RTCPeerConnection.prototype.createDataChannel;m.RTCPeerConnection.prototype.createDataChannel=function(){var d=v.apply(this,arguments);return p(d,this),d},w.wrapPeerConnectionEvent(m,"datachannel",function(d){return p(d.channel,d.target),d})}function p(d,l){var f=d.send;d.send=function(){var b=arguments[0],R=b.length||b.size||b.byteLength;if("open"===d.readyState&&l.sctp&&R>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return f.apply(d,arguments)}}},F.shimConnectionState=function _(m){if(m.RTCPeerConnection&&!("connectionState"in m.RTCPeerConnection.prototype)){var v=m.RTCPeerConnection.prototype;Object.defineProperty(v,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(v,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(p){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),p&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=p)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(p){var d=v[p];v[p]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(l){var f=l.target;if(f._lastConnectionState!==f.connectionState){f._lastConnectionState=f.connectionState;var b=new Event("connectionstatechange",l);f.dispatchEvent(b)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),d.apply(this,arguments)}})}},F.removeExtmapAllowMixed=function D(m,v){if(m.RTCPeerConnection&&!("chrome"===v.browser&&v.version>=71||"safari"===v.browser&&v.version>=605)){var p=m.RTCPeerConnection.prototype.setRemoteDescription;m.RTCPeerConnection.prototype.setRemoteDescription=function(d){if(d&&d.sdp&&-1!==d.sdp.indexOf("\na=extmap-allow-mixed")){var l=d.sdp.split("\n").filter(function(f){return"a=extmap-allow-mixed"!==f.trim()}).join("\n");m.RTCSessionDescription&&d instanceof m.RTCSessionDescription?arguments[0]=new m.RTCSessionDescription({type:d.type,sdp:l}):d.sdp=l}return p.apply(this,arguments)}}},F.shimAddIceCandidateNullOrEmpty=function E(m,v){if(m.RTCPeerConnection&&m.RTCPeerConnection.prototype){var p=m.RTCPeerConnection.prototype.addIceCandidate;p&&0!==p.length&&(m.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===v.browser&&v.version<78||"firefox"===v.browser&&v.version<68||"safari"===v.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():p.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}};var P=function k(m){return m&&m.__esModule?m:{default:m}}($("sdp")),w=function A(m){if(m&&m.__esModule)return m;if(null===m||"object"!=typeof m&&"function"!=typeof m)return{default:m};var v=T();if(v&&v.has(m))return v.get(m);var p={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in m)if(Object.prototype.hasOwnProperty.call(m,l)){var f=d?Object.getOwnPropertyDescriptor(m,l):null;f&&(f.get||f.set)?Object.defineProperty(p,l,f):p[l]=m[l]}return p.default=m,v&&v.set(m,p),p}($("./utils"));function T(){if("function"!=typeof WeakMap)return null;var m=new WeakMap;return T=function(){return m},m}function O(m){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.adapterFactory=function C(){var{window:_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},E=P.log,m=P.detectBrowser(_),v={browserDetails:m,commonShim:O,extractVersion:P.extractVersion,disableLog:P.disableLog,disableWarnings:P.disableWarnings};switch(m.browser){case"chrome":if(!w||!w.shimPeerConnection||!D.shimChrome)return E("Chrome shim is not included in this adapter release."),v;if(null===m.version)return E("Chrome shim can not determine version, not shimming."),v;E("adapter.js shimming chrome."),v.browserShim=w,O.shimAddIceCandidateNullOrEmpty(_,m),w.shimGetUserMedia(_,m),w.shimMediaStream(_,m),w.shimPeerConnection(_,m),w.shimOnTrack(_,m),w.shimAddTrackRemoveTrack(_,m),w.shimGetSendersWithDtmf(_,m),w.shimGetStats(_,m),w.shimSenderReceiverGetStats(_,m),w.fixNegotiationNeeded(_,m),O.shimRTCIceCandidate(_,m),O.shimConnectionState(_,m),O.shimMaxMessageSize(_,m),O.shimSendThrowTypeError(_,m),O.removeExtmapAllowMixed(_,m);break;case"firefox":if(!A||!A.shimPeerConnection||!D.shimFirefox)return E("Firefox shim is not included in this adapter release."),v;E("adapter.js shimming firefox."),v.browserShim=A,O.shimAddIceCandidateNullOrEmpty(_,m),A.shimGetUserMedia(_,m),A.shimPeerConnection(_,m),A.shimOnTrack(_,m),A.shimRemoveStream(_,m),A.shimSenderGetStats(_,m),A.shimReceiverGetStats(_,m),A.shimRTCDataChannel(_,m),A.shimAddTransceiver(_,m),A.shimGetParameters(_,m),A.shimCreateOffer(_,m),A.shimCreateAnswer(_,m),O.shimRTCIceCandidate(_,m),O.shimConnectionState(_,m),O.shimMaxMessageSize(_,m),O.shimSendThrowTypeError(_,m);break;case"edge":if(!T||!T.shimPeerConnection||!D.shimEdge)return E("MS edge shim is not included in this adapter release."),v;E("adapter.js shimming edge."),v.browserShim=T,T.shimGetUserMedia(_,m),T.shimGetDisplayMedia(_,m),T.shimPeerConnection(_,m),T.shimReplaceTrack(_,m),O.shimMaxMessageSize(_,m),O.shimSendThrowTypeError(_,m);break;case"safari":if(!k||!D.shimSafari)return E("Safari shim is not included in this adapter release."),v;E("adapter.js shimming safari."),v.browserShim=k,O.shimAddIceCandidateNullOrEmpty(_,m),k.shimRTCIceServerUrls(_,m),k.shimCreateOfferLegacy(_,m),k.shimCallbacksAPI(_,m),k.shimLocalStreamsAPI(_,m),k.shimRemoteStreamsAPI(_,m),k.shimTrackEventTransceiver(_,m),k.shimGetUserMedia(_,m),k.shimAudioContext(_,m),O.shimRTCIceCandidate(_,m),O.shimMaxMessageSize(_,m),O.shimSendThrowTypeError(_,m),O.removeExtmapAllowMixed(_,m);break;default:E("Unsupported browser!")}return v};var P=h($("./utils")),w=h($("./chrome/chrome_shim")),T=h($("./edge/edge_shim")),A=h($("./firefox/firefox_shim")),k=h($("./safari/safari_shim")),O=h($("./common_shim"));function M(){if("function"!=typeof WeakMap)return null;var _=new WeakMap;return M=function(){return _},_}function h(_){if(_&&_.__esModule)return _;if(null===_||"object"!=typeof _&&"function"!=typeof _)return{default:_};var D=M();if(D&&D.has(_))return D.get(_);var E={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in _)if(Object.prototype.hasOwnProperty.call(_,v)){var p=m?Object.getOwnPropertyDescriptor(_,v):null;p&&(p.get||p.set)?Object.defineProperty(E,v,p):E[v]=_[v]}return E.default=_,D&&D.set(_,E),E}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;var w=(0,$("./adapter_factory.js").adapterFactory)({window:"undefined"==typeof window?void 0:window});F.default=w},{"./adapter_factory.js":"KtlG"}],sXtV:[function($,Y,F){"use strict";var P=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(F,"__esModule",{value:!0}),F.webRTCAdapter=void 0;var w=P($("webrtc-adapter"));F.webRTCAdapter=w.default},{"webrtc-adapter":"tI1X"}],I31f:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.Supports=void 0;var P=$("./adapter");F.Supports=new(function(){function w(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return w.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},w.prototype.isBrowserSupported=function(){var T=this.getBrowser(),A=this.getVersion();return!!this.supportedBrowsers.includes(T)&&("chrome"===T?A>=this.minChromeVersion:"firefox"===T?A>=this.minFirefoxVersion:"safari"===T&&!this.isIOS&&A>=this.minSafariVersion)},w.prototype.getBrowser=function(){return P.webRTCAdapter.browserDetails.browser},w.prototype.getVersion=function(){return P.webRTCAdapter.browserDetails.version||0},w.prototype.isUnifiedPlanSupported=function(){var T,A=this.getBrowser(),k=P.webRTCAdapter.browserDetails.version||0;if("chrome"===A&&k<72)return!1;if("firefox"===A&&k>=59)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var O=!1;try{(T=new RTCPeerConnection).addTransceiver("audio"),O=!0}catch(M){}finally{T&&T.close()}return O},w.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},w}())},{"./adapter":"sXtV"}],BHXf:[function($,Y,F){"use strict";var P=this&&this.__createBinding||(Object.create?function(M,h,C,_){void 0===_&&(_=C),Object.defineProperty(M,_,{enumerable:!0,get:function(){return h[C]}})}:function(M,h,C,_){void 0===_&&(_=C),M[_]=h[C]}),w=this&&this.__setModuleDefault||(Object.create?function(M,h){Object.defineProperty(M,"default",{enumerable:!0,value:h})}:function(M,h){M.default=h}),T=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var h={};if(null!=M)for(var C in M)"default"!==C&&Object.prototype.hasOwnProperty.call(M,C)&&P(h,M,C);return w(h,M),h};Object.defineProperty(F,"__esModule",{value:!0}),F.util=void 0;var A=T($("peerjs-js-binarypack")),k=$("./supports"),O={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};F.util=new(function(){function M(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=O,this.browser=k.Supports.getBrowser(),this.browserVersion=k.Supports.getVersion(),this.supports=function(){var h,C={browser:k.Supports.isBrowserSupported(),webRTC:k.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!C.webRTC)return C;try{h=new RTCPeerConnection(O),C.audioVideo=!0;var _=void 0;try{_=h.createDataChannel("_PEERJSTEST",{ordered:!0}),C.data=!0,C.reliable=!!_.ordered;try{_.binaryType="blob",C.binaryBlob=!k.Supports.isIOS}catch(D){}}catch(D){}finally{_&&_.close()}}catch(D){}finally{h&&h.close()}return C}(),this.pack=A.pack,this.unpack=A.unpack,this._dataCount=1}return M.prototype.noop=function(){},M.prototype.validateId=function(h){return!h||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(h)},M.prototype.chunk=function(h){for(var C=[],_=h.size,D=Math.ceil(_/F.util.chunkedMTU),E=0,m=0;m<_;){var v=Math.min(_,m+F.util.chunkedMTU),p=h.slice(m,v);C.push({__peerData:this._dataCount,n:E,data:p,total:D}),m=v,E++}return this._dataCount++,C},M.prototype.blobToArrayBuffer=function(h,C){var _=new FileReader;return _.onload=function(D){D.target&&C(D.target.result)},_.readAsArrayBuffer(h),_},M.prototype.binaryStringToArrayBuffer=function(h){for(var C=new Uint8Array(h.length),_=0;_<h.length;_++)C[_]=255&h.charCodeAt(_);return C.buffer},M.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},M.prototype.isSecure=function(){return"https:"===location.protocol},M}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function($,Y,F){"use strict";var P=Object.prototype.hasOwnProperty,w="~";function T(){}function A(h,C,_){this.fn=h,this.context=C,this.once=_||!1}function k(h,C,_,D,E){if("function"!=typeof _)throw new TypeError("The listener must be a function");var m=new A(_,D||h,E),v=w?w+C:C;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],m]:h._events[v].push(m):(h._events[v]=m,h._eventsCount++),h}function O(h,C){0==--h._eventsCount?h._events=new T:delete h._events[C]}function M(){this._events=new T,this._eventsCount=0}Object.create&&(T.prototype=Object.create(null),(new T).__proto__||(w=!1)),M.prototype.eventNames=function(){var h,C,_=[];if(0===this._eventsCount)return _;for(C in h=this._events)P.call(h,C)&&_.push(w?C.slice(1):C);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(h)):_},M.prototype.listeners=function(h){var _=this._events[w?w+h:h];if(!_)return[];if(_.fn)return[_.fn];for(var D=0,E=_.length,m=new Array(E);D<E;D++)m[D]=_[D].fn;return m},M.prototype.listenerCount=function(h){var _=this._events[w?w+h:h];return _?_.fn?1:_.length:0},M.prototype.emit=function(h,C,_,D,E,m){var v=w?w+h:h;if(!this._events[v])return!1;var p,d,l=this._events[v],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(h,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,C),!0;case 3:return l.fn.call(l.context,C,_),!0;case 4:return l.fn.call(l.context,C,_,D),!0;case 5:return l.fn.call(l.context,C,_,D,E),!0;case 6:return l.fn.call(l.context,C,_,D,E,m),!0}for(d=1,p=new Array(f-1);d<f;d++)p[d-1]=arguments[d];l.fn.apply(l.context,p)}else{var b,R=l.length;for(d=0;d<R;d++)switch(l[d].once&&this.removeListener(h,l[d].fn,void 0,!0),f){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,C);break;case 3:l[d].fn.call(l[d].context,C,_);break;case 4:l[d].fn.call(l[d].context,C,_,D);break;default:if(!p)for(b=1,p=new Array(f-1);b<f;b++)p[b-1]=arguments[b];l[d].fn.apply(l[d].context,p)}}return!0},M.prototype.on=function(h,C,_){return k(this,h,C,_,!1)},M.prototype.once=function(h,C,_){return k(this,h,C,_,!0)},M.prototype.removeListener=function(h,C,_,D){var E=w?w+h:h;if(!this._events[E])return this;if(!C)return O(this,E),this;var m=this._events[E];if(m.fn)m.fn!==C||D&&!m.once||_&&m.context!==_||O(this,E);else{for(var v=0,p=[],d=m.length;v<d;v++)(m[v].fn!==C||D&&!m[v].once||_&&m[v].context!==_)&&p.push(m[v]);p.length?this._events[E]=1===p.length?p[0]:p:O(this,E)}return this},M.prototype.removeAllListeners=function(h){var C;return h?this._events[C=w?w+h:h]&&O(this,C):(this._events=new T,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=w,M.EventEmitter=M,void 0!==Y&&(Y.exports=M)},{}],WOs9:[function($,Y,F){"use strict";var P=this&&this.__read||function(O,M){var h="function"==typeof Symbol&&O[Symbol.iterator];if(!h)return O;var C,_,D=h.call(O),E=[];try{for(;(void 0===M||M-- >0)&&!(C=D.next()).done;)E.push(C.value)}catch(m){_={error:m}}finally{try{C&&!C.done&&(h=D.return)&&h.call(D)}finally{if(_)throw _.error}}return E},w=this&&this.__spreadArray||function(O,M){for(var h=0,C=M.length,_=O.length;h<C;h++,_++)O[_]=M[h];return O};Object.defineProperty(F,"__esModule",{value:!0}),F.LogLevel=void 0;var T,O,A="PeerJS: ";(O=T=F.LogLevel||(F.LogLevel={}))[O.Disabled=0]="Disabled",O[O.Errors=1]="Errors",O[O.Warnings=2]="Warnings",O[O.All=3]="All";var k=function(){function O(){this._logLevel=T.Disabled}return Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(M){this._logLevel=M},enumerable:!1,configurable:!0}),O.prototype.log=function(){for(var M=[],h=0;h<arguments.length;h++)M[h]=arguments[h];this._logLevel>=T.All&&this._print.apply(this,w([T.All],P(M)))},O.prototype.warn=function(){for(var M=[],h=0;h<arguments.length;h++)M[h]=arguments[h];this._logLevel>=T.Warnings&&this._print.apply(this,w([T.Warnings],P(M)))},O.prototype.error=function(){for(var M=[],h=0;h<arguments.length;h++)M[h]=arguments[h];this._logLevel>=T.Errors&&this._print.apply(this,w([T.Errors],P(M)))},O.prototype.setLogFunction=function(M){this._print=M},O.prototype._print=function(M){for(var h=[],C=1;C<arguments.length;C++)h[C-1]=arguments[C];var _=w([A],P(h));for(var D in _)_[D]instanceof Error&&(_[D]="("+_[D].name+") "+_[D].message);M>=T.All?console.log.apply(console,w([],P(_))):M>=T.Warnings?console.warn.apply(console,w(["WARNING"],P(_))):M>=T.Errors&&console.error.apply(console,w(["ERROR"],P(_)))},O}();F.default=new k},{}],ZRYf:[function($,Y,F){"use strict";var h;Object.defineProperty(F,"__esModule",{value:!0}),F.ServerMessageType=F.SocketEventType=F.SerializationType=F.PeerErrorType=F.PeerEventType=F.ConnectionType=F.ConnectionEventType=void 0,(h=F.ConnectionEventType||(F.ConnectionEventType={})).Open="open",h.Stream="stream",h.Data="data",h.Close="close",h.Error="error",h.IceStateChanged="iceStateChanged",function(h){h.Data="data",h.Media="media"}(F.ConnectionType||(F.ConnectionType={})),function(h){h.Open="open",h.Close="close",h.Connection="connection",h.Call="call",h.Disconnected="disconnected",h.Error="error"}(F.PeerEventType||(F.PeerEventType={})),function(h){h.BrowserIncompatible="browser-incompatible",h.Disconnected="disconnected",h.InvalidID="invalid-id",h.InvalidKey="invalid-key",h.Network="network",h.PeerUnavailable="peer-unavailable",h.SslUnavailable="ssl-unavailable",h.ServerError="server-error",h.SocketError="socket-error",h.SocketClosed="socket-closed",h.UnavailableID="unavailable-id",h.WebRTC="webrtc"}(F.PeerErrorType||(F.PeerErrorType={})),function(h){h.Binary="binary",h.BinaryUTF8="binary-utf8",h.JSON="json"}(F.SerializationType||(F.SerializationType={})),function(h){h.Message="message",h.Disconnected="disconnected",h.Error="error",h.Close="close"}(F.SocketEventType||(F.SocketEventType={})),function(h){h.Heartbeat="HEARTBEAT",h.Candidate="CANDIDATE",h.Offer="OFFER",h.Answer="ANSWER",h.Open="OPEN",h.Error="ERROR",h.IdTaken="ID-TAKEN",h.InvalidKey="INVALID-KEY",h.Leave="LEAVE",h.Expire="EXPIRE"}(F.ServerMessageType||(F.ServerMessageType={}))},{}],wJlv:[function($,Y,F){"use strict";var _,P=this&&this.__extends||(_=function(D,E){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])})(D,E)},function(D,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function m(){this.constructor=D}_(D,E),D.prototype=null===E?Object.create(E):(m.prototype=E.prototype,new m)}),w=this&&this.__read||function(_,D){var E="function"==typeof Symbol&&_[Symbol.iterator];if(!E)return _;var m,v,p=E.call(_),d=[];try{for(;(void 0===D||D-- >0)&&!(m=p.next()).done;)d.push(m.value)}catch(l){v={error:l}}finally{try{m&&!m.done&&(E=p.return)&&E.call(p)}finally{if(v)throw v.error}}return d},T=this&&this.__spreadArray||function(_,D){for(var E=0,m=D.length,v=_.length;E<m;E++,v++)_[v]=D[E];return _},A=this&&this.__values||function(_){var D="function"==typeof Symbol&&Symbol.iterator,E=D&&_[D],m=0;if(E)return E.call(_);if(_&&"number"==typeof _.length)return{next:function(){return _&&m>=_.length&&(_=void 0),{value:_&&_[m++],done:!_}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")},k=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(F,"__esModule",{value:!0}),F.Socket=void 0;var O=$("eventemitter3"),M=k($("./logger")),h=$("./enums"),C=function(_){function D(E,m,v,p,d,l){void 0===l&&(l=5e3);var f=_.call(this)||this;return f.pingInterval=l,f._disconnected=!0,f._messagesQueue=[],f._baseUrl=(E?"wss://":"ws://")+m+":"+v+p+"peerjs?key="+d,f}return P(D,_),D.prototype.start=function(E,m){var v=this;this._id=E,!this._socket&&this._disconnected&&(this._socket=new WebSocket(this._baseUrl+"&id="+E+"&token="+m),this._disconnected=!1,this._socket.onmessage=function(d){var l;try{l=JSON.parse(d.data),M.default.log("Server message received:",l)}catch(f){return void M.default.log("Invalid server message",d.data)}v.emit(h.SocketEventType.Message,l)},this._socket.onclose=function(d){v._disconnected||(M.default.log("Socket closed.",d),v._cleanup(),v._disconnected=!0,v.emit(h.SocketEventType.Disconnected))},this._socket.onopen=function(){v._disconnected||(v._sendQueuedMessages(),M.default.log("Socket open"),v._scheduleHeartbeat())})},D.prototype._scheduleHeartbeat=function(){var E=this;this._wsPingTimer=setTimeout(function(){E._sendHeartbeat()},this.pingInterval)},D.prototype._sendHeartbeat=function(){if(this._wsOpen()){var E=JSON.stringify({type:h.ServerMessageType.Heartbeat});this._socket.send(E),this._scheduleHeartbeat()}else M.default.log("Cannot send heartbeat, because socket closed")},D.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},D.prototype._sendQueuedMessages=function(){var E,m,v=T([],w(this._messagesQueue));this._messagesQueue=[];try{for(var p=A(v),d=p.next();!d.done;d=p.next())this.send(d.value)}catch(f){E={error:f}}finally{try{d&&!d.done&&(m=p.return)&&m.call(p)}finally{if(E)throw E.error}}},D.prototype.send=function(E){if(!this._disconnected)if(this._id)if(E.type){if(this._wsOpen()){var m=JSON.stringify(E);this._socket.send(m)}}else this.emit(h.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(E)},D.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},D.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},D}(O.EventEmitter);F.Socket=C},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function($,Y,F){"use strict";var P=this&&this.__assign||function(){return(P=Object.assign||function(C){for(var _,D=1,E=arguments.length;D<E;D++)for(var m in _=arguments[D])Object.prototype.hasOwnProperty.call(_,m)&&(C[m]=_[m]);return C}).apply(this,arguments)},w=this&&this.__awaiter||function(C,_,D,E){return new(D||(D=Promise))(function(m,v){function p(f){try{l(E.next(f))}catch(b){v(b)}}function d(f){try{l(E.throw(f))}catch(b){v(b)}}function l(f){var b;f.done?m(f.value):(b=f.value,b instanceof D?b:new D(function(R){R(b)})).then(p,d)}l((E=E.apply(C,_||[])).next())})},T=this&&this.__generator||function(C,_){var D,E,m,v,p={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return v={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function d(l){return function(f){return function(b){if(D)throw new TypeError("Generator is already executing.");for(;p;)try{if(D=1,E&&(m=2&b[0]?E.return:b[0]?E.throw||((m=E.return)&&m.call(E),0):E.next)&&!(m=m.call(E,b[1])).done)return m;switch(E=0,m&&(b=[2&b[0],m.value]),b[0]){case 0:case 1:m=b;break;case 4:return p.label++,{value:b[1],done:!1};case 5:p.label++,E=b[1],b=[0];continue;case 7:b=p.ops.pop(),p.trys.pop();continue;default:if(!(m=(m=p.trys).length>0&&m[m.length-1])&&(6===b[0]||2===b[0])){p=0;continue}if(3===b[0]&&(!m||b[1]>m[0]&&b[1]<m[3])){p.label=b[1];break}if(6===b[0]&&p.label<m[1]){p.label=m[1],m=b;break}if(m&&p.label<m[2]){p.label=m[2],p.ops.push(b);break}m[2]&&p.ops.pop(),p.trys.pop();continue}b=_.call(C,p)}catch(R){b=[6,R],E=0}finally{D=m=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([l,f])}}},A=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(F,"__esModule",{value:!0}),F.Negotiator=void 0;var k=$("./util"),O=A($("./logger")),M=$("./enums"),h=function(){function C(_){this.connection=_}return C.prototype.startConnection=function(_){var D=this._startPeerConnection();if(this.connection.peerConnection=D,this.connection.type===M.ConnectionType.Media&&_._stream&&this._addTracksToConnection(_._stream,D),_.originator){if(this.connection.type===M.ConnectionType.Data){var E=this.connection,v=D.createDataChannel(E.label,{ordered:!!_.reliable});E.initialize(v)}this._makeOffer()}else this.handleSDP("OFFER",_.sdp)},C.prototype._startPeerConnection=function(){O.default.log("Creating RTCPeerConnection.");var _=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(_),_},C.prototype._setupListeners=function(_){var D=this,E=this.connection.peer,m=this.connection.connectionId,v=this.connection.type,p=this.connection.provider;O.default.log("Listening for ICE candidates."),_.onicecandidate=function(d){d.candidate&&d.candidate.candidate&&(O.default.log("Received ICE candidates for "+E+":",d.candidate),p.socket.send({type:M.ServerMessageType.Candidate,payload:{candidate:d.candidate,type:v,connectionId:m},dst:E}))},_.oniceconnectionstatechange=function(){switch(_.iceConnectionState){case"failed":O.default.log("iceConnectionState is failed, closing connections to "+E),D.connection.emit(M.ConnectionEventType.Error,new Error("Negotiation of connection to "+E+" failed.")),D.connection.close();break;case"closed":O.default.log("iceConnectionState is closed, closing connections to "+E),D.connection.emit(M.ConnectionEventType.Error,new Error("Connection to "+E+" closed.")),D.connection.close();break;case"disconnected":O.default.log("iceConnectionState changed to disconnected on the connection with "+E);break;case"completed":_.onicecandidate=k.util.noop}D.connection.emit(M.ConnectionEventType.IceStateChanged,_.iceConnectionState)},O.default.log("Listening for data channel"),_.ondatachannel=function(d){O.default.log("Received data channel");var l=d.channel;p.getConnection(E,m).initialize(l)},O.default.log("Listening for remote stream"),_.ontrack=function(d){O.default.log("Received remote stream");var l=d.streams[0],f=p.getConnection(E,m);f.type===M.ConnectionType.Media&&D._addStreamToMediaConnection(l,f)}},C.prototype.cleanup=function(){O.default.log("Cleaning up PeerConnection to "+this.connection.peer);var _=this.connection.peerConnection;if(_){this.connection.peerConnection=null,_.onicecandidate=_.oniceconnectionstatechange=_.ondatachannel=_.ontrack=function(){};var E=!1;if(this.connection.type===M.ConnectionType.Data){var m=this.connection.dataChannel;m&&(E=!!m.readyState&&"closed"!==m.readyState)}("closed"!==_.signalingState||E)&&_.close()}},C.prototype._makeOffer=function(){return w(this,void 0,Promise,function(){var _,D,E,m,v,p,d;return T(this,function(l){switch(l.label){case 0:_=this.connection.peerConnection,D=this.connection.provider,l.label=1;case 1:return l.trys.push([1,7,,8]),[4,_.createOffer(this.connection.options.constraints)];case 2:E=l.sent(),O.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(E.sdp=this.connection.options.sdpTransform(E.sdp)||E.sdp),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,_.setLocalDescription(E)];case 4:return l.sent(),O.default.log("Set localDescription:",E,"for:"+this.connection.peer),m={sdp:E,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:k.util.browser},this.connection.type===M.ConnectionType.Data&&(v=this.connection,m=P(P({},m),{label:v.label,reliable:v.reliable,serialization:v.serialization})),D.socket.send({type:M.ServerMessageType.Offer,payload:m,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(p=l.sent())&&(D.emitError(M.PeerErrorType.WebRTC,p),O.default.log("Failed to setLocalDescription, ",p)),[3,6];case 6:return[3,8];case 7:return d=l.sent(),D.emitError(M.PeerErrorType.WebRTC,d),O.default.log("Failed to createOffer, ",d),[3,8];case 8:return[2]}})})},C.prototype._makeAnswer=function(){return w(this,void 0,Promise,function(){var _,D,E,m,v;return T(this,function(p){switch(p.label){case 0:_=this.connection.peerConnection,D=this.connection.provider,p.label=1;case 1:return p.trys.push([1,7,,8]),[4,_.createAnswer()];case 2:E=p.sent(),O.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(E.sdp=this.connection.options.sdpTransform(E.sdp)||E.sdp),p.label=3;case 3:return p.trys.push([3,5,,6]),[4,_.setLocalDescription(E)];case 4:return p.sent(),O.default.log("Set localDescription:",E,"for:"+this.connection.peer),D.socket.send({type:M.ServerMessageType.Answer,payload:{sdp:E,type:this.connection.type,connectionId:this.connection.connectionId,browser:k.util.browser},dst:this.connection.peer}),[3,6];case 5:return m=p.sent(),D.emitError(M.PeerErrorType.WebRTC,m),O.default.log("Failed to setLocalDescription, ",m),[3,6];case 6:return[3,8];case 7:return v=p.sent(),D.emitError(M.PeerErrorType.WebRTC,v),O.default.log("Failed to create answer, ",v),[3,8];case 8:return[2]}})})},C.prototype.handleSDP=function(_,D){return w(this,void 0,Promise,function(){var E,m,v,p;return T(this,function(d){switch(d.label){case 0:D=new RTCSessionDescription(D),E=this.connection.peerConnection,m=this.connection.provider,O.default.log("Setting remote description",D),v=this,d.label=1;case 1:return d.trys.push([1,5,,6]),[4,E.setRemoteDescription(D)];case 2:return d.sent(),O.default.log("Set remoteDescription:"+_+" for:"+this.connection.peer),"OFFER"!==_?[3,4]:[4,v._makeAnswer()];case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:return p=d.sent(),m.emitError(M.PeerErrorType.WebRTC,p),O.default.log("Failed to setRemoteDescription, ",p),[3,6];case 6:return[2]}})})},C.prototype.handleCandidate=function(_){return w(this,void 0,Promise,function(){var D,E,m,v,p,d;return T(this,function(l){switch(l.label){case 0:O.default.log("handleCandidate:",_),D=_.candidate,E=_.sdpMLineIndex,m=_.sdpMid,v=this.connection.peerConnection,p=this.connection.provider,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,v.addIceCandidate(new RTCIceCandidate({sdpMid:m,sdpMLineIndex:E,candidate:D}))];case 2:return l.sent(),O.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return d=l.sent(),p.emitError(M.PeerErrorType.WebRTC,d),O.default.log("Failed to handleCandidate, ",d),[3,4];case 4:return[2]}})})},C.prototype._addTracksToConnection=function(_,D){if(O.default.log("add tracks from stream "+_.id+" to peer connection"),!D.addTrack)return O.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");_.getTracks().forEach(function(E){D.addTrack(E,_)})},C.prototype._addStreamToMediaConnection=function(_,D){O.default.log("add stream "+_.id+" to media connection "+D.connectionId),D.addStream(_)},C}();F.Negotiator=h},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function($,Y,F){"use strict";var A,P=this&&this.__extends||(A=function(k,O){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,h){M.__proto__=h}||function(M,h){for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&(M[C]=h[C])})(k,O)},function(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function M(){this.constructor=k}A(k,O),k.prototype=null===O?Object.create(O):(M.prototype=O.prototype,new M)});Object.defineProperty(F,"__esModule",{value:!0}),F.BaseConnection=void 0;var T=function(A){function k(O,M,h){var C=A.call(this)||this;return C.peer=O,C.provider=M,C.options=h,C._open=!1,C.metadata=h.metadata,C}return P(k,A),Object.defineProperty(k.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),k}($("eventemitter3").EventEmitter);F.BaseConnection=T},{eventemitter3:"JJlS"}],dbHP:[function($,Y,F){"use strict";var D,P=this&&this.__extends||(D=function(E,m){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(v[d]=p[d])})(E,m)},function(E,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=E}D(E,m),E.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)}),w=this&&this.__assign||function(){return(w=Object.assign||function(D){for(var E,m=1,v=arguments.length;m<v;m++)for(var p in E=arguments[m])Object.prototype.hasOwnProperty.call(E,p)&&(D[p]=E[p]);return D}).apply(this,arguments)},T=this&&this.__values||function(D){var E="function"==typeof Symbol&&Symbol.iterator,m=E&&D[E],v=0;if(m)return m.call(D);if(D&&"number"==typeof D.length)return{next:function(){return D&&v>=D.length&&(D=void 0),{value:D&&D[v++],done:!D}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},A=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(F,"__esModule",{value:!0}),F.MediaConnection=void 0;var k=$("./util"),O=A($("./logger")),M=$("./negotiator"),h=$("./enums"),_=function(D){function E(m,v,p){var d=D.call(this,m,v,p)||this;return d._localStream=d.options._stream,d.connectionId=d.options.connectionId||E.ID_PREFIX+k.util.randomToken(),d._negotiator=new M.Negotiator(d),d._localStream&&d._negotiator.startConnection({_stream:d._localStream,originator:!0}),d}return P(E,D),Object.defineProperty(E.prototype,"type",{get:function(){return h.ConnectionType.Media},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),E.prototype.addStream=function(m){O.default.log("Receiving stream",m),this._remoteStream=m,D.prototype.emit.call(this,h.ConnectionEventType.Stream,m)},E.prototype.handleMessage=function(m){var v=m.type,p=m.payload;switch(m.type){case h.ServerMessageType.Answer:this._negotiator.handleSDP(v,p.sdp),this._open=!0;break;case h.ServerMessageType.Candidate:this._negotiator.handleCandidate(p.candidate);break;default:O.default.warn("Unrecognized message type:"+v+" from peer:"+this.peer)}},E.prototype.answer=function(m,v){var p,d;if(void 0===v&&(v={}),this._localStream)O.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=m,v&&v.sdpTransform&&(this.options.sdpTransform=v.sdpTransform),this._negotiator.startConnection(w(w({},this.options._payload),{_stream:m}));var l=this.provider._getMessages(this.connectionId);try{for(var f=T(l),b=f.next();!b.done;b=f.next())this.handleMessage(b.value)}catch(x){p={error:x}}finally{try{b&&!b.done&&(d=f.return)&&d.call(f)}finally{if(p)throw p.error}}this._open=!0}},E.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,D.prototype.emit.call(this,h.ConnectionEventType.Close))},E.ID_PREFIX="mc_",E}($("./baseconnection").BaseConnection);F.MediaConnection=_},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function($,Y,F){"use strict";var O,P=this&&this.__extends||(O=function(M,h){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,_){C.__proto__=_}||function(C,_){for(var D in _)Object.prototype.hasOwnProperty.call(_,D)&&(C[D]=_[D])})(M,h)},function(M,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function C(){this.constructor=M}O(M,h),M.prototype=null===h?Object.create(h):(C.prototype=h.prototype,new C)}),w=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(F,"__esModule",{value:!0}),F.EncodingQueue=void 0;var T=$("eventemitter3"),A=w($("./logger")),k=function(O){function M(){var h=O.call(this)||this;return h.fileReader=new FileReader,h._queue=[],h._processing=!1,h.fileReader.onload=function(C){h._processing=!1,C.target&&h.emit("done",C.target.result),h.doNextTask()},h.fileReader.onerror=function(C){A.default.error("EncodingQueue error:",C),h._processing=!1,h.destroy(),h.emit("error",C)},h}return P(M,O),Object.defineProperty(M.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),M.prototype.enque=function(h){this.queue.push(h),this.processing||this.doNextTask()},M.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},M.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},M}(T.EventEmitter);F.EncodingQueue=k},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function($,Y,F){"use strict";var D,P=this&&this.__extends||(D=function(E,m){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(v[d]=p[d])})(E,m)},function(E,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=E}D(E,m),E.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)}),w=this&&this.__values||function(D){var E="function"==typeof Symbol&&Symbol.iterator,m=E&&D[E],v=0;if(m)return m.call(D);if(D&&"number"==typeof D.length)return{next:function(){return D&&v>=D.length&&(D=void 0),{value:D&&D[v++],done:!D}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},T=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(F,"__esModule",{value:!0}),F.DataConnection=void 0;var A=$("./util"),k=T($("./logger")),O=$("./negotiator"),M=$("./enums"),h=$("./baseconnection"),C=$("./encodingQueue"),_=function(D){function E(m,v,p){var d=D.call(this,m,v,p)||this;return d.stringify=JSON.stringify,d.parse=JSON.parse,d._buffer=[],d._bufferSize=0,d._buffering=!1,d._chunkedData={},d._encodingQueue=new C.EncodingQueue,d.connectionId=d.options.connectionId||E.ID_PREFIX+A.util.randomToken(),d.label=d.options.label||d.connectionId,d.serialization=d.options.serialization||M.SerializationType.Binary,d.reliable=!!d.options.reliable,d._encodingQueue.on("done",function(l){d._bufferedSend(l)}),d._encodingQueue.on("error",function(){k.default.error("DC#"+d.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),d.close()}),d._negotiator=new O.Negotiator(d),d._negotiator.startConnection(d.options._payload||{originator:!0}),d}return P(E,D),Object.defineProperty(E.prototype,"type",{get:function(){return M.ConnectionType.Data},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),E.prototype.initialize=function(m){this._dc=m,this._configureDataChannel()},E.prototype._configureDataChannel=function(){var m=this;A.util.supports.binaryBlob&&!A.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){k.default.log("DC#"+m.connectionId+" dc connection success"),m._open=!0,m.emit(M.ConnectionEventType.Open)},this.dataChannel.onmessage=function(v){k.default.log("DC#"+m.connectionId+" dc onmessage:",v.data),m._handleDataMessage(v)},this.dataChannel.onclose=function(){k.default.log("DC#"+m.connectionId+" dc closed for:",m.peer),m.close()}},E.prototype._handleDataMessage=function(m){var v=this,p=m.data,d=p.constructor,l=p;if(this.serialization===M.SerializationType.Binary||this.serialization===M.SerializationType.BinaryUTF8){if(d===Blob)return void A.util.blobToArrayBuffer(p,function(b){var R=A.util.unpack(b);v.emit(M.ConnectionEventType.Data,R)});if(d===ArrayBuffer)l=A.util.unpack(p);else if(d===String){var f=A.util.binaryStringToArrayBuffer(p);l=A.util.unpack(f)}}else this.serialization===M.SerializationType.JSON&&(l=this.parse(p));l.__peerData?this._handleChunk(l):D.prototype.emit.call(this,M.ConnectionEventType.Data,l)},E.prototype._handleChunk=function(m){var v=m.__peerData,p=this._chunkedData[v]||{data:[],count:0,total:m.total};if(p.data[m.n]=m.data,p.count++,this._chunkedData[v]=p,p.total===p.count){delete this._chunkedData[v];var d=new Blob(p.data);this._handleDataMessage({data:d})}},E.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,D.prototype.emit.call(this,M.ConnectionEventType.Close))},E.prototype.send=function(m,v){if(this.open)if(this.serialization===M.SerializationType.JSON)this._bufferedSend(this.stringify(m));else if(this.serialization===M.SerializationType.Binary||this.serialization===M.SerializationType.BinaryUTF8){var p=A.util.pack(m);if(!v&&p.size>A.util.chunkedMTU)return void this._sendChunks(p);A.util.supports.binaryBlob?this._bufferedSend(p):this._encodingQueue.enque(p)}else this._bufferedSend(m);else D.prototype.emit.call(this,M.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},E.prototype._bufferedSend=function(m){!this._buffering&&this._trySend(m)||(this._buffer.push(m),this._bufferSize=this._buffer.length)},E.prototype._trySend=function(m){var v=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>E.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){v._buffering=!1,v._tryBuffer()},50),!1;try{this.dataChannel.send(m)}catch(p){return k.default.error("DC#:"+this.connectionId+" Error when sending:",p),this._buffering=!0,this.close(),!1}return!0},E.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},E.prototype._sendChunks=function(m){var v,p,d=A.util.chunk(m);k.default.log("DC#"+this.connectionId+" Try to send "+d.length+" chunks...");try{for(var l=w(d),f=l.next();!f.done;f=l.next())this.send(f.value,!0)}catch(R){v={error:R}}finally{try{f&&!f.done&&(p=l.return)&&p.call(l)}finally{if(v)throw v.error}}},E.prototype.handleMessage=function(m){var v=m.payload;switch(m.type){case M.ServerMessageType.Answer:this._negotiator.handleSDP(m.type,v.sdp);break;case M.ServerMessageType.Candidate:this._negotiator.handleCandidate(v.candidate);break;default:k.default.warn("Unrecognized message type:",m.type,"from peer:",this.peer)}},E.ID_PREFIX="dc_",E.MAX_BUFFERED_AMOUNT=8388608,E}(h.BaseConnection);F.DataConnection=_},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function($,Y,F){"use strict";var P=this&&this.__awaiter||function(M,h,C,_){return new(C||(C=Promise))(function(D,E){function m(d){try{p(_.next(d))}catch(l){E(l)}}function v(d){try{p(_.throw(d))}catch(l){E(l)}}function p(d){var l;d.done?D(d.value):(l=d.value,l instanceof C?l:new C(function(f){f(l)})).then(m,v)}p((_=_.apply(M,h||[])).next())})},w=this&&this.__generator||function(M,h){var C,_,D,E,m={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return E={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function v(p){return function(d){return function(l){if(C)throw new TypeError("Generator is already executing.");for(;m;)try{if(C=1,_&&(D=2&l[0]?_.return:l[0]?_.throw||((D=_.return)&&D.call(_),0):_.next)&&!(D=D.call(_,l[1])).done)return D;switch(_=0,D&&(l=[2&l[0],D.value]),l[0]){case 0:case 1:D=l;break;case 4:return m.label++,{value:l[1],done:!1};case 5:m.label++,_=l[1],l=[0];continue;case 7:l=m.ops.pop(),m.trys.pop();continue;default:if(!(D=(D=m.trys).length>0&&D[D.length-1])&&(6===l[0]||2===l[0])){m=0;continue}if(3===l[0]&&(!D||l[1]>D[0]&&l[1]<D[3])){m.label=l[1];break}if(6===l[0]&&m.label<D[1]){m.label=D[1],D=l;break}if(D&&m.label<D[2]){m.label=D[2],m.ops.push(l);break}D[2]&&m.ops.pop(),m.trys.pop();continue}l=h.call(M,m)}catch(f){l=[6,f],_=0}finally{C=D=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([p,d])}}},T=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(F,"__esModule",{value:!0}),F.API=void 0;var A=$("./util"),k=T($("./logger")),O=function(){function M(h){this._options=h}return M.prototype._buildUrl=function(h){return(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+h+"?ts="+(new Date).getTime()+Math.random()},M.prototype.retrieveId=function(){return P(this,void 0,Promise,function(){var h,C,_,D;return w(this,function(E){switch(E.label){case 0:h=this._buildUrl("id"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(h)];case 2:if(200!==(C=E.sent()).status)throw new Error("Error. Status:"+C.status);return[2,C.text()];case 3:throw _=E.sent(),k.default.error("Error retrieving ID",_),D="","/"===this._options.path&&this._options.host!==A.util.CLOUD_HOST&&(D=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+D);case 4:return[2]}})})},M.prototype.listAllPeers=function(){return P(this,void 0,Promise,function(){var h,C,D;return w(this,function(E){switch(E.label){case 0:h=this._buildUrl("peers"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(h)];case 2:if(200!==(C=E.sent()).status)throw 401===C.status?new Error("It doesn't look like you have permission to list peers IDs. "+(this._options.host===A.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.")):new Error("Error. Status:"+C.status);return[2,C.json()];case 3:throw D=E.sent(),k.default.error("Error retrieving list peers",D),new Error("Could not get list peers from the server."+D);case 4:return[2]}})})},M}();F.API=O},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function($,Y,F){"use strict";var d,P=this&&this.__extends||(d=function(l,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,R){b.__proto__=R}||function(b,R){for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&(b[x]=R[x])})(l,f)},function(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function b(){this.constructor=l}d(l,f),l.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)}),w=this&&this.__assign||function(){return(w=Object.assign||function(d){for(var l,f=1,b=arguments.length;f<b;f++)for(var R in l=arguments[f])Object.prototype.hasOwnProperty.call(l,R)&&(d[R]=l[R]);return d}).apply(this,arguments)},T=this&&this.__values||function(d){var l="function"==typeof Symbol&&Symbol.iterator,f=l&&d[l],b=0;if(f)return f.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&b>=d.length&&(d=void 0),{value:d&&d[b++],done:!d}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},A=this&&this.__read||function(d,l){var f="function"==typeof Symbol&&d[Symbol.iterator];if(!f)return d;var b,R,x=f.call(d),N=[];try{for(;(void 0===l||l-- >0)&&!(b=x.next()).done;)N.push(b.value)}catch(j){R={error:j}}finally{try{b&&!b.done&&(f=x.return)&&f.call(x)}finally{if(R)throw R.error}}return N},k=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(F,"__esModule",{value:!0}),F.Peer=void 0;var O=$("eventemitter3"),M=$("./util"),h=k($("./logger")),C=$("./socket"),_=$("./mediaconnection"),D=$("./dataconnection"),E=$("./enums"),m=$("./api"),p=function(d){function l(f,b){var R,x=d.call(this)||this;return x._id=null,x._lastServerId=null,x._destroyed=!1,x._disconnected=!1,x._open=!1,x._connections=new Map,x._lostMessages=new Map,f&&f.constructor==Object?b=f:f&&(R=f.toString()),b=w({debug:0,host:M.util.CLOUD_HOST,port:M.util.CLOUD_PORT,path:"/",key:l.DEFAULT_KEY,token:M.util.randomToken(),config:M.util.defaultConfig},b),x._options=b,"/"===x._options.host&&(x._options.host=window.location.hostname),x._options.path&&("/"!==x._options.path[0]&&(x._options.path="/"+x._options.path),"/"!==x._options.path[x._options.path.length-1]&&(x._options.path+="/")),void 0===x._options.secure&&x._options.host!==M.util.CLOUD_HOST?x._options.secure=M.util.isSecure():x._options.host==M.util.CLOUD_HOST&&(x._options.secure=!0),x._options.logFunction&&h.default.setLogFunction(x._options.logFunction),h.default.logLevel=x._options.debug||0,x._api=new m.API(b),x._socket=x._createServerConnection(),M.util.supports.audioVideo||M.util.supports.data?R&&!M.util.validateId(R)?(x._delayedAbort(E.PeerErrorType.InvalidID,'ID "'+R+'" is invalid'),x):(R?x._initialize(R):x._api.retrieveId().then(function(N){return x._initialize(N)}).catch(function(N){return x._abort(E.PeerErrorType.ServerError,N)}),x):(x._delayedAbort(E.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),x)}return P(l,d),Object.defineProperty(l.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"connections",{get:function(){var f,b,R=Object.create(null);try{for(var x=T(this._connections),N=x.next();!N.done;N=x.next()){var j=A(N.value,2);R[j[0]]=j[1]}}catch(Q){f={error:Q}}finally{try{N&&!N.done&&(b=x.return)&&b.call(x)}finally{if(f)throw f.error}}return R},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),l.prototype._createServerConnection=function(){var f=this,b=new C.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return b.on(E.SocketEventType.Message,function(R){f._handleMessage(R)}),b.on(E.SocketEventType.Error,function(R){f._abort(E.PeerErrorType.SocketError,R)}),b.on(E.SocketEventType.Disconnected,function(){f.disconnected||(f.emitError(E.PeerErrorType.Network,"Lost connection to server."),f.disconnect())}),b.on(E.SocketEventType.Close,function(){f.disconnected||f._abort(E.PeerErrorType.SocketClosed,"Underlying socket is already closed.")}),b},l.prototype._initialize=function(f){this._id=f,this.socket.start(f,this._options.token)},l.prototype._handleMessage=function(f){var b,R,x=f.type,N=f.payload,j=f.src;switch(x){case E.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(E.PeerEventType.Open,this.id);break;case E.ServerMessageType.Error:this._abort(E.PeerErrorType.ServerError,N.msg);break;case E.ServerMessageType.IdTaken:this._abort(E.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case E.ServerMessageType.InvalidKey:this._abort(E.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case E.ServerMessageType.Leave:h.default.log("Received leave message from "+j),this._cleanupPeer(j),this._connections.delete(j);break;case E.ServerMessageType.Expire:this.emitError(E.PeerErrorType.PeerUnavailable,"Could not connect to peer "+j);break;case E.ServerMessageType.Offer:var B=N.connectionId;if((re=this.getConnection(j,B))&&(re.close(),h.default.warn("Offer received for existing Connection ID:"+B)),N.type===E.ConnectionType.Media)re=new _.MediaConnection(j,this,{connectionId:B,_payload:N,metadata:N.metadata}),this._addConnection(j,re),this.emit(E.PeerEventType.Call,re);else{if(N.type!==E.ConnectionType.Data)return void h.default.warn("Received malformed connection type:"+N.type);re=new D.DataConnection(j,this,{connectionId:B,_payload:N,metadata:N.metadata,label:N.label,serialization:N.serialization,reliable:N.reliable}),this._addConnection(j,re),this.emit(E.PeerEventType.Connection,re)}var V=this._getMessages(B);try{for(var Q=T(V),J=Q.next();!J.done;J=Q.next())re.handleMessage(J.value)}catch(Ae){b={error:Ae}}finally{try{J&&!J.done&&(R=Q.return)&&R.call(Q)}finally{if(b)throw b.error}}break;default:if(!N)return void h.default.warn("You received a malformed message from "+j+" of type "+x);var re;(re=this.getConnection(j,B=N.connectionId))&&re.peerConnection?re.handleMessage(f):B?this._storeMessage(B,f):h.default.warn("You received an unrecognized message:",f)}},l.prototype._storeMessage=function(f,b){this._lostMessages.has(f)||this._lostMessages.set(f,[]),this._lostMessages.get(f).push(b)},l.prototype._getMessages=function(f){var b=this._lostMessages.get(f);return b?(this._lostMessages.delete(f),b):[]},l.prototype.connect=function(f,b){if(void 0===b&&(b={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(E.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var R=new D.DataConnection(f,this,b);return this._addConnection(f,R),R},l.prototype.call=function(f,b,R){if(void 0===R&&(R={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(E.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(b){R._stream=b;var x=new _.MediaConnection(f,this,R);return this._addConnection(f,x),x}h.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},l.prototype._addConnection=function(f,b){h.default.log("add connection "+b.type+":"+b.connectionId+" to peerId:"+f),this._connections.has(f)||this._connections.set(f,[]),this._connections.get(f).push(b)},l.prototype._removeConnection=function(f){var b=this._connections.get(f.peer);if(b){var R=b.indexOf(f);-1!==R&&b.splice(R,1)}this._lostMessages.delete(f.connectionId)},l.prototype.getConnection=function(f,b){var R,x,N=this._connections.get(f);if(!N)return null;try{for(var j=T(N),B=j.next();!B.done;B=j.next()){var V=B.value;if(V.connectionId===b)return V}}catch(Q){R={error:Q}}finally{try{B&&!B.done&&(x=j.return)&&x.call(j)}finally{if(R)throw R.error}}return null},l.prototype._delayedAbort=function(f,b){var R=this;setTimeout(function(){R._abort(f,b)},0)},l.prototype._abort=function(f,b){h.default.error("Aborting!"),this.emitError(f,b),this._lastServerId?this.disconnect():this.destroy()},l.prototype.emitError=function(f,b){var R;h.default.error("Error:",b),(R="string"==typeof b?new Error(b):b).type=f,this.emit(E.PeerEventType.Error,R)},l.prototype.destroy=function(){this.destroyed||(h.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(E.PeerEventType.Close))},l.prototype._cleanup=function(){var f,b;try{for(var R=T(this._connections.keys()),x=R.next();!x.done;x=R.next()){var N=x.value;this._cleanupPeer(N),this._connections.delete(N)}}catch(j){f={error:j}}finally{try{x&&!x.done&&(b=R.return)&&b.call(R)}finally{if(f)throw f.error}}this.socket.removeAllListeners()},l.prototype._cleanupPeer=function(f){var b,R,x=this._connections.get(f);if(x)try{for(var N=T(x),j=N.next();!j.done;j=N.next())j.value.close()}catch(B){b={error:B}}finally{try{j&&!j.done&&(R=N.return)&&R.call(N)}finally{if(b)throw b.error}}},l.prototype.disconnect=function(){if(!this.disconnected){var f=this.id;h.default.log("Disconnect peer with ID:"+f),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=f,this._id=null,this.emit(E.PeerEventType.Disconnected,f)}},l.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)h.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");h.default.error("In a hurry? We're still trying to make the initial connection!")}},l.prototype.listAllPeers=function(f){var b=this;void 0===f&&(f=function(R){}),this._api.listAllPeers().then(function(R){return f(R)}).catch(function(R){return b._abort(E.PeerErrorType.ServerError,R)})},l.DEFAULT_KEY="peerjs",l}(O.EventEmitter);F.Peer=p},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function($,Y,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.peerjs=void 0;var P=$("./util"),w=$("./peer");F.peerjs={Peer:w.Peer,util:P.util},F.default=w.Peer,window.peerjs=F.peerjs,window.Peer=w.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])},784:Or=>{function Qn(Jn){var $=new Error("Cannot find module '"+Jn+"'");throw $.code="MODULE_NOT_FOUND",$}Qn.keys=()=>[],Qn.resolve=Qn,Qn.id=784,Or.exports=Qn}},Or=>{Or(Or.s=607)}]);